const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth.lazy-C2m7nmp7.js","assets/checkbox-DSV0WZOf.js","assets/mypage.lazy-CCoZqLVT.js"])))=>i.map(i=>d[i]);
function $D(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pI={exports:{}},Sp={},mI={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.element"),WD=Symbol.for("react.portal"),qD=Symbol.for("react.fragment"),GD=Symbol.for("react.strict_mode"),KD=Symbol.for("react.profiler"),YD=Symbol.for("react.provider"),QD=Symbol.for("react.context"),XD=Symbol.for("react.forward_ref"),ZD=Symbol.for("react.suspense"),JD=Symbol.for("react.memo"),eL=Symbol.for("react.lazy"),C1=Symbol.iterator;function tL(e){return e===null||typeof e!="object"?null:(e=C1&&e[C1]||e["@@iterator"],typeof e=="function"?e:null)}var gI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_I=Object.assign,yI={};function Tu(e,t,n){this.props=e,this.context=t,this.refs=yI,this.updater=n||gI}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function EI(){}EI.prototype=Tu.prototype;function qy(e,t,n){this.props=e,this.context=t,this.refs=yI,this.updater=n||gI}var Gy=qy.prototype=new EI;Gy.constructor=qy;_I(Gy,Tu.prototype);Gy.isPureReactComponent=!0;var I1=Array.isArray,vI=Object.prototype.hasOwnProperty,Ky={current:null},TI={key:!0,ref:!0,__self:!0,__source:!0};function wI(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vI.call(t,r)&&!TI.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$c,type:e,key:s,ref:o,props:i,_owner:Ky.current}}function nL(e,t){return{$$typeof:$c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yy(e){return typeof e=="object"&&e!==null&&e.$$typeof===$c}function rL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var A1=/\/+/g;function Ym(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rL(""+e.key):t.toString(36)}function Ph(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $c:case WD:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ym(o,0):r,I1(i)?(n="",e!=null&&(n=e.replace(A1,"$&/")+"/"),Ph(i,t,n,"",function(l){return l})):i!=null&&(Yy(i)&&(i=nL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(A1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",I1(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Ym(s,a);o+=Ph(s,t,n,u,i)}else if(u=tL(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Ym(s,a++),o+=Ph(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(e,t,n){if(e==null)return e;var r=[],i=0;return Ph(e,r,"","",function(s){return t.call(n,s,i++)}),r}function iL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},Nh={transition:null},sL={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:Ky};function SI(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Hd,forEach:function(e,t,n){Hd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hd(e,function(){t++}),t},toArray:function(e){return Hd(e,function(t){return t})||[]},only:function(e){if(!Yy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=Tu;Be.Fragment=qD;Be.Profiler=KD;Be.PureComponent=qy;Be.StrictMode=GD;Be.Suspense=ZD;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sL;Be.act=SI;Be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_I({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ky.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)vI.call(t,u)&&!TI.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:$c,type:e.type,key:i,ref:s,props:r,_owner:o}};Be.createContext=function(e){return e={$$typeof:QD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YD,_context:e},e.Consumer=e};Be.createElement=wI;Be.createFactory=function(e){var t=wI.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:XD,render:e}};Be.isValidElement=Yy;Be.lazy=function(e){return{$$typeof:eL,_payload:{_status:-1,_result:e},_init:iL}};Be.memo=function(e,t){return{$$typeof:JD,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=Nh.transition;Nh.transition={};try{e()}finally{Nh.transition=t}};Be.unstable_act=SI;Be.useCallback=function(e,t){return Rn.current.useCallback(e,t)};Be.useContext=function(e){return Rn.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};Be.useEffect=function(e,t){return Rn.current.useEffect(e,t)};Be.useId=function(){return Rn.current.useId()};Be.useImperativeHandle=function(e,t,n){return Rn.current.useImperativeHandle(e,t,n)};Be.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return Rn.current.useMemo(e,t)};Be.useReducer=function(e,t,n){return Rn.current.useReducer(e,t,n)};Be.useRef=function(e){return Rn.current.useRef(e)};Be.useState=function(e){return Rn.current.useState(e)};Be.useSyncExternalStore=function(e,t,n){return Rn.current.useSyncExternalStore(e,t,n)};Be.useTransition=function(){return Rn.current.useTransition()};Be.version="18.3.1";mI.exports=Be;var x=mI.exports;const Ar=wp(x),bI=$D({__proto__:null,default:Ar},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL=x,aL=Symbol.for("react.element"),uL=Symbol.for("react.fragment"),lL=Object.prototype.hasOwnProperty,cL=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dL={key:!0,ref:!0,__self:!0,__source:!0};function CI(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)lL.call(t,r)&&!dL.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aL,type:e,key:s,ref:o,props:i,_owner:cL.current}}Sp.Fragment=uL;Sp.jsx=CI;Sp.jsxs=CI;pI.exports=Sp;var C=pI.exports,x0={},II={exports:{}},or={},AI={exports:{}},RI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,oe){var F=K.length;K.push(oe);e:for(;0<F;){var pe=F-1>>>1,ve=K[pe];if(0<i(ve,oe))K[pe]=oe,K[F]=ve,F=pe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],F=K.pop();if(F!==oe){K[0]=F;e:for(var pe=0,ve=K.length,B=ve>>>1;pe<B;){var ge=2*(pe+1)-1,xe=K[ge],Ee=ge+1,Fe=K[Ee];if(0>i(xe,F))Ee<ve&&0>i(Fe,xe)?(K[pe]=Fe,K[Ee]=F,pe=Ee):(K[pe]=xe,K[ge]=F,pe=ge);else if(Ee<ve&&0>i(Fe,F))K[pe]=Fe,K[Ee]=F,pe=Ee;else break e}}return oe}function i(K,oe){var F=K.sortIndex-oe.sortIndex;return F!==0?F:K.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,p=!1,_=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(K){for(var oe=n(l);oe!==null;){if(oe.callback===null)r(l);else if(oe.startTime<=K)r(l),oe.sortIndex=oe.expirationTime,t(u,oe);else break;oe=n(l)}}function k(K){if(E=!1,w(K),!_)if(n(u)!==null)_=!0,le(U);else{var oe=n(l);oe!==null&&fe(k,oe.startTime-K)}}function U(K,oe){_=!1,E&&(E=!1,y(I),I=-1),p=!0;var F=f;try{for(w(oe),h=n(u);h!==null&&(!(h.expirationTime>oe)||K&&!D());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,f=h.priorityLevel;var ve=pe(h.expirationTime<=oe);oe=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(u)&&r(u),w(oe)}else r(u);h=n(u)}if(h!==null)var B=!0;else{var ge=n(l);ge!==null&&fe(k,ge.startTime-oe),B=!1}return B}finally{h=null,f=F,p=!1}}var L=!1,A=null,I=-1,R=5,S=-1;function D(){return!(e.unstable_now()-S<R)}function O(){if(A!==null){var K=e.unstable_now();S=K;var oe=!0;try{oe=A(!0,K)}finally{oe?N():(L=!1,A=null)}}else L=!1}var N;if(typeof v=="function")N=function(){v(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=O,N=function(){ie.postMessage(null)}}else N=function(){b(O,0)};function le(K){A=K,L||(L=!0,N())}function fe(K,oe){I=b(function(){K(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){_||p||(_=!0,le(U))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(K){switch(f){case 1:case 2:case 3:var oe=3;break;default:oe=f}var F=f;f=oe;try{return K()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var F=f;f=K;try{return oe()}finally{f=F}},e.unstable_scheduleCallback=function(K,oe,F){var pe=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?pe+F:pe):F=pe,K){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,K={id:c++,callback:oe,priorityLevel:K,startTime:F,expirationTime:ve,sortIndex:-1},F>pe?(K.sortIndex=F,t(l,K),n(u)===null&&K===n(l)&&(E?(y(I),I=-1):E=!0,fe(k,F-pe))):(K.sortIndex=ve,t(u,K),_||p||(_=!0,le(U))),K},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(K){var oe=f;return function(){var F=f;f=oe;try{return K.apply(this,arguments)}finally{f=F}}}})(RI);AI.exports=RI;var hL=AI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL=x,rr=hL;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xI=new Set,oc={};function $o(e,t){Qa(e,t),Qa(e+"Capture",t)}function Qa(e,t){for(oc[e]=t,e=0;e<t.length;e++)xI.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k0=Object.prototype.hasOwnProperty,pL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},x1={};function mL(e){return k0.call(x1,e)?!0:k0.call(R1,e)?!1:pL.test(e)?x1[e]=!0:(R1[e]=!0,!1)}function gL(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _L(e,t,n,r){if(t===null||typeof t>"u"||gL(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xn(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qy=/[\-:]([a-z])/g;function Xy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qy,Xy);nn[t]=new xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qy,Xy);nn[t]=new xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qy,Xy);nn[t]=new xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new xn(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zy(e,t,n,r){var i=nn.hasOwnProperty(t)?nn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_L(t,n,i,r)&&(n=null),r||i===null?mL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yi=fL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),ma=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),P0=Symbol.for("react.profiler"),kI=Symbol.for("react.provider"),PI=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),O0=Symbol.for("react.suspense_list"),tE=Symbol.for("react.memo"),fs=Symbol.for("react.lazy"),NI=Symbol.for("react.offscreen"),k1=Symbol.iterator;function Xu(e){return e===null||typeof e!="object"?null:(e=k1&&e[k1]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Object.assign,Qm;function gl(e){if(Qm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qm=t&&t[1]||""}return`
`+Qm+e}var Xm=!1;function Zm(e,t){if(!e||Xm)return"";Xm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Xm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gl(e):""}function yL(e){switch(e.tag){case 5:return gl(e.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return e=Zm(e.type,!1),e;case 11:return e=Zm(e.type.render,!1),e;case 1:return e=Zm(e.type,!0),e;default:return""}}function D0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ga:return"Fragment";case ma:return"Portal";case P0:return"Profiler";case Jy:return"StrictMode";case N0:return"Suspense";case O0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PI:return(e.displayName||"Context")+".Consumer";case kI:return(e._context.displayName||"Context")+".Provider";case eE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tE:return t=e.displayName||null,t!==null?t:D0(e.type)||"Memo";case fs:t=e._payload,e=e._init;try{return D0(e(t))}catch{}}return null}function EL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D0(t);case 8:return t===Jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function js(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vL(e){var t=OI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zd(e){e._valueTracker||(e._valueTracker=vL(e))}function DI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=OI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function L0(e,t){var n=t.checked;return Et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function P1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=js(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function LI(e,t){t=t.checked,t!=null&&Zy(e,"checked",t,!1)}function M0(e,t){LI(e,t);var n=js(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?F0(e,t.type,n):t.hasOwnProperty("defaultValue")&&F0(e,t.type,js(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function F0(e,t,n){(t!=="number"||cf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _l=Array.isArray;function Pa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+js(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function V0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(_l(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:js(n)}}function MI(e,t){var n=js(t.value),r=js(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function D1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $d,VI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$d.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ac(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TL=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(e){TL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kl[t]=kl[e]})});function BI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kl.hasOwnProperty(e)&&kl[e]?(""+t).trim():t+"px"}function UI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var wL=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U0(e,t){if(t){if(wL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function H0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function nE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var z0=null,Na=null,Oa=null;function L1(e){if(e=Gc(e)){if(typeof z0!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Rp(t),z0(e.stateNode,e.type,t))}}function HI(e){Na?Oa?Oa.push(e):Oa=[e]:Na=e}function jI(){if(Na){var e=Na,t=Oa;if(Oa=Na=null,L1(e),t)for(e=0;e<t.length;e++)L1(t[e])}}function zI(e,t){return e(t)}function $I(){}var Jm=!1;function WI(e,t,n){if(Jm)return e(t,n);Jm=!0;try{return zI(e,t,n)}finally{Jm=!1,(Na!==null||Oa!==null)&&($I(),jI())}}function uc(e,t){var n=e.stateNode;if(n===null)return null;var r=Rp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var $0=!1;if(Vi)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){$0=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{$0=!1}function SL(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Pl=!1,df=null,hf=!1,W0=null,bL={onError:function(e){Pl=!0,df=e}};function CL(e,t,n,r,i,s,o,a,u){Pl=!1,df=null,SL.apply(bL,arguments)}function IL(e,t,n,r,i,s,o,a,u){if(CL.apply(this,arguments),Pl){if(Pl){var l=df;Pl=!1,df=null}else throw Error(ee(198));hf||(hf=!0,W0=l)}}function Wo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M1(e){if(Wo(e)!==e)throw Error(ee(188))}function AL(e){var t=e.alternate;if(!t){if(t=Wo(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return M1(i),e;if(s===r)return M1(i),t;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function GI(e){return e=AL(e),e!==null?KI(e):null}function KI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KI(e);if(t!==null)return t;e=e.sibling}return null}var YI=rr.unstable_scheduleCallback,F1=rr.unstable_cancelCallback,RL=rr.unstable_shouldYield,xL=rr.unstable_requestPaint,Ct=rr.unstable_now,kL=rr.unstable_getCurrentPriorityLevel,rE=rr.unstable_ImmediatePriority,QI=rr.unstable_UserBlockingPriority,ff=rr.unstable_NormalPriority,PL=rr.unstable_LowPriority,XI=rr.unstable_IdlePriority,bp=null,Zr=null;function NL(e){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(bp,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:LL,OL=Math.log,DL=Math.LN2;function LL(e){return e>>>=0,e===0?32:31-(OL(e)/DL|0)|0}var Wd=64,qd=4194304;function yl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yl(a):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pr(t),i=1<<n,r|=e[n],t&=~i;return r}function ML(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Pr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ML(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function q0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZI(){var e=Wd;return Wd<<=1,!(Wd&4194240)&&(Wd=64),e}function eg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=n}function VL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function iE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var et=0;function JI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eA,sE,tA,nA,rA,G0=!1,Gd=[],Rs=null,xs=null,ks=null,lc=new Map,cc=new Map,gs=[],BL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V1(e,t){switch(e){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":lc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(t.pointerId)}}function Ju(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Gc(t),t!==null&&sE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function UL(e,t,n,r,i){switch(t){case"focusin":return Rs=Ju(Rs,e,t,n,r,i),!0;case"dragenter":return xs=Ju(xs,e,t,n,r,i),!0;case"mouseover":return ks=Ju(ks,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return lc.set(s,Ju(lc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cc.set(s,Ju(cc.get(s)||null,e,t,n,r,i)),!0}return!1}function iA(e){var t=_o(e.target);if(t!==null){var n=Wo(t);if(n!==null){if(t=n.tag,t===13){if(t=qI(n),t!==null){e.blockedOn=t,rA(e.priority,function(){tA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=K0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);j0=r,n.target.dispatchEvent(r),j0=null}else return t=Gc(n),t!==null&&sE(t),e.blockedOn=n,!1;t.shift()}return!0}function B1(e,t,n){Oh(e)&&n.delete(t)}function HL(){G0=!1,Rs!==null&&Oh(Rs)&&(Rs=null),xs!==null&&Oh(xs)&&(xs=null),ks!==null&&Oh(ks)&&(ks=null),lc.forEach(B1),cc.forEach(B1)}function el(e,t){e.blockedOn===t&&(e.blockedOn=null,G0||(G0=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,HL)))}function dc(e){function t(i){return el(i,e)}if(0<Gd.length){el(Gd[0],e);for(var n=1;n<Gd.length;n++){var r=Gd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rs!==null&&el(Rs,e),xs!==null&&el(xs,e),ks!==null&&el(ks,e),lc.forEach(t),cc.forEach(t),n=0;n<gs.length;n++)r=gs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gs.length&&(n=gs[0],n.blockedOn===null);)iA(n),n.blockedOn===null&&gs.shift()}var Da=Yi.ReactCurrentBatchConfig,mf=!0;function jL(e,t,n,r){var i=et,s=Da.transition;Da.transition=null;try{et=1,oE(e,t,n,r)}finally{et=i,Da.transition=s}}function zL(e,t,n,r){var i=et,s=Da.transition;Da.transition=null;try{et=4,oE(e,t,n,r)}finally{et=i,Da.transition=s}}function oE(e,t,n,r){if(mf){var i=K0(e,t,n,r);if(i===null)cg(e,t,r,gf,n),V1(e,r);else if(UL(i,e,t,n,r))r.stopPropagation();else if(V1(e,r),t&4&&-1<BL.indexOf(e)){for(;i!==null;){var s=Gc(i);if(s!==null&&eA(s),s=K0(e,t,n,r),s===null&&cg(e,t,r,gf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cg(e,t,r,null,n)}}var gf=null;function K0(e,t,n,r){if(gf=null,e=nE(r),e=_o(e),e!==null)if(t=Wo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gf=e,null}function sA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kL()){case rE:return 1;case QI:return 4;case ff:case PL:return 16;case XI:return 536870912;default:return 16}default:return 16}}var Ss=null,aE=null,Dh=null;function oA(){if(Dh)return Dh;var e,t=aE,n=t.length,r,i="value"in Ss?Ss.value:Ss.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Dh=i.slice(e,1<r?1-r:void 0)}function Lh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kd(){return!0}function U1(){return!1}function ar(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kd:U1,this.isPropagationStopped=U1,this}return Et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kd)},persist:function(){},isPersistent:Kd}),t}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uE=ar(wu),qc=Et({},wu,{view:0,detail:0}),$L=ar(qc),tg,ng,tl,Cp=Et({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(tg=e.screenX-tl.screenX,ng=e.screenY-tl.screenY):ng=tg=0,tl=e),tg)},movementY:function(e){return"movementY"in e?e.movementY:ng}}),H1=ar(Cp),WL=Et({},Cp,{dataTransfer:0}),qL=ar(WL),GL=Et({},qc,{relatedTarget:0}),rg=ar(GL),KL=Et({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),YL=ar(KL),QL=Et({},wu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XL=ar(QL),ZL=Et({},wu,{data:0}),j1=ar(ZL),JL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tM[e])?!!t[e]:!1}function lE(){return nM}var rM=Et({},qc,{key:function(e){if(e.key){var t=JL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lE,charCode:function(e){return e.type==="keypress"?Lh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iM=ar(rM),sM=Et({},Cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z1=ar(sM),oM=Et({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lE}),aM=ar(oM),uM=Et({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),lM=ar(uM),cM=Et({},Cp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dM=ar(cM),hM=[9,13,27,32],cE=Vi&&"CompositionEvent"in window,Nl=null;Vi&&"documentMode"in document&&(Nl=document.documentMode);var fM=Vi&&"TextEvent"in window&&!Nl,aA=Vi&&(!cE||Nl&&8<Nl&&11>=Nl),$1=" ",W1=!1;function uA(e,t){switch(e){case"keyup":return hM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function pM(e,t){switch(e){case"compositionend":return lA(t);case"keypress":return t.which!==32?null:(W1=!0,$1);case"textInput":return e=t.data,e===$1&&W1?null:e;default:return null}}function mM(e,t){if(_a)return e==="compositionend"||!cE&&uA(e,t)?(e=oA(),Dh=aE=Ss=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aA&&t.locale!=="ko"?null:t.data;default:return null}}var gM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gM[e.type]:t==="textarea"}function cA(e,t,n,r){HI(r),t=_f(t,"onChange"),0<t.length&&(n=new uE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ol=null,hc=null;function _M(e){TA(e,0)}function Ip(e){var t=va(e);if(DI(t))return e}function yM(e,t){if(e==="change")return t}var dA=!1;if(Vi){var ig;if(Vi){var sg="oninput"in document;if(!sg){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),sg=typeof G1.oninput=="function"}ig=sg}else ig=!1;dA=ig&&(!document.documentMode||9<document.documentMode)}function K1(){Ol&&(Ol.detachEvent("onpropertychange",hA),hc=Ol=null)}function hA(e){if(e.propertyName==="value"&&Ip(hc)){var t=[];cA(t,hc,e,nE(e)),WI(_M,t)}}function EM(e,t,n){e==="focusin"?(K1(),Ol=t,hc=n,Ol.attachEvent("onpropertychange",hA)):e==="focusout"&&K1()}function vM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ip(hc)}function TM(e,t){if(e==="click")return Ip(t)}function wM(e,t){if(e==="input"||e==="change")return Ip(t)}function SM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:SM;function fc(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!k0.call(t,i)||!Mr(e[i],t[i]))return!1}return!0}function Y1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Q1(e,t){var n=Y1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y1(n)}}function fA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pA(){for(var e=window,t=cf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cf(e.document)}return t}function dE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bM(e){var t=pA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fA(n.ownerDocument.documentElement,n)){if(r!==null&&dE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Q1(n,s);var o=Q1(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CM=Vi&&"documentMode"in document&&11>=document.documentMode,ya=null,Y0=null,Dl=null,Q0=!1;function X1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Q0||ya==null||ya!==cf(r)||(r=ya,"selectionStart"in r&&dE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&fc(Dl,r)||(Dl=r,r=_f(Y0,"onSelect"),0<r.length&&(t=new uE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ya)))}function Yd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:Yd("Animation","AnimationEnd"),animationiteration:Yd("Animation","AnimationIteration"),animationstart:Yd("Animation","AnimationStart"),transitionend:Yd("Transition","TransitionEnd")},og={},mA={};Vi&&(mA=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ap(e){if(og[e])return og[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mA)return og[e]=t[n];return e}var gA=Ap("animationend"),_A=Ap("animationiteration"),yA=Ap("animationstart"),EA=Ap("transitionend"),vA=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(e,t){vA.set(e,t),$o(t,[e])}for(var ag=0;ag<Z1.length;ag++){var ug=Z1[ag],IM=ug.toLowerCase(),AM=ug[0].toUpperCase()+ug.slice(1);Zs(IM,"on"+AM)}Zs(gA,"onAnimationEnd");Zs(_A,"onAnimationIteration");Zs(yA,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(EA,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RM=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function J1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,IL(r,t,void 0,e),e.currentTarget=null}function TA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;J1(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;J1(i,a,l),s=u}}}if(hf)throw e=W0,hf=!1,W0=null,e}function ht(e,t){var n=t[t_];n===void 0&&(n=t[t_]=new Set);var r=e+"__bubble";n.has(r)||(wA(t,e,2,!1),n.add(r))}function lg(e,t,n){var r=0;t&&(r|=4),wA(n,e,r,t)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[Qd]){e[Qd]=!0,xI.forEach(function(n){n!=="selectionchange"&&(RM.has(n)||lg(n,!1,e),lg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qd]||(t[Qd]=!0,lg("selectionchange",!1,t))}}function wA(e,t,n,r){switch(sA(t)){case 1:var i=jL;break;case 4:i=zL;break;default:i=oE}n=i.bind(null,t,n,e),i=void 0,!$0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cg(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_o(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WI(function(){var l=s,c=nE(n),h=[];e:{var f=vA.get(e);if(f!==void 0){var p=uE,_=e;switch(e){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":p=iM;break;case"focusin":_="focus",p=rg;break;case"focusout":_="blur",p=rg;break;case"beforeblur":case"afterblur":p=rg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aM;break;case gA:case _A:case yA:p=YL;break;case EA:p=lM;break;case"scroll":p=$L;break;case"wheel":p=dM;break;case"copy":case"cut":case"paste":p=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=z1}var E=(t&4)!==0,b=!E&&e==="scroll",y=E?f!==null?f+"Capture":null:f;E=[];for(var v=l,w;v!==null;){w=v;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,y!==null&&(k=uc(v,y),k!=null&&E.push(mc(v,k,w)))),b)break;v=v.return}0<E.length&&(f=new p(f,_,null,n,c),h.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==j0&&(_=n.relatedTarget||n.fromElement)&&(_o(_)||_[Bi]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=l,_=_?_o(_):null,_!==null&&(b=Wo(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=l),p!==_)){if(E=H1,k="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(E=z1,k="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?f:va(p),w=_==null?f:va(_),f=new E(k,v+"leave",p,n,c),f.target=b,f.relatedTarget=w,k=null,_o(c)===l&&(E=new E(y,v+"enter",_,n,c),E.target=w,E.relatedTarget=b,k=E),b=k,p&&_)t:{for(E=p,y=_,v=0,w=E;w;w=ia(w))v++;for(w=0,k=y;k;k=ia(k))w++;for(;0<v-w;)E=ia(E),v--;for(;0<w-v;)y=ia(y),w--;for(;v--;){if(E===y||y!==null&&E===y.alternate)break t;E=ia(E),y=ia(y)}E=null}else E=null;p!==null&&ew(h,f,p,E,!1),_!==null&&b!==null&&ew(h,b,_,E,!0)}}e:{if(f=l?va(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var U=yM;else if(q1(f))if(dA)U=wM;else{U=vM;var L=EM}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(U=TM);if(U&&(U=U(e,l))){cA(h,U,n,c);break e}L&&L(e,f,l),e==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&F0(f,"number",f.value)}switch(L=l?va(l):window,e){case"focusin":(q1(L)||L.contentEditable==="true")&&(ya=L,Y0=l,Dl=null);break;case"focusout":Dl=Y0=ya=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,X1(h,n,c);break;case"selectionchange":if(CM)break;case"keydown":case"keyup":X1(h,n,c)}var A;if(cE)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else _a?uA(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aA&&n.locale!=="ko"&&(_a||I!=="onCompositionStart"?I==="onCompositionEnd"&&_a&&(A=oA()):(Ss=c,aE="value"in Ss?Ss.value:Ss.textContent,_a=!0)),L=_f(l,I),0<L.length&&(I=new j1(I,e,null,n,c),h.push({event:I,listeners:L}),A?I.data=A:(A=lA(n),A!==null&&(I.data=A)))),(A=fM?pM(e,n):mM(e,n))&&(l=_f(l,"onBeforeInput"),0<l.length&&(c=new j1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=A))}TA(h,t)})}function mc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _f(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uc(e,n),s!=null&&r.unshift(mc(e,s,i)),s=uc(e,t),s!=null&&r.push(mc(e,s,i))),e=e.return}return r}function ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ew(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=uc(n,s),u!=null&&o.unshift(mc(n,u,a))):i||(u=uc(n,s),u!=null&&o.push(mc(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xM=/\r\n?/g,kM=/\u0000|\uFFFD/g;function tw(e){return(typeof e=="string"?e:""+e).replace(xM,`
`).replace(kM,"")}function Xd(e,t,n){if(t=tw(t),tw(e)!==t&&n)throw Error(ee(425))}function yf(){}var X0=null,Z0=null;function J0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var e_=typeof setTimeout=="function"?setTimeout:void 0,PM=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,NM=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(e){return nw.resolve(null).then(e).catch(OM)}:e_;function OM(e){setTimeout(function(){throw e})}function dg(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),dc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dc(t)}function Ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Su=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Su,gc="__reactProps$"+Su,Bi="__reactContainer$"+Su,t_="__reactEvents$"+Su,DM="__reactListeners$"+Su,LM="__reactHandles$"+Su;function _o(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bi]||n[Qr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rw(e);e!==null;){if(n=e[Qr])return n;e=rw(e)}return t}e=n,n=e.parentNode}return null}function Gc(e){return e=e[Qr]||e[Bi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Rp(e){return e[gc]||null}var n_=[],Ta=-1;function Js(e){return{current:e}}function pt(e){0>Ta||(e.current=n_[Ta],n_[Ta]=null,Ta--)}function ot(e,t){Ta++,n_[Ta]=e.current,e.current=t}var zs={},gn=Js(zs),Fn=Js(!1),ko=zs;function Xa(e,t){var n=e.type.contextTypes;if(!n)return zs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vn(e){return e=e.childContextTypes,e!=null}function Ef(){pt(Fn),pt(gn)}function iw(e,t,n){if(gn.current!==zs)throw Error(ee(168));ot(gn,t),ot(Fn,n)}function SA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,EL(e)||"Unknown",i));return Et({},n,r)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zs,ko=gn.current,ot(gn,e),ot(Fn,Fn.current),!0}function sw(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=SA(e,t,ko),r.__reactInternalMemoizedMergedChildContext=e,pt(Fn),pt(gn),ot(gn,e)):pt(Fn),ot(Fn,n)}var Ci=null,xp=!1,hg=!1;function bA(e){Ci===null?Ci=[e]:Ci.push(e)}function MM(e){xp=!0,bA(e)}function eo(){if(!hg&&Ci!==null){hg=!0;var e=0,t=et;try{var n=Ci;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ci=null,xp=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(e+1)),YI(rE,eo),i}finally{et=t,hg=!1}}return null}var wa=[],Sa=0,Tf=null,wf=0,hr=[],fr=0,Po=null,Ai=1,Ri="";function co(e,t){wa[Sa++]=wf,wa[Sa++]=Tf,Tf=e,wf=t}function CA(e,t,n){hr[fr++]=Ai,hr[fr++]=Ri,hr[fr++]=Po,Po=e;var r=Ai;e=Ri;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var s=32-Pr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ai=1<<32-Pr(t)+i|n<<i|r,Ri=s+e}else Ai=1<<s|n<<i|r,Ri=e}function hE(e){e.return!==null&&(co(e,1),CA(e,1,0))}function fE(e){for(;e===Tf;)Tf=wa[--Sa],wa[Sa]=null,wf=wa[--Sa],wa[Sa]=null;for(;e===Po;)Po=hr[--fr],hr[fr]=null,Ri=hr[--fr],hr[fr]=null,Ai=hr[--fr],hr[fr]=null}var er=null,Xn=null,gt=!1,kr=null;function IA(e,t){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ow(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Xn=Ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Po!==null?{id:Ai,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,er=e,Xn=null,!0):!1;default:return!1}}function r_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function i_(e){if(gt){var t=Xn;if(t){var n=t;if(!ow(e,t)){if(r_(e))throw Error(ee(418));t=Ps(n.nextSibling);var r=er;t&&ow(e,t)?IA(r,n):(e.flags=e.flags&-4097|2,gt=!1,er=e)}}else{if(r_(e))throw Error(ee(418));e.flags=e.flags&-4097|2,gt=!1,er=e}}}function aw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Zd(e){if(e!==er)return!1;if(!gt)return aw(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!J0(e.type,e.memoizedProps)),t&&(t=Xn)){if(r_(e))throw AA(),Error(ee(418));for(;t;)IA(e,t),t=Ps(t.nextSibling)}if(aw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xn=Ps(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xn=null}}else Xn=er?Ps(e.stateNode.nextSibling):null;return!0}function AA(){for(var e=Xn;e;)e=Ps(e.nextSibling)}function Za(){Xn=er=null,gt=!1}function pE(e){kr===null?kr=[e]:kr.push(e)}var FM=Yi.ReactCurrentBatchConfig;function nl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Jd(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uw(e){var t=e._init;return t(e._payload)}function RA(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Ls(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,w,k){return v===null||v.tag!==6?(v=Eg(w,y.mode,k),v.return=y,v):(v=i(v,w),v.return=y,v)}function u(y,v,w,k){var U=w.type;return U===ga?c(y,v,w.props.children,k,w.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===fs&&uw(U)===v.type)?(k=i(v,w.props),k.ref=nl(y,v,w),k.return=y,k):(k=jh(w.type,w.key,w.props,null,y.mode,k),k.ref=nl(y,v,w),k.return=y,k)}function l(y,v,w,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=vg(w,y.mode,k),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function c(y,v,w,k,U){return v===null||v.tag!==7?(v=Co(w,y.mode,k,U),v.return=y,v):(v=i(v,w),v.return=y,v)}function h(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Eg(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jd:return w=jh(v.type,v.key,v.props,null,y.mode,w),w.ref=nl(y,null,v),w.return=y,w;case ma:return v=vg(v,y.mode,w),v.return=y,v;case fs:var k=v._init;return h(y,k(v._payload),w)}if(_l(v)||Xu(v))return v=Co(v,y.mode,w,null),v.return=y,v;Jd(y,v)}return null}function f(y,v,w,k){var U=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return U!==null?null:a(y,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jd:return w.key===U?u(y,v,w,k):null;case ma:return w.key===U?l(y,v,w,k):null;case fs:return U=w._init,f(y,v,U(w._payload),k)}if(_l(w)||Xu(w))return U!==null?null:c(y,v,w,k,null);Jd(y,w)}return null}function p(y,v,w,k,U){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(w)||null,a(v,y,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case jd:return y=y.get(k.key===null?w:k.key)||null,u(v,y,k,U);case ma:return y=y.get(k.key===null?w:k.key)||null,l(v,y,k,U);case fs:var L=k._init;return p(y,v,w,L(k._payload),U)}if(_l(k)||Xu(k))return y=y.get(w)||null,c(v,y,k,U,null);Jd(v,k)}return null}function _(y,v,w,k){for(var U=null,L=null,A=v,I=v=0,R=null;A!==null&&I<w.length;I++){A.index>I?(R=A,A=null):R=A.sibling;var S=f(y,A,w[I],k);if(S===null){A===null&&(A=R);break}e&&A&&S.alternate===null&&t(y,A),v=s(S,v,I),L===null?U=S:L.sibling=S,L=S,A=R}if(I===w.length)return n(y,A),gt&&co(y,I),U;if(A===null){for(;I<w.length;I++)A=h(y,w[I],k),A!==null&&(v=s(A,v,I),L===null?U=A:L.sibling=A,L=A);return gt&&co(y,I),U}for(A=r(y,A);I<w.length;I++)R=p(A,y,I,w[I],k),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?I:R.key),v=s(R,v,I),L===null?U=R:L.sibling=R,L=R);return e&&A.forEach(function(D){return t(y,D)}),gt&&co(y,I),U}function E(y,v,w,k){var U=Xu(w);if(typeof U!="function")throw Error(ee(150));if(w=U.call(w),w==null)throw Error(ee(151));for(var L=U=null,A=v,I=v=0,R=null,S=w.next();A!==null&&!S.done;I++,S=w.next()){A.index>I?(R=A,A=null):R=A.sibling;var D=f(y,A,S.value,k);if(D===null){A===null&&(A=R);break}e&&A&&D.alternate===null&&t(y,A),v=s(D,v,I),L===null?U=D:L.sibling=D,L=D,A=R}if(S.done)return n(y,A),gt&&co(y,I),U;if(A===null){for(;!S.done;I++,S=w.next())S=h(y,S.value,k),S!==null&&(v=s(S,v,I),L===null?U=S:L.sibling=S,L=S);return gt&&co(y,I),U}for(A=r(y,A);!S.done;I++,S=w.next())S=p(A,y,I,S.value,k),S!==null&&(e&&S.alternate!==null&&A.delete(S.key===null?I:S.key),v=s(S,v,I),L===null?U=S:L.sibling=S,L=S);return e&&A.forEach(function(O){return t(y,O)}),gt&&co(y,I),U}function b(y,v,w,k){if(typeof w=="object"&&w!==null&&w.type===ga&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case jd:e:{for(var U=w.key,L=v;L!==null;){if(L.key===U){if(U=w.type,U===ga){if(L.tag===7){n(y,L.sibling),v=i(L,w.props.children),v.return=y,y=v;break e}}else if(L.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===fs&&uw(U)===L.type){n(y,L.sibling),v=i(L,w.props),v.ref=nl(y,L,w),v.return=y,y=v;break e}n(y,L);break}else t(y,L);L=L.sibling}w.type===ga?(v=Co(w.props.children,y.mode,k,w.key),v.return=y,y=v):(k=jh(w.type,w.key,w.props,null,y.mode,k),k.ref=nl(y,v,w),k.return=y,y=k)}return o(y);case ma:e:{for(L=w.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=i(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=vg(w,y.mode,k),v.return=y,y=v}return o(y);case fs:return L=w._init,b(y,v,L(w._payload),k)}if(_l(w))return _(y,v,w,k);if(Xu(w))return E(y,v,w,k);Jd(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,w),v.return=y,y=v):(n(y,v),v=Eg(w,y.mode,k),v.return=y,y=v),o(y)):n(y,v)}return b}var Ja=RA(!0),xA=RA(!1),Sf=Js(null),bf=null,ba=null,mE=null;function gE(){mE=ba=bf=null}function _E(e){var t=Sf.current;pt(Sf),e._currentValue=t}function s_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function La(e,t){bf=e,mE=ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ln=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(mE!==e)if(e={context:e,memoizedValue:t,next:null},ba===null){if(bf===null)throw Error(ee(308));ba=e,bf.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var yo=null;function yE(e){yo===null?yo=[e]:yo.push(e)}function kA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yE(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ui(e,r)}function Ui(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ps=!1;function EE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ui(e,n)}return i=r.interleaved,i===null?(t.next=t,yE(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ui(e,n)}function Mh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,iE(e,n)}}function lw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cf(e,t,n,r){var i=e.updateQueue;ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,E=a;switch(f=t,p=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){h=_.call(p,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(p,h,f):_,f==null)break e;h=Et({},h,f);break e;case 2:ps=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Oo|=o,e.lanes=o,e.memoizedState=h}}function cw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Kc={},Jr=Js(Kc),_c=Js(Kc),yc=Js(Kc);function Eo(e){if(e===Kc)throw Error(ee(174));return e}function vE(e,t){switch(ot(yc,t),ot(_c,e),ot(Jr,Kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B0(t,e)}pt(Jr),ot(Jr,t)}function eu(){pt(Jr),pt(_c),pt(yc)}function NA(e){Eo(yc.current);var t=Eo(Jr.current),n=B0(t,e.type);t!==n&&(ot(_c,e),ot(Jr,n))}function TE(e){_c.current===e&&(pt(Jr),pt(_c))}var _t=Js(0);function If(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fg=[];function wE(){for(var e=0;e<fg.length;e++)fg[e]._workInProgressVersionPrimary=null;fg.length=0}var Fh=Yi.ReactCurrentDispatcher,pg=Yi.ReactCurrentBatchConfig,No=0,yt=null,Dt=null,zt=null,Af=!1,Ll=!1,Ec=0,VM=0;function an(){throw Error(ee(321))}function SE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function bE(e,t,n,r,i,s){if(No=s,yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fh.current=e===null||e.memoizedState===null?jM:zM,e=n(r,i),Ll){s=0;do{if(Ll=!1,Ec=0,25<=s)throw Error(ee(301));s+=1,zt=Dt=null,t.updateQueue=null,Fh.current=$M,e=n(r,i)}while(Ll)}if(Fh.current=Rf,t=Dt!==null&&Dt.next!==null,No=0,zt=Dt=yt=null,Af=!1,t)throw Error(ee(300));return e}function CE(){var e=Ec!==0;return Ec=0,e}function qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?yt.memoizedState=zt=e:zt=zt.next=e,zt}function vr(){if(Dt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=zt===null?yt.memoizedState:zt.next;if(t!==null)zt=t,Dt=e;else{if(e===null)throw Error(ee(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},zt===null?yt.memoizedState=zt=e:zt=zt.next=e}return zt}function vc(e,t){return typeof t=="function"?t(e):t}function mg(e){var t=vr(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((No&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,yt.lanes|=c,Oo|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Mr(r,t.memoizedState)||(Ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,yt.lanes|=s,Oo|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gg(e){var t=vr(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Mr(s,t.memoizedState)||(Ln=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function OA(){}function DA(e,t){var n=yt,r=vr(),i=t(),s=!Mr(r.memoizedState,i);if(s&&(r.memoizedState=i,Ln=!0),r=r.queue,IE(FA.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Tc(9,MA.bind(null,n,r,i,t),void 0,null),Wt===null)throw Error(ee(349));No&30||LA(n,t,i)}return i}function LA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MA(e,t,n,r){t.value=n,t.getSnapshot=r,VA(t)&&BA(e)}function FA(e,t,n){return n(function(){VA(t)&&BA(e)})}function VA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mr(e,n)}catch{return!0}}function BA(e){var t=Ui(e,1);t!==null&&Nr(t,e,1,-1)}function dw(e){var t=qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=HM.bind(null,yt,e),[t.memoizedState,e]}function Tc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function UA(){return vr().memoizedState}function Vh(e,t,n,r){var i=qr();yt.flags|=e,i.memoizedState=Tc(1|t,n,void 0,r===void 0?null:r)}function kp(e,t,n,r){var i=vr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&SE(r,o.deps)){i.memoizedState=Tc(t,n,s,r);return}}yt.flags|=e,i.memoizedState=Tc(1|t,n,s,r)}function hw(e,t){return Vh(8390656,8,e,t)}function IE(e,t){return kp(2048,8,e,t)}function HA(e,t){return kp(4,2,e,t)}function jA(e,t){return kp(4,4,e,t)}function zA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $A(e,t,n){return n=n!=null?n.concat([e]):null,kp(4,4,zA.bind(null,t,e),n)}function AE(){}function WA(e,t){var n=vr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&SE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qA(e,t){var n=vr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&SE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GA(e,t,n){return No&21?(Mr(n,t)||(n=ZI(),yt.lanes|=n,Oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ln=!0),e.memoizedState=n)}function BM(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=pg.transition;pg.transition={};try{e(!1),t()}finally{et=n,pg.transition=r}}function KA(){return vr().memoizedState}function UM(e,t,n){var r=Ds(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YA(e))QA(t,n);else if(n=kA(e,t,n,r),n!==null){var i=In();Nr(n,e,r,i),XA(n,t,r)}}function HM(e,t,n){var r=Ds(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YA(e))QA(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mr(a,o)){var u=t.interleaved;u===null?(i.next=i,yE(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=kA(e,t,i,r),n!==null&&(i=In(),Nr(n,e,r,i),XA(n,t,r))}}function YA(e){var t=e.alternate;return e===yt||t!==null&&t===yt}function QA(e,t){Ll=Af=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,iE(e,n)}}var Rf={readContext:Er,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},jM={readContext:Er,useCallback:function(e,t){return qr().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:hw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vh(4194308,4,zA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vh(4,2,e,t)},useMemo:function(e,t){var n=qr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=UM.bind(null,yt,e),[r.memoizedState,e]},useRef:function(e){var t=qr();return e={current:e},t.memoizedState=e},useState:dw,useDebugValue:AE,useDeferredValue:function(e){return qr().memoizedState=e},useTransition:function(){var e=dw(!1),t=e[0];return e=BM.bind(null,e[1]),qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yt,i=qr();if(gt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),Wt===null)throw Error(ee(349));No&30||LA(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,hw(FA.bind(null,r,s,e),[e]),r.flags|=2048,Tc(9,MA.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=qr(),t=Wt.identifierPrefix;if(gt){var n=Ri,r=Ai;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ec++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zM={readContext:Er,useCallback:WA,useContext:Er,useEffect:IE,useImperativeHandle:$A,useInsertionEffect:HA,useLayoutEffect:jA,useMemo:qA,useReducer:mg,useRef:UA,useState:function(){return mg(vc)},useDebugValue:AE,useDeferredValue:function(e){var t=vr();return GA(t,Dt.memoizedState,e)},useTransition:function(){var e=mg(vc)[0],t=vr().memoizedState;return[e,t]},useMutableSource:OA,useSyncExternalStore:DA,useId:KA,unstable_isNewReconciler:!1},$M={readContext:Er,useCallback:WA,useContext:Er,useEffect:IE,useImperativeHandle:$A,useInsertionEffect:HA,useLayoutEffect:jA,useMemo:qA,useReducer:gg,useRef:UA,useState:function(){return gg(vc)},useDebugValue:AE,useDeferredValue:function(e){var t=vr();return Dt===null?t.memoizedState=e:GA(t,Dt.memoizedState,e)},useTransition:function(){var e=gg(vc)[0],t=vr().memoizedState;return[e,t]},useMutableSource:OA,useSyncExternalStore:DA,useId:KA,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=Et({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function o_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Et({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pp={isMounted:function(e){return(e=e._reactInternals)?Wo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=In(),i=Ds(e),s=Li(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ns(e,s,i),t!==null&&(Nr(t,e,i,r),Mh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=In(),i=Ds(e),s=Li(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ns(e,s,i),t!==null&&(Nr(t,e,i,r),Mh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=In(),r=Ds(e),i=Li(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ns(e,i,r),t!==null&&(Nr(t,e,r,n),Mh(t,e,r))}};function fw(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!fc(n,r)||!fc(i,s):!0}function ZA(e,t,n){var r=!1,i=zs,s=t.contextType;return typeof s=="object"&&s!==null?s=Er(s):(i=Vn(t)?ko:gn.current,r=t.contextTypes,s=(r=r!=null)?Xa(e,i):zs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function pw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pp.enqueueReplaceState(t,t.state,null)}function a_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},EE(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Er(s):(s=Vn(t)?ko:gn.current,i.context=Xa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(o_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Pp.enqueueReplaceState(i,i.state,null),Cf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function tu(e,t){try{var n="",r=t;do n+=yL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function _g(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function u_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var WM=typeof WeakMap=="function"?WeakMap:Map;function JA(e,t,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kf||(kf=!0,y_=r),u_(e,t)},n}function eR(e,t,n){n=Li(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){u_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){u_(e,t),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new WM;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s3.bind(null,e,t,n),t.then(e,e))}function gw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _w(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Li(-1,1),t.tag=2,Ns(n,t,1))),n.lanes|=1),e)}var qM=Yi.ReactCurrentOwner,Ln=!1;function Sn(e,t,n,r){t.child=e===null?xA(t,null,n,r):Ja(t,e.child,n,r)}function yw(e,t,n,r,i){n=n.render;var s=t.ref;return La(t,i),r=bE(e,t,n,r,s,i),n=CE(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(gt&&n&&hE(t),t.flags|=1,Sn(e,t,r,i),t.child)}function Ew(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!LE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,tR(e,t,s,r,i)):(e=jh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fc,n(o,r)&&e.ref===t.ref)return Hi(e,t,i)}return t.flags|=1,e=Ls(s,r),e.ref=t.ref,e.return=t,t.child=e}function tR(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(fc(s,r)&&e.ref===t.ref)if(Ln=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ln=!0);else return t.lanes=e.lanes,Hi(e,t,i)}return l_(e,t,n,r,i)}function nR(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ia,Yn),Yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(Ia,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ot(Ia,Yn),Yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ot(Ia,Yn),Yn|=r;return Sn(e,t,i,n),t.child}function rR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function l_(e,t,n,r,i){var s=Vn(n)?ko:gn.current;return s=Xa(t,s),La(t,i),n=bE(e,t,n,r,s,i),r=CE(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(gt&&r&&hE(t),t.flags|=1,Sn(e,t,n,i),t.child)}function vw(e,t,n,r,i){if(Vn(n)){var s=!0;vf(t)}else s=!1;if(La(t,i),t.stateNode===null)Bh(e,t),ZA(t,n,r),a_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Er(l):(l=Vn(n)?ko:gn.current,l=Xa(t,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&pw(t,o,r,l),ps=!1;var f=t.memoizedState;o.state=f,Cf(t,r,o,i),u=t.memoizedState,a!==r||f!==u||Fn.current||ps?(typeof c=="function"&&(o_(t,n,c,r),u=t.memoizedState),(a=ps||fw(t,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,PA(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Cr(t.type,a),o.props=l,h=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Er(u):(u=Vn(n)?ko:gn.current,u=Xa(t,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&pw(t,o,r,u),ps=!1,f=t.memoizedState,o.state=f,Cf(t,r,o,i);var _=t.memoizedState;a!==h||f!==_||Fn.current||ps?(typeof p=="function"&&(o_(t,n,p,r),_=t.memoizedState),(l=ps||fw(t,n,l,r,f,_,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return c_(e,t,n,r,s,i)}function c_(e,t,n,r,i,s){rR(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&sw(t,n,!1),Hi(e,t,s);r=t.stateNode,qM.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ja(t,e.child,null,s),t.child=Ja(t,null,a,s)):Sn(e,t,a,s),t.memoizedState=r.state,i&&sw(t,n,!0),t.child}function iR(e){var t=e.stateNode;t.pendingContext?iw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iw(e,t.context,!1),vE(e,t.containerInfo)}function Tw(e,t,n,r,i){return Za(),pE(i),t.flags|=256,Sn(e,t,n,r),t.child}var d_={dehydrated:null,treeContext:null,retryLane:0};function h_(e){return{baseLanes:e,cachePool:null,transitions:null}}function sR(e,t,n){var r=t.pendingProps,i=_t.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ot(_t,i&1),e===null)return i_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dp(o,r,0,null),e=Co(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=h_(n),t.memoizedState=d_,e):RE(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GM(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ls(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=Co(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?h_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=d_,r}return s=e.child,e=s.sibling,r=Ls(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function RE(e,t){return t=Dp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eh(e,t,n,r){return r!==null&&pE(r),Ja(t,e.child,null,n),e=RE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GM(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=_g(Error(ee(422))),eh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dp({mode:"visible",children:r.children},i,0,null),s=Co(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ja(t,e.child,null,o),t.child.memoizedState=h_(o),t.memoizedState=d_,s);if(!(t.mode&1))return eh(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ee(419)),r=_g(s,r,void 0),eh(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ln||a){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ui(e,i),Nr(r,e,i,-1))}return DE(),r=_g(Error(ee(421))),eh(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=o3.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xn=Ps(i.nextSibling),er=t,gt=!0,kr=null,e!==null&&(hr[fr++]=Ai,hr[fr++]=Ri,hr[fr++]=Po,Ai=e.id,Ri=e.overflow,Po=t),t=RE(t,r.children),t.flags|=4096,t)}function ww(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),s_(e.return,t,n)}function yg(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oR(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Sn(e,t,r.children,n),r=_t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ww(e,n,t);else if(e.tag===19)ww(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ot(_t,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&If(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yg(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&If(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yg(t,!0,n,null,s);break;case"together":yg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Ls(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ls(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KM(e,t,n){switch(t.tag){case 3:iR(t),Za();break;case 5:NA(t);break;case 1:Vn(t.type)&&vf(t);break;case 4:vE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ot(Sf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ot(_t,_t.current&1),t.flags|=128,null):n&t.child.childLanes?sR(e,t,n):(ot(_t,_t.current&1),e=Hi(e,t,n),e!==null?e.sibling:null);ot(_t,_t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oR(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(_t,_t.current),r)break;return null;case 22:case 23:return t.lanes=0,nR(e,t,n)}return Hi(e,t,n)}var aR,f_,uR,lR;aR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f_=function(){};uR=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Eo(Jr.current);var s=null;switch(n){case"input":i=L0(e,i),r=L0(e,r),s=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),s=[];break;case"textarea":i=V0(e,i),r=V0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yf)}U0(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(oc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(oc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ht("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};lR=function(e,t,n,r){n!==r&&(t.flags|=4)};function rl(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function YM(e,t,n){var r=t.pendingProps;switch(fE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Vn(t.type)&&Ef(),un(t),null;case 3:return r=t.stateNode,eu(),pt(Fn),pt(gn),wE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kr!==null&&(T_(kr),kr=null))),f_(e,t),un(t),null;case 5:TE(t);var i=Eo(yc.current);if(n=t.type,e!==null&&t.stateNode!=null)uR(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return un(t),null}if(e=Eo(Jr.current),Zd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[gc]=s,e=(t.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<El.length;i++)ht(El[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":P1(r,s),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ht("invalid",r);break;case"textarea":O1(r,s),ht("invalid",r)}U0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xd(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xd(r.textContent,a,e),i=["children",""+a]):oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",r)}switch(n){case"input":zd(r),N1(r,s,!0);break;case"textarea":zd(r),D1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qr]=t,e[gc]=r,aR(e,t,!1,!1),t.stateNode=e;e:{switch(o=H0(n,r),n){case"dialog":ht("cancel",e),ht("close",e),i=r;break;case"iframe":case"object":case"embed":ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<El.length;i++)ht(El[i],e);i=r;break;case"source":ht("error",e),i=r;break;case"img":case"image":case"link":ht("error",e),ht("load",e),i=r;break;case"details":ht("toggle",e),i=r;break;case"input":P1(e,r),i=L0(e,r),ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ht("invalid",e);break;case"textarea":O1(e,r),i=V0(e,r),ht("invalid",e);break;default:i=r}U0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?UI(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&VI(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ac(e,u):typeof u=="number"&&ac(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ht("scroll",e):u!=null&&Zy(e,s,u,o))}switch(n){case"input":zd(e),N1(e,r,!1);break;case"textarea":zd(e),D1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+js(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Pa(e,!!r.multiple,s,!1):r.defaultValue!=null&&Pa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)lR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=Eo(yc.current),Eo(Jr.current),Zd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,(s=r.nodeValue!==n)&&(e=er,e!==null))switch(e.tag){case 3:Xd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qr]=t,t.stateNode=r}return un(t),null;case 13:if(pt(_t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Xn!==null&&t.mode&1&&!(t.flags&128))AA(),Za(),t.flags|=98560,s=!1;else if(s=Zd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ee(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[Qr]=t}else Za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),s=!1}else kr!==null&&(T_(kr),kr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_t.current&1?Mt===0&&(Mt=3):DE())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return eu(),f_(e,t),e===null&&pc(t.stateNode.containerInfo),un(t),null;case 10:return _E(t.type._context),un(t),null;case 17:return Vn(t.type)&&Ef(),un(t),null;case 19:if(pt(_t),s=t.memoizedState,s===null)return un(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)rl(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=If(e),o!==null){for(t.flags|=128,rl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(_t,_t.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ct()>nu&&(t.flags|=128,r=!0,rl(s,!1),t.lanes=4194304)}else{if(!r)if(e=If(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return un(t),null}else 2*Ct()-s.renderingStartTime>nu&&n!==1073741824&&(t.flags|=128,r=!0,rl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ct(),t.sibling=null,n=_t.current,ot(_t,r?n&1|2:n&1),t):(un(t),null);case 22:case 23:return OE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yn&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function QM(e,t){switch(fE(t),t.tag){case 1:return Vn(t.type)&&Ef(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eu(),pt(Fn),pt(gn),wE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return TE(t),null;case 13:if(pt(_t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(_t),null;case 4:return eu(),null;case 10:return _E(t.type._context),null;case 22:case 23:return OE(),null;case 24:return null;default:return null}}var th=!1,hn=!1,XM=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ca(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(e,t,r)}else n.current=null}function p_(e,t,n){try{n()}catch(r){St(e,t,r)}}var Sw=!1;function ZM(e,t){if(X0=mf,e=pA(),dE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=e,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Z0={focusedElem:e,selectionRange:n},mf=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,b=_.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?E:Cr(t.type,E),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(k){St(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return _=Sw,Sw=!1,_}function Ml(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&p_(t,n,s)}i=i.next}while(i!==r)}}function Np(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function m_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cR(e){var t=e.alternate;t!==null&&(e.alternate=null,cR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[gc],delete t[t_],delete t[DM],delete t[LM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dR(e){return e.tag===5||e.tag===3||e.tag===4}function bw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function g_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yf));else if(r!==4&&(e=e.child,e!==null))for(g_(e,t,n),e=e.sibling;e!==null;)g_(e,t,n),e=e.sibling}function __(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(__(e,t,n),e=e.sibling;e!==null;)__(e,t,n),e=e.sibling}var Yt=null,Rr=!1;function ss(e,t,n){for(n=n.child;n!==null;)hR(e,t,n),n=n.sibling}function hR(e,t,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(bp,n)}catch{}switch(n.tag){case 5:hn||Ca(n,t);case 6:var r=Yt,i=Rr;Yt=null,ss(e,t,n),Yt=r,Rr=i,Yt!==null&&(Rr?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Rr?(e=Yt,n=n.stateNode,e.nodeType===8?dg(e.parentNode,n):e.nodeType===1&&dg(e,n),dc(e)):dg(Yt,n.stateNode));break;case 4:r=Yt,i=Rr,Yt=n.stateNode.containerInfo,Rr=!0,ss(e,t,n),Yt=r,Rr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&p_(n,t,o),i=i.next}while(i!==r)}ss(e,t,n);break;case 1:if(!hn&&(Ca(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){St(n,t,a)}ss(e,t,n);break;case 21:ss(e,t,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,ss(e,t,n),hn=r):ss(e,t,n);break;default:ss(e,t,n)}}function Cw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XM),t.forEach(function(r){var i=a3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Rr=!1;break e;case 3:Yt=a.stateNode.containerInfo,Rr=!0;break e;case 4:Yt=a.stateNode.containerInfo,Rr=!0;break e}a=a.return}if(Yt===null)throw Error(ee(160));hR(s,o,i),Yt=null,Rr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){St(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fR(t,e),t=t.sibling}function fR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),Wr(e),r&4){try{Ml(3,e,e.return),Np(3,e)}catch(E){St(e,e.return,E)}try{Ml(5,e,e.return)}catch(E){St(e,e.return,E)}}break;case 1:br(t,e),Wr(e),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(br(t,e),Wr(e),r&512&&n!==null&&Ca(n,n.return),e.flags&32){var i=e.stateNode;try{ac(i,"")}catch(E){St(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LI(i,s),H0(a,o);var l=H0(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?UI(i,h):c==="dangerouslySetInnerHTML"?VI(i,h):c==="children"?ac(i,h):Zy(i,c,h,l)}switch(a){case"input":M0(i,s);break;case"textarea":MI(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Pa(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Pa(i,!!s.multiple,s.defaultValue,!0):Pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[gc]=s}catch(E){St(e,e.return,E)}}break;case 6:if(br(t,e),Wr(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){St(e,e.return,E)}}break;case 3:if(br(t,e),Wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(E){St(e,e.return,E)}break;case 4:br(t,e),Wr(e);break;case 13:br(t,e),Wr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PE=Ct())),r&4&&Cw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(hn=(l=hn)||c,br(t,e),hn=l):br(t,e),Wr(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(ce=e,c=e.child;c!==null;){for(h=ce=c;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ml(4,f,f.return);break;case 1:Ca(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){St(r,n,E)}}break;case 5:Ca(f,f.return);break;case 22:if(f.memoizedState!==null){Aw(h);continue}}p!==null?(p.return=f,ce=p):Aw(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=BI("display",o))}catch(E){St(e,e.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(E){St(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(t,e),Wr(e),r&4&&Cw(e);break;case 21:break;default:br(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dR(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ac(i,""),r.flags&=-33);var s=bw(e);__(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bw(e);g_(e,a,o);break;default:throw Error(ee(161))}}catch(u){St(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JM(e,t,n){ce=e,pR(e)}function pR(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||th;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||hn;a=th;var l=hn;if(th=o,(hn=u)&&!l)for(ce=i;ce!==null;)o=ce,u=o.child,o.tag===22&&o.memoizedState!==null?Rw(i):u!==null?(u.return=o,ce=u):Rw(i);for(;s!==null;)ce=s,pR(s),s=s.sibling;ce=i,th=a,hn=l}Iw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):Iw(e)}}function Iw(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hn||Np(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Cr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}hn||t.flags&512&&m_(t)}catch(f){St(t,t.return,f)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Aw(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Rw(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Np(4,t)}catch(u){St(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){St(t,i,u)}}var s=t.return;try{m_(t)}catch(u){St(t,s,u)}break;case 5:var o=t.return;try{m_(t)}catch(u){St(t,o,u)}}}catch(u){St(t,t.return,u)}if(t===e){ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ce=a;break}ce=t.return}}var e3=Math.ceil,xf=Yi.ReactCurrentDispatcher,xE=Yi.ReactCurrentOwner,_r=Yi.ReactCurrentBatchConfig,qe=0,Wt=null,Nt=null,Jt=0,Yn=0,Ia=Js(0),Mt=0,wc=null,Oo=0,Op=0,kE=0,Fl=null,On=null,PE=0,nu=1/0,Si=null,kf=!1,y_=null,Os=null,nh=!1,bs=null,Pf=0,Vl=0,E_=null,Uh=-1,Hh=0;function In(){return qe&6?Ct():Uh!==-1?Uh:Uh=Ct()}function Ds(e){return e.mode&1?qe&2&&Jt!==0?Jt&-Jt:FM.transition!==null?(Hh===0&&(Hh=ZI()),Hh):(e=et,e!==0||(e=window.event,e=e===void 0?16:sA(e.type)),e):1}function Nr(e,t,n,r){if(50<Vl)throw Vl=0,E_=null,Error(ee(185));Wc(e,n,r),(!(qe&2)||e!==Wt)&&(e===Wt&&(!(qe&2)&&(Op|=n),Mt===4&&_s(e,Jt)),Bn(e,r),n===1&&qe===0&&!(t.mode&1)&&(nu=Ct()+500,xp&&eo()))}function Bn(e,t){var n=e.callbackNode;FL(e,t);var r=pf(e,e===Wt?Jt:0);if(r===0)n!==null&&F1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&F1(n),t===1)e.tag===0?MM(xw.bind(null,e)):bA(xw.bind(null,e)),NM(function(){!(qe&6)&&eo()}),n=null;else{switch(JI(r)){case 1:n=rE;break;case 4:n=QI;break;case 16:n=ff;break;case 536870912:n=XI;break;default:n=ff}n=wR(n,mR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mR(e,t){if(Uh=-1,Hh=0,qe&6)throw Error(ee(327));var n=e.callbackNode;if(Ma()&&e.callbackNode!==n)return null;var r=pf(e,e===Wt?Jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nf(e,r);else{t=r;var i=qe;qe|=2;var s=_R();(Wt!==e||Jt!==t)&&(Si=null,nu=Ct()+500,bo(e,t));do try{r3();break}catch(a){gR(e,a)}while(!0);gE(),xf.current=s,qe=i,Nt!==null?t=0:(Wt=null,Jt=0,t=Mt)}if(t!==0){if(t===2&&(i=q0(e),i!==0&&(r=i,t=v_(e,i))),t===1)throw n=wc,bo(e,0),_s(e,r),Bn(e,Ct()),n;if(t===6)_s(e,r);else{if(i=e.current.alternate,!(r&30)&&!t3(i)&&(t=Nf(e,r),t===2&&(s=q0(e),s!==0&&(r=s,t=v_(e,s))),t===1))throw n=wc,bo(e,0),_s(e,r),Bn(e,Ct()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:ho(e,On,Si);break;case 3:if(_s(e,r),(r&130023424)===r&&(t=PE+500-Ct(),10<t)){if(pf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){In(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=e_(ho.bind(null,e,On,Si),t);break}ho(e,On,Si);break;case 4:if(_s(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e3(r/1960))-r,10<r){e.timeoutHandle=e_(ho.bind(null,e,On,Si),r);break}ho(e,On,Si);break;case 5:ho(e,On,Si);break;default:throw Error(ee(329))}}}return Bn(e,Ct()),e.callbackNode===n?mR.bind(null,e):null}function v_(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(bo(e,t).flags|=256),e=Nf(e,t),e!==2&&(t=On,On=n,t!==null&&T_(t)),e}function T_(e){On===null?On=e:On.push.apply(On,e)}function t3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t){for(t&=~kE,t&=~Op,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pr(t),r=1<<n;e[n]=-1,t&=~r}}function xw(e){if(qe&6)throw Error(ee(327));Ma();var t=pf(e,0);if(!(t&1))return Bn(e,Ct()),null;var n=Nf(e,t);if(e.tag!==0&&n===2){var r=q0(e);r!==0&&(t=r,n=v_(e,r))}if(n===1)throw n=wc,bo(e,0),_s(e,t),Bn(e,Ct()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ho(e,On,Si),Bn(e,Ct()),null}function NE(e,t){var n=qe;qe|=1;try{return e(t)}finally{qe=n,qe===0&&(nu=Ct()+500,xp&&eo())}}function Do(e){bs!==null&&bs.tag===0&&!(qe&6)&&Ma();var t=qe;qe|=1;var n=_r.transition,r=et;try{if(_r.transition=null,et=1,e)return e()}finally{et=r,_r.transition=n,qe=t,!(qe&6)&&eo()}}function OE(){Yn=Ia.current,pt(Ia)}function bo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,PM(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(fE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ef();break;case 3:eu(),pt(Fn),pt(gn),wE();break;case 5:TE(r);break;case 4:eu();break;case 13:pt(_t);break;case 19:pt(_t);break;case 10:_E(r.type._context);break;case 22:case 23:OE()}n=n.return}if(Wt=e,Nt=e=Ls(e.current,null),Jt=Yn=t,Mt=0,wc=null,kE=Op=Oo=0,On=Fl=null,yo!==null){for(t=0;t<yo.length;t++)if(n=yo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yo=null}return e}function gR(e,t){do{var n=Nt;try{if(gE(),Fh.current=Rf,Af){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Af=!1}if(No=0,zt=Dt=yt=null,Ll=!1,Ec=0,xE.current=null,n===null||n.return===null){Mt=1,wc=t,Nt=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Jt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gw(o);if(p!==null){p.flags&=-257,_w(p,o,a,s,t),p.mode&1&&mw(s,l,t),t=p,u=l;var _=t.updateQueue;if(_===null){var E=new Set;E.add(u),t.updateQueue=E}else _.add(u);break e}else{if(!(t&1)){mw(s,l,t),DE();break e}u=Error(ee(426))}}else if(gt&&a.mode&1){var b=gw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_w(b,o,a,s,t),pE(tu(u,a));break e}}s=u=tu(u,a),Mt!==4&&(Mt=2),Fl===null?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=JA(s,u,t);lw(s,y);break e;case 1:a=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Os===null||!Os.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=eR(s,a,t);lw(s,k);break e}}s=s.return}while(s!==null)}ER(n)}catch(U){t=U,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function _R(){var e=xf.current;return xf.current=Rf,e===null?Rf:e}function DE(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Wt===null||!(Oo&268435455)&&!(Op&268435455)||_s(Wt,Jt)}function Nf(e,t){var n=qe;qe|=2;var r=_R();(Wt!==e||Jt!==t)&&(Si=null,bo(e,t));do try{n3();break}catch(i){gR(e,i)}while(!0);if(gE(),qe=n,xf.current=r,Nt!==null)throw Error(ee(261));return Wt=null,Jt=0,Mt}function n3(){for(;Nt!==null;)yR(Nt)}function r3(){for(;Nt!==null&&!RL();)yR(Nt)}function yR(e){var t=TR(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?ER(e):Nt=t,xE.current=null}function ER(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QM(n,t),n!==null){n.flags&=32767,Nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Nt=null;return}}else if(n=YM(n,t,Yn),n!==null){Nt=n;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Mt===0&&(Mt=5)}function ho(e,t,n){var r=et,i=_r.transition;try{_r.transition=null,et=1,i3(e,t,n,r)}finally{_r.transition=i,et=r}return null}function i3(e,t,n,r){do Ma();while(bs!==null);if(qe&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(VL(e,s),e===Wt&&(Nt=Wt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nh||(nh=!0,wR(ff,function(){return Ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=et;et=1;var a=qe;qe|=4,xE.current=null,ZM(e,n),fR(n,e),bM(Z0),mf=!!X0,Z0=X0=null,e.current=n,JM(n),xL(),qe=a,et=o,_r.transition=s}else e.current=n;if(nh&&(nh=!1,bs=e,Pf=i),s=e.pendingLanes,s===0&&(Os=null),NL(n.stateNode),Bn(e,Ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kf)throw kf=!1,e=y_,y_=null,e;return Pf&1&&e.tag!==0&&Ma(),s=e.pendingLanes,s&1?e===E_?Vl++:(Vl=0,E_=e):Vl=0,eo(),null}function Ma(){if(bs!==null){var e=JI(Pf),t=_r.transition,n=et;try{if(_r.transition=null,et=16>e?16:e,bs===null)var r=!1;else{if(e=bs,bs=null,Pf=0,qe&6)throw Error(ee(331));var i=qe;for(qe|=4,ce=e.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ce=l;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:Ml(8,c,s)}var h=c.child;if(h!==null)h.return=c,ce=h;else for(;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(cR(c),c===l){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(E!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ml(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ce=y;break e}ce=s.return}}var v=e.current;for(ce=v;ce!==null;){o=ce;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ce=w;else e:for(o=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Np(9,a)}}catch(U){St(a,a.return,U)}if(a===o){ce=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ce=k;break e}ce=a.return}}if(qe=i,eo(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(bp,e)}catch{}r=!0}return r}finally{et=n,_r.transition=t}}return!1}function kw(e,t,n){t=tu(n,t),t=JA(e,t,1),e=Ns(e,t,1),t=In(),e!==null&&(Wc(e,1,t),Bn(e,t))}function St(e,t,n){if(e.tag===3)kw(e,e,n);else for(;t!==null;){if(t.tag===3){kw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){e=tu(n,e),e=eR(t,e,1),t=Ns(t,e,1),e=In(),t!==null&&(Wc(t,1,e),Bn(t,e));break}}t=t.return}}function s3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=In(),e.pingedLanes|=e.suspendedLanes&n,Wt===e&&(Jt&n)===n&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>Ct()-PE?bo(e,0):kE|=n),Bn(e,t)}function vR(e,t){t===0&&(e.mode&1?(t=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):t=1);var n=In();e=Ui(e,t),e!==null&&(Wc(e,t,n),Bn(e,n))}function o3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vR(e,n)}function a3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),vR(e,n)}var TR;TR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ln=!1,KM(e,t,n);Ln=!!(e.flags&131072)}else Ln=!1,gt&&t.flags&1048576&&CA(t,wf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bh(e,t),e=t.pendingProps;var i=Xa(t,gn.current);La(t,n),i=bE(null,t,r,e,i,n);var s=CE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vn(r)?(s=!0,vf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EE(t),i.updater=Pp,t.stateNode=i,i._reactInternals=t,a_(t,r,e,n),t=c_(null,t,r,!0,s,n)):(t.tag=0,gt&&s&&hE(t),Sn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=l3(r),e=Cr(r,e),i){case 0:t=l_(null,t,r,e,n);break e;case 1:t=vw(null,t,r,e,n);break e;case 11:t=yw(null,t,r,e,n);break e;case 14:t=Ew(null,t,r,Cr(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),l_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),vw(e,t,r,i,n);case 3:e:{if(iR(t),e===null)throw Error(ee(387));r=t.pendingProps,s=t.memoizedState,i=s.element,PA(e,t),Cf(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=tu(Error(ee(423)),t),t=Tw(e,t,r,n,i);break e}else if(r!==i){i=tu(Error(ee(424)),t),t=Tw(e,t,r,n,i);break e}else for(Xn=Ps(t.stateNode.containerInfo.firstChild),er=t,gt=!0,kr=null,n=xA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Za(),r===i){t=Hi(e,t,n);break e}Sn(e,t,r,n)}t=t.child}return t;case 5:return NA(t),e===null&&i_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,J0(r,i)?o=null:s!==null&&J0(r,s)&&(t.flags|=32),rR(e,t),Sn(e,t,o,n),t.child;case 6:return e===null&&i_(t),null;case 13:return sR(e,t,n);case 4:return vE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ja(t,null,r,n):Sn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),yw(e,t,r,i,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ot(Sf,r._currentValue),r._currentValue=o,s!==null)if(Mr(s.value,o)){if(s.children===i.children&&!Fn.current){t=Hi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Li(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),s_(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),s_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,La(t,n),i=Er(i),r=r(i),t.flags|=1,Sn(e,t,r,n),t.child;case 14:return r=t.type,i=Cr(r,t.pendingProps),i=Cr(r.type,i),Ew(e,t,r,i,n);case 15:return tR(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),Bh(e,t),t.tag=1,Vn(r)?(e=!0,vf(t)):e=!1,La(t,n),ZA(t,r,i),a_(t,r,i,n),c_(null,t,r,!0,e,n);case 19:return oR(e,t,n);case 22:return nR(e,t,n)}throw Error(ee(156,t.tag))};function wR(e,t){return YI(e,t)}function u3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,n,r){return new u3(e,t,n,r)}function LE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l3(e){if(typeof e=="function")return LE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eE)return 11;if(e===tE)return 14}return 2}function Ls(e,t){var n=e.alternate;return n===null?(n=gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")LE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ga:return Co(n.children,i,s,t);case Jy:o=8,i|=8;break;case P0:return e=gr(12,n,t,i|2),e.elementType=P0,e.lanes=s,e;case N0:return e=gr(13,n,t,i),e.elementType=N0,e.lanes=s,e;case O0:return e=gr(19,n,t,i),e.elementType=O0,e.lanes=s,e;case NI:return Dp(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kI:o=10;break e;case PI:o=9;break e;case eE:o=11;break e;case tE:o=14;break e;case fs:o=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=gr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Co(e,t,n,r){return e=gr(7,e,r,t),e.lanes=n,e}function Dp(e,t,n,r){return e=gr(22,e,r,t),e.elementType=NI,e.lanes=n,e.stateNode={isHidden:!1},e}function Eg(e,t,n){return e=gr(6,e,null,t),e.lanes=n,e}function vg(e,t,n){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eg(0),this.expirationTimes=eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ME(e,t,n,r,i,s,o,a,u){return e=new c3(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=gr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},EE(s),e}function d3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SR(e){if(!e)return zs;e=e._reactInternals;e:{if(Wo(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Vn(n))return SA(e,n,t)}return t}function bR(e,t,n,r,i,s,o,a,u){return e=ME(n,r,!0,e,i,s,o,a,u),e.context=SR(null),n=e.current,r=In(),i=Ds(n),s=Li(r,i),s.callback=t??null,Ns(n,s,i),e.current.lanes=i,Wc(e,i,r),Bn(e,r),e}function Lp(e,t,n,r){var i=t.current,s=In(),o=Ds(i);return n=SR(n),t.context===null?t.context=n:t.pendingContext=n,t=Li(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ns(i,t,o),e!==null&&(Nr(e,i,o,s),Mh(e,i,o)),o}function Of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function FE(e,t){Pw(e,t),(e=e.alternate)&&Pw(e,t)}function h3(){return null}var CR=typeof reportError=="function"?reportError:function(e){console.error(e)};function VE(e){this._internalRoot=e}Mp.prototype.render=VE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Lp(e,t,null,null)};Mp.prototype.unmount=VE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Do(function(){Lp(null,e,null,null)}),t[Bi]=null}};function Mp(e){this._internalRoot=e}Mp.prototype.unstable_scheduleHydration=function(e){if(e){var t=nA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gs.length&&t!==0&&t<gs[n].priority;n++);gs.splice(n,0,e),n===0&&iA(e)}};function BE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nw(){}function f3(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Of(o);s.call(l)}}var o=bR(t,r,e,0,null,!1,!1,"",Nw);return e._reactRootContainer=o,e[Bi]=o.current,pc(e.nodeType===8?e.parentNode:e),Do(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Of(u);a.call(l)}}var u=ME(e,0,!1,null,null,!1,!1,"",Nw);return e._reactRootContainer=u,e[Bi]=u.current,pc(e.nodeType===8?e.parentNode:e),Do(function(){Lp(t,u,n,r)}),u}function Vp(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Of(o);a.call(u)}}Lp(t,o,e,i)}else o=f3(n,t,e,i,r);return Of(o)}eA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yl(t.pendingLanes);n!==0&&(iE(t,n|1),Bn(t,Ct()),!(qe&6)&&(nu=Ct()+500,eo()))}break;case 13:Do(function(){var r=Ui(e,1);if(r!==null){var i=In();Nr(r,e,1,i)}}),FE(e,1)}};sE=function(e){if(e.tag===13){var t=Ui(e,134217728);if(t!==null){var n=In();Nr(t,e,134217728,n)}FE(e,134217728)}};tA=function(e){if(e.tag===13){var t=Ds(e),n=Ui(e,t);if(n!==null){var r=In();Nr(n,e,t,r)}FE(e,t)}};nA=function(){return et};rA=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};z0=function(e,t,n){switch(t){case"input":if(M0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rp(r);if(!i)throw Error(ee(90));DI(r),M0(r,i)}}}break;case"textarea":MI(e,n);break;case"select":t=n.value,t!=null&&Pa(e,!!n.multiple,t,!1)}};zI=NE;$I=Do;var p3={usingClientEntryPoint:!1,Events:[Gc,va,Rp,HI,jI,NE]},il={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m3={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GI(e),e===null?null:e.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||h3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{bp=rh.inject(m3),Zr=rh}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p3;or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BE(t))throw Error(ee(200));return d3(e,t,null,n)};or.createRoot=function(e,t){if(!BE(e))throw Error(ee(299));var n=!1,r="",i=CR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ME(e,1,!1,null,null,n,!1,r,i),e[Bi]=t.current,pc(e.nodeType===8?e.parentNode:e),new VE(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=GI(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return Do(e)};or.hydrate=function(e,t,n){if(!Fp(t))throw Error(ee(200));return Vp(null,e,t,!0,n)};or.hydrateRoot=function(e,t,n){if(!BE(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bR(t,null,e,1,n??null,i,!1,s,o),e[Bi]=t.current,pc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mp(t)};or.render=function(e,t,n){if(!Fp(t))throw Error(ee(200));return Vp(null,e,t,!1,n)};or.unmountComponentAtNode=function(e){if(!Fp(e))throw Error(ee(40));return e._reactRootContainer?(Do(function(){Vp(null,null,e,!1,function(){e._reactRootContainer=null,e[Bi]=null})}),!0):!1};or.unstable_batchedUpdates=NE;or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fp(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Vp(e,t,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function IR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IR)}catch(e){console.error(e)}}IR(),II.exports=or;var Yc=II.exports;const g3=wp(Yc);var Ow=Yc;x0.createRoot=Ow.createRoot,x0.hydrateRoot=Ow.hydrateRoot;var _3="Invariant failed";function xi(e,t){if(!e)throw new Error(_3)}const Fa=new WeakMap,zh=new WeakMap,Df={current:[]};let Tg=!1,Bl=0;const vl=new Set,ih=new Map;function AR(e){const t=Array.from(e).sort((n,r)=>n instanceof Va&&n.options.deps.includes(r)?1:r instanceof Va&&r.options.deps.includes(n)?-1:0);for(const n of t){if(Df.current.includes(n))continue;Df.current.push(n),n.recompute();const r=zh.get(n);if(r)for(const i of r){const s=Fa.get(i);s&&AR(s)}}}function y3(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function E3(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function RR(e){if(Bl>0&&!ih.has(e)&&ih.set(e,e.prevState),vl.add(e),!(Bl>0)&&!Tg)try{for(Tg=!0;vl.size>0;){const t=Array.from(vl);vl.clear();for(const n of t){const r=ih.get(n)??n.prevState;n.prevState=r,y3(n)}for(const n of t){const r=Fa.get(n);r&&(Df.current.push(n),AR(r))}for(const n of t){const r=Fa.get(n);if(r)for(const i of r)E3(i)}}}finally{Tg=!1,Df.current=[],ih.clear()}}function sa(e){Bl++;try{e()}finally{if(Bl--,Bl===0){const t=Array.from(vl)[0];t&&RR(t)}}}function v3(e){return typeof e=="function"}let w_=class{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,i;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):v3(t)?this.state=t(this.prevState):this.state=t,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),RR(this)}};class Va{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof Va&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s==null||s()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof Va)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof w_){let r=Fa.get(n);r||(r=new Set,Fa.set(n,r)),r.add(this);let i=zh.get(this);i||(i=new Set,zh.set(this,i)),i.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof Va)this.unregisterFromGraph(n.options.deps);else if(n instanceof w_){const r=Fa.get(n);r&&r.delete(this);const i=zh.get(this);i&&i.delete(n)}}}const Ms="__TSR_index",Dw="popstate",Lw="beforeunload";function xR(e){let t=e.getLocation();const n=new Set,r=o=>{t=e.getLocation(),n.forEach(a=>a({location:t,action:o}))},i=o=>{e.notifyOnIndexChange??!0?r(o):t=e.getLocation()},s=async({task:o,navigateOpts:a,...u})=>{var l,c;if((a==null?void 0:a.ignoreBlocker)??!1){o();return}const f=((l=e.getBlockers)==null?void 0:l.call(e))??[],p=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&f.length&&p)for(const _ of f){const E=Sc(u.path,u.state);if(await _.blockerFn({currentLocation:t,nextLocation:E,action:u.type})){(c=e.onBlocked)==null||c.call(e);return}}o()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,a,u)=>{const l=t.state[Ms];a=S_(l+1,a),s({task:()=>{e.pushState(o,a),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:a})},replace:(o,a,u)=>{const l=t.state[Ms];a=S_(l,a),s({task:()=>{e.replaceState(o,a),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:a})},go:(o,a)=>{s({task:()=>{e.go(o),i({type:"GO",index:o})},navigateOpts:a,type:"GO"})},back:o=>{s({task:()=>{e.back((o==null?void 0:o.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{e.forward((o==null?void 0:o.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>t.state[Ms]!==0,createHref:o=>e.createHref(o),block:o=>{var a;if(!e.setBlockers)return()=>{};const u=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...u,o]),()=>{var l,c;const h=((l=e.getBlockers)==null?void 0:l.call(e))??[];(c=e.setBlockers)==null||c.call(e,h.filter(f=>f!==o))}},flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:r}}function S_(e,t){return t||(t={}),{...t,key:UE(),[Ms]:e}}function T3(e){var t;const n=typeof document<"u"?window:void 0,r=n.history.pushState,i=n.history.replaceState;let s=[];const o=()=>s,a=R=>s=R,u=R=>R,l=()=>Sc(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state);(t=n.history.state)!=null&&t.key||n.history.replaceState({[Ms]:0,key:UE()},"");let c=l(),h,f=!1,p=!1,_=!1,E=!1;const b=()=>c;let y,v;const w=()=>{y&&(I._ignoreSubscribers=!0,(y.isPush?n.history.pushState:n.history.replaceState)(y.state,"",y.href),I._ignoreSubscribers=!1,y=void 0,v=void 0,h=void 0)},k=(R,S,D)=>{const O=u(S);v||(h=c),c=Sc(S,D),y={href:O,state:D,isPush:(y==null?void 0:y.isPush)||R==="push"},v||(v=Promise.resolve().then(()=>w()))},U=R=>{c=l(),I.notify({type:R})},L=async()=>{if(p){p=!1;return}const R=l(),S=R.state[Ms]-c.state[Ms],D=S===1,O=S===-1,N=!D&&!O||f;f=!1;const Q=N?"GO":O?"BACK":"FORWARD",ie=N?{type:"GO",index:S}:{type:O?"BACK":"FORWARD"};if(_)_=!1;else{const le=o();if(typeof document<"u"&&le.length){for(const fe of le)if(await fe.blockerFn({currentLocation:c,nextLocation:R,action:Q})){p=!0,n.history.go(1),I.notify(ie);return}}}c=l(),I.notify(ie)},A=R=>{if(E){E=!1;return}let S=!1;const D=o();if(typeof document<"u"&&D.length)for(const O of D){const N=O.enableBeforeUnload??!0;if(N===!0){S=!0;break}if(typeof N=="function"&&N()===!0){S=!0;break}}if(S)return R.preventDefault(),R.returnValue=""},I=xR({getLocation:b,getLength:()=>n.history.length,pushState:(R,S)=>k("push",R,S),replaceState:(R,S)=>k("replace",R,S),back:R=>(R&&(_=!0),E=!0,n.history.back()),forward:R=>{R&&(_=!0),E=!0,n.history.forward()},go:R=>{f=!0,n.history.go(R)},createHref:R=>u(R),flush:w,destroy:()=>{n.history.pushState=r,n.history.replaceState=i,n.removeEventListener(Lw,A,{capture:!0}),n.removeEventListener(Dw,L)},onBlocked:()=>{h&&c!==h&&(c=h)},getBlockers:o,setBlockers:a,notifyOnIndexChange:!1});return n.addEventListener(Lw,A,{capture:!0}),n.addEventListener(Dw,L),n.history.pushState=function(...R){const S=r.apply(n.history,R);return I._ignoreSubscribers||U("PUSH"),S},n.history.replaceState=function(...R){const S=i.apply(n.history,R);return I._ignoreSubscribers||U("REPLACE"),S},I}function w3(e={initialEntries:["/"]}){const t=e.initialEntries;let n=e.initialIndex?Math.min(Math.max(e.initialIndex,0),t.length-1):t.length-1;const r=t.map((s,o)=>S_(o,void 0));return xR({getLocation:()=>Sc(t[n],r[n]),getLength:()=>t.length,pushState:(s,o)=>{n<t.length-1&&(t.splice(n+1),r.splice(n+1)),r.push(o),t.push(s),n=Math.max(t.length-1,0)},replaceState:(s,o)=>{r[n]=o,t[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,t.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),t.length-1)},createHref:s=>s})}function Sc(e,t){const n=e.indexOf("#"),r=e.indexOf("?");return{href:e,pathname:e.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:e.length),hash:n>-1?e.substring(n):"",search:r>-1?e.slice(r,n===-1?void 0:n):"",state:t||{[Ms]:0,key:UE()}}}function UE(){return(Math.random()+1).toString(36).substring(7)}function Aa(e){return e[e.length-1]}function S3(e){return typeof e=="function"}function vo(e,t){return S3(e)?e(t):e}function b_(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function cr(e,t){if(e===t)return e;const n=t,r=Vw(e)&&Vw(n);if(r||Mw(e)&&Mw(n)){const i=r?e:Object.keys(e).concat(Object.getOwnPropertySymbols(e)),s=i.length,o=r?n:Object.keys(n).concat(Object.getOwnPropertySymbols(n)),a=o.length,u=r?[]:{};let l=0;for(let c=0;c<a;c++){const h=r?c:o[c];(!r&&i.includes(h)||r)&&e[h]===void 0&&n[h]===void 0?(u[h]=void 0,l++):(u[h]=cr(e[h],n[h]),u[h]===e[h]&&e[h]!==void 0&&l++)}return s===a&&l===s?e:u}return n}function Mw(e){return C_(e)&&Object.getOwnPropertyNames(e).length===Object.keys(e).length}function C_(e){if(!Fw(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Fw(n)||!n.hasOwnProperty("isPrototypeOf"))}function Fw(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bw(e,t){let n=Object.keys(e);return t&&(n=n.filter(r=>e[r]!==void 0)),n}function Ba(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(C_(e)&&C_(t)){const r=(n==null?void 0:n.ignoreUndefined)??!0,i=Bw(e,r),s=Bw(t,r);return!(n!=null&&n.partial)&&i.length!==s.length?!1:s.every(o=>Ba(e[o],t[o],n))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((r,i)=>!Ba(r,t[i],n)):!1}function ca(e){let t,n;const r=new Promise((i,s)=>{t=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,t(i),e==null||e(i)},r.reject=i=>{r.status="rejected",n(i)},r}function Mi(e){return Bp(e.filter(t=>t!==void 0).join("/"))}function Bp(e){return e.replace(/\/{2,}/g,"/")}function HE(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function To(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function b3(e){return To(HE(e))}function Lf(e,t){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function C3(e,t,n){return Lf(e,n)===Lf(t,n)}function I3({basepath:e,base:t,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;t=Mf(e,t,i),n=Mf(e,n,i);let a=ru(t);const u=ru(n);a.length>1&&((s=Aa(a))==null?void 0:s.value)==="/"&&a.pop(),u.forEach((c,h)=>{c.value==="/"?h?h===u.length-1&&a.push(c):a=[c]:c.value===".."?a.pop():c.value==="."||a.push(c)}),a.length>1&&(((o=Aa(a))==null?void 0:o.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const l=Mi([e,...a.map(c=>c.value)]);return Bp(l)}function ru(e){if(!e)return[];e=Bp(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const n=e.split("/").filter(Boolean);return t.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(i=>decodeURI(i)).join("%25"):decodeURI(r)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function sh({path:e,params:t,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=ru(e);function o(c){const h=t[c],f=typeof h=="string";return["*","_splat"].includes(c)?f?encodeURI(h):h:f?A3(h,i):h}let a=!1;const u={},l=Mi(s.map(c=>{if(c.type==="wildcard"){u._splat=t._splat;const h=o("_splat");return n?`${c.value}${h??""}`:h}if(c.type==="param"){const h=c.value.substring(1);if(!a&&!(h in t)&&(a=!0),u[h]=t[h],r){const f=o(c.value);return`${c.value}${f??""}`}return o(h)??"undefined"}return c.value}));return{usedParams:u,interpolatedPath:l,isMissingParams:a}}function A3(e,t){let n=encodeURIComponent(e);if(t)for(const[r,i]of t)n=n.replaceAll(r,i);return n}function oh(e,t,n){const r=R3(e,t,n);if(!(n.to&&!r))return r??{}}function Mf(e,t,n=!1){const r=n?e:e.toLowerCase(),i=n?t:t.toLowerCase();switch(!0){case r==="/":return t;case i===r:return"";case t.length<e.length:return t;case i[r.length]!=="/":return t;case i.startsWith(r):return t.slice(e.length);default:return t}}function R3(e,t,n){if(e!=="/"&&!t.startsWith(e))return;t=Mf(e,t,n.caseSensitive);const r=Mf(e,`${n.to??"$"}`,n.caseSensitive),i=ru(t),s=ru(r);t.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let u=0;u<Math.max(i.length,s.length);u++){const l=i[u],c=s[u],h=u>=i.length-1,f=u>=s.length-1;if(c){if(c.type==="wildcard"){const p=decodeURI(Mi(i.slice(u).map(_=>_.value)));return o["*"]=p,o._splat=p,!0}if(c.type==="pathname"){if(c.value==="/"&&!(l!=null&&l.value))return!0;if(l){if(n.caseSensitive){if(c.value!==l.value)return!1}else if(c.value.toLowerCase()!==l.value.toLowerCase())return!1}}if(!l)return!1;if(c.type==="param"){if(l.value==="/")return!1;l.value.charAt(0)!=="$"&&(o[c.value.substring(1)]=decodeURIComponent(l.value))}}if(!h&&f)return o["**"]=Mi(i.slice(u+1).map(p=>p.value)),!!n.fuzzy&&(c==null?void 0:c.value)!=="/"}return!0})()?o:void 0}function dr(e){return!!(e!=null&&e.isNotFound)}function x3(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const Ff="tsr-scroll-restoration-v1_3",k3=(e,t)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{e(...r),n=null},t))}};function P3(){const e=x3();if(!e)return;const t=e.getItem(Ff);let n=t?JSON.parse(t):{};return{state:n,set:r=>(n=vo(r,n)||n,e.setItem(Ff,JSON.stringify(n)))}}const wg=P3(),I_=e=>e.state.key||e.href;function N3(e){const t=[];let n;for(;n=e.parentNode;)t.unshift(`${e.tagName}:nth-child(${[].indexOf.call(n.children,e)+1})`),e=n;return`${t.join(" > ")}`.toLowerCase()}let Vf=!1;function kR(e,t,n,r,i){var s;let o;try{o=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(l){console.error(l);return}const a=t||((s=window.history.state)==null?void 0:s.key),u=o[a];Vf=!0,(()=>{if(r&&u){for(const c in u){const h=u[c];if(c==="window")window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:n});else if(c){const f=document.querySelector(c);f&&(f.scrollLeft=h.scrollX,f.scrollTop=h.scrollY)}}return}const l=window.location.hash.split("#")[1];if(l){const c=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(c){const h=document.getElementById(l);h&&h.scrollIntoView(c)}return}["window",...(i==null?void 0:i.filter(c=>c!=="window"))??[]].forEach(c=>{const h=c==="window"?window:typeof c=="function"?c():document.querySelector(c);h&&h.scrollTo({top:0,left:0,behavior:n})})})(),Vf=!1}function O3(e,t){if(wg===void 0||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup))return;e.isScrollRestorationSetup=!0,Vf=!1;const r=e.options.getScrollRestorationKey||I_;window.history.scrollRestoration="manual";const i=s=>{if(Vf||!e.isScrollRestoring)return;let o="";if(s.target===document||s.target===window)o="window";else{const u=s.target.getAttribute("data-scroll-restoration-id");u?o=`[data-scroll-restoration-id="${u}"]`:o=N3(s.target)}const a=r(e.state.location);wg.set(u=>{const l=u[a]=u[a]||{},c=l[o]=l[o]||{};if(o==="window")c.scrollX=window.scrollX||0,c.scrollY=window.scrollY||0;else if(o){const h=document.querySelector(o);h&&(c.scrollX=h.scrollLeft||0,c.scrollY=h.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",k3(i,100),!0),e.subscribe("onRendered",s=>{const o=r(s.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}kR(Ff,o,e.options.scrollRestorationBehavior||void 0,e.isScrollRestoring||void 0,e.options.scrollToTopSelectors||void 0),e.isScrollRestoring&&wg.set(a=>(a[o]=a[o]||{},a))})}function D3(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function L3(e,t){const n=Object.entries(e).flatMap(([i,s])=>Array.isArray(s)?s.map(o=>[i,String(o)]):[[i,String(s)]]);return""+new URLSearchParams(n).toString()}function Sg(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function M3(e,t){const n=e;return[...new URLSearchParams(n).entries()].reduce((s,[o,a])=>{const u=s[o];return u==null?s[o]=Sg(a):s[o]=Array.isArray(u)?[...u,Sg(a)]:[u,Sg(a)],s},{})}const F3=B3(JSON.parse),V3=U3(JSON.stringify,JSON.parse);function B3(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const n=M3(t);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=e(i)}catch{}}return n}}function U3(e,t){function n(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof t=="function")try{return t(r),e(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=L3(r).toString();return i?`?${i}`:""}}const xr="__root__";function PR(e){if(e.isRedirect=!0,e.statusCode=e.statusCode||e.code||307,e.headers=e.headers||{},!e.reloadDocument){e.reloadDocument=!1;try{new URL(`${e.href}`),e.reloadDocument=!0}catch{}}if(e.throw)throw e;return e}function fo(e){return!!(e!=null&&e.isRedirect)}function bg(e){return!!(e!=null&&e.isRedirect)&&e.href}function Io(e){const t=e.resolvedLocation,n=e.location,r=(t==null?void 0:t.pathname)!==n.pathname,i=(t==null?void 0:t.href)!==n.href,s=(t==null?void 0:t.hash)!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:s}}class H3{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${b3(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?w3({initialEntries:[this.basepath||"/"]}):T3()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new w_(z3(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}}),O3(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((a,u)=>{a.init({originalIndex:u,defaultSsr:this.options.defaultSsr});const l=this.routesById[a.id];if(xi(!l,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const h=To(a.fullPath);(!this.routesByPath[h]||a.fullPath.endsWith("/"))&&(this.routesByPath[h]=a)}const c=a.children;c!=null&&c.length&&r(c)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,a)=>{var u;if(o.isRoot||!o.path)return;const l=HE(o.fullPath),c=ru(l);for(;c.length>1&&((u=c[0])==null?void 0:u.value)==="/";)c.shift();const h=c.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);i.push({child:o,trimmed:l,parsed:c,index:a,scores:h})}),this.flatRoutes=i.sort((o,a)=>{const u=Math.min(o.scores.length,a.scores.length);for(let l=0;l<u;l++)if(o.scores[l]!==a.scores[l])return a.scores[l]-o.scores[l];if(o.scores.length!==a.scores.length)return a.scores.length-o.scores.length;for(let l=0;l<u;l++)if(o.parsed[l].value!==a.parsed[l].value)return o.parsed[l].value>a.parsed[l].value?1:-1;return o.index-a.index}).map((o,a)=>(o.child.rank=a,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:u,search:l,hash:c,state:h})=>{const f=this.options.parseSearch(l),p=this.options.stringifySearch(f);return{pathname:u,searchStr:p,search:cr(n==null?void 0:n.search,f),hash:c.split("#").reverse()[0]??"",href:`${u}${p}${c}`,state:cr(n==null?void 0:n.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:a}=s.state;if(o&&(!a||a===this.tempLocationKey)){const u=i(o);return u.state.key=s.state.key,delete u.state.__tempLocation,{...u,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>I3({basepath:this.basepath,base:n,to:Bp(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(n,r,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},i):this.matchRoutesInternal(n,r),this.getMatchedRoutes=(n,r)=>{let i={};const s=To(n.pathname),o=c=>oh(this.basepath,s,{to:c.fullPath,caseSensitive:c.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?i=o(a):a=this.flatRoutes.find(c=>{const h=o(c);return h?(i=h,!0):!1});let u=a||this.routesById[xr];const l=[u];for(;u.parentRoute;)u=u.parentRoute,l.unshift(u);return{matchedRoutes:l,routeParams:i,foundRoute:a}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var a,u,l,c,h,f,p;const _=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,E=s.from!=null?_.find(O=>oh(this.basepath,To(O.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,b=(E==null?void 0:E.pathname)||this.latestLocation.pathname;xi(s.from==null||E!=null,"Could not find match for from: "+s.from);const y=(a=this.state.pendingMatches)!=null&&a.length?(u=Aa(this.state.pendingMatches))==null?void 0:u.search:((l=Aa(_))==null?void 0:l.search)||this.latestLocation.search,v=o==null?void 0:o.matchedRoutes.filter(O=>_.find(N=>N.routeId===O.id));let w;if(s.to){const O=(E==null?void 0:E.fullPath)||((c=Aa(_))==null?void 0:c.fullPath)||this.latestLocation.pathname;w=this.resolvePathWithBase(O,`${s.to}`)}else{const O=this.routesById[(h=v==null?void 0:v.find(N=>{const Q=sh({path:N.fullPath,params:(o==null?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Mi([this.basepath,Q])===b}))==null?void 0:h.id];w=this.resolvePathWithBase(b,(O==null?void 0:O.to)??b)}const k={...(f=Aa(_))==null?void 0:f.params};let U=(s.params??!0)===!0?k:{...k,...vo(s.params,k)};Object.keys(U).length>0&&(o==null||o.matchedRoutes.map(O=>{var N;return((N=O.options.params)==null?void 0:N.stringify)??O.options.stringifyParams}).filter(Boolean).forEach(O=>{U={...U,...O(U)}})),w=sh({path:w,params:U??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let L=y;if(n._includeValidateSearch&&((p=this.options.search)!=null&&p.strict)){let O={};o==null||o.matchedRoutes.forEach(N=>{try{N.options.validateSearch&&(O={...O,...Cg(N.options.validateSearch,{...O,...L})??{}})}catch{}}),L=O}L=(O=>{const N=(o==null?void 0:o.matchedRoutes.reduce((le,fe)=>{var K;const oe=[];if("search"in fe.options)(K=fe.options.search)!=null&&K.middlewares&&oe.push(...fe.options.search.middlewares);else if(fe.options.preSearchFilters||fe.options.postSearchFilters){const F=({search:pe,next:ve})=>{let B=pe;"preSearchFilters"in fe.options&&fe.options.preSearchFilters&&(B=fe.options.preSearchFilters.reduce((xe,Ee)=>Ee(xe),pe));const ge=ve(B);return"postSearchFilters"in fe.options&&fe.options.postSearchFilters?fe.options.postSearchFilters.reduce((xe,Ee)=>Ee(xe),ge):ge};oe.push(F)}if(n._includeValidateSearch&&fe.options.validateSearch){const F=({search:pe,next:ve})=>{const B=ve(pe);try{return{...B,...Cg(fe.options.validateSearch,B)??{}}}catch{return B}};oe.push(F)}return le.concat(oe)},[]))??[],Q=({search:le})=>s.search?s.search===!0?le:vo(s.search,le):{};N.push(Q);const ie=(le,fe)=>{if(le>=N.length)return fe;const K=N[le];return K({search:fe,next:F=>ie(le+1,F)})};return ie(0,O)})(L),L=cr(y,L);const I=this.options.stringifySearch(L),R=s.hash===!0?this.latestLocation.hash:s.hash?vo(s.hash,this.latestLocation.hash):void 0,S=R?`#${R}`:"";let D=s.state===!0?this.latestLocation.state:s.state?vo(s.state,this.latestLocation.state):{};return D=cr(this.latestLocation.state,D),{pathname:w,search:L,searchStr:I,state:D,hash:R??"",href:`${w}${I}${S}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var a;const u=r(s);let l=o?r(o):void 0;if(!l){let f={};const p=(a=this.options.routeMasks)==null?void 0:a.find(_=>{const E=oh(this.basepath,u.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return E?(f=E,!0):!1});if(p){const{from:_,...E}=p;o={...b_(n,["from"]),...E,params:f},l=r(o)}}const c=this.getMatchedRoutes(u,s),h=r(s,c);if(l){const f=this.getMatchedRoutes(l,o),p=r(o,f);h.maskedLocation=p}return h};return n.mask?i(n,{...b_(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{const u=["key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(c=>{i.state[c]=this.latestLocation.state[c]});const l=Ba(i.state,this.latestLocation.state);return u.forEach(c=>{delete i.state[c]}),l},o=this.latestLocation.href===i.href,a=this.commitLocationPromise;if(this.commitLocationPromise=ca(()=>{a==null||a.resolve()}),o&&s())this.load();else{let{maskedLocation:u,hashScrollIntoView:l,...c}=i;u&&(c={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...c,search:c.searchStr,state:{...c.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(c.unmaskOnReload??this.options.unmaskOnReload??!1)&&(c.state.__tempKey=this.tempLocationKey)),c.state.__hashScrollIntoViewOptions=l??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](c.href,c.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:a,...u}={})=>{if(a){const c=this.history.location.state.__TSR_index,h=Sc(a,{__TSR_index:n?c:c+1});u.to=h.pathname,u.search=this.options.parseSearch(h.search),u.hash=h.hash.slice(1)}const l=this.buildLocation({...u,_includeValidateSearch:!0});return this.commitLocation({...l,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){if(!i){const o=this.buildLocation({to:n,...s});i=this.history.createHref(o.href)}s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startTransition(async()=>{var a;try{const u=this.latestLocation,l=this.state.resolvedLocation;this.cancelMatches();let c;sa(()=>{c=this.matchRoutes(u),this.__store.setState(h=>({...h,status:"pending",isLoading:!0,location:u,pendingMatches:c,cachedMatches:h.cachedMatches.filter(f=>!c.find(p=>p.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...Io({resolvedLocation:l,location:u})}),this.emit({type:"onBeforeLoad",...Io({resolvedLocation:l,location:u})}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:c,location:u,onReady:async()=>{this.startViewTransition(async()=>{let h,f,p;sa(()=>{this.__store.setState(_=>{const E=_.matches,b=_.pendingMatches||_.matches;return h=E.filter(y=>!b.find(v=>v.id===y.id)),f=b.filter(y=>!E.find(v=>v.id===y.id)),p=E.filter(y=>b.find(v=>v.id===y.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:b,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...h.filter(y=>y.status!=="error")]}}),this.clearExpiredCache()}),[[h,"onLeave"],[f,"onEnter"],[p,"onStay"]].forEach(([_,E])=>{_.forEach(b=>{var y,v;(v=(y=this.looseRoutesById[b.routeId].options)[E])==null||v.call(y,b)})})})}})}catch(u){bg(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):dr(u)&&(i=u),this.__store.setState(l=>({...l,statusCode:r?r.statusCode:i?404:l.matches.some(c=>c.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const s=this.latestLocation,o=this.state.resolvedLocation,a=typeof r.types=="function"?r.types(Io({resolvedLocation:o,location:s})):r.types;i={update:n,types:a}}else i=n;document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(c=>c.id===n),a=this.state.matches.find(c=>c.id===n),u=this.state.cachedMatches.find(c=>c.id===n),l=o?"pendingMatches":a?"matches":u?"cachedMatches":"";return l&&this.__store.setState(c=>{var h;return{...c,[l]:(h=c[l])==null?void 0:h.map(f=>f.id===n?s=r(f):f)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:a})=>{let u,l=!1;const c=async()=>{l||(l=!0,await(s==null?void 0:s()))},h=p=>!!(i&&!this.state.matches.find(_=>_.id===p)),f=(p,_)=>{var E,b,y,v;if(bg(_)&&!_.reloadDocument)throw _;if(fo(_)||dr(_)){if(o(p.id,w=>({...w,status:fo(_)?"redirected":dr(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=p.routeId),(E=p.beforeLoadPromise)==null||E.resolve(),(b=p.loaderPromise)==null||b.resolve(),(y=p.loadPromise)==null||y.resolve(),fo(_))throw l=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(dr(_))throw this._handleNotFound(r,_,{updateMatch:o}),(v=this.serverSsr)==null||v.onMatchSettled({router:this,match:this.getMatch(p.id)}),_}};try{await new Promise((p,_)=>{(async()=>{var E,b,y,v;try{const w=(L,A,I)=>{var R,S;const{id:D,routeId:O}=r[L],N=this.looseRoutesById[O];if(A instanceof Promise)throw A;A.routerCode=I,u=u??L,f(this.getMatch(D),A);try{(S=(R=N.options).onError)==null||S.call(R,A)}catch(Q){A=Q,f(this.getMatch(D),A)}o(D,Q=>{var ie,le;return(ie=Q.beforeLoadPromise)==null||ie.resolve(),(le=Q.loadPromise)==null||le.resolve(),{...Q,error:A,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[L,{id:A,routeId:I}]of r.entries()){const R=this.getMatch(A),S=(E=r[L-1])==null?void 0:E.id,D=this.looseRoutesById[I],O=D.options.pendingMs??this.options.defaultPendingMs,N=!!(s&&!this.isServer&&!h(A)&&(D.options.loader||D.options.beforeLoad||Uw(D))&&typeof O=="number"&&O!==1/0&&(D.options.pendingComponent??((b=this.options)==null?void 0:b.defaultPendingComponent)));let Q=!0;if((R.beforeLoadPromise||R.loaderPromise)&&(N&&setTimeout(()=>{try{c()}catch{}},O),await R.beforeLoadPromise,Q=this.getMatch(A).status!=="success"),Q){try{o(A,Fe=>{const ut=Fe.loadPromise;return{...Fe,loadPromise:ca(()=>{ut==null||ut.resolve()}),beforeLoadPromise:ca()}});const ie=new AbortController;let le;N&&(le=setTimeout(()=>{try{c()}catch{}},O));const{paramsError:fe,searchError:K}=this.getMatch(A);fe&&w(L,fe,"PARSE_PARAMS"),K&&w(L,K,"VALIDATE_SEARCH");const oe=()=>S?this.getMatch(S).context:this.options.context??{};o(A,Fe=>({...Fe,isFetching:"beforeLoad",fetchCount:Fe.fetchCount+1,abortController:ie,pendingTimeout:le,context:{...oe(),...Fe.__routeContext}}));const{search:F,params:pe,context:ve,cause:B}=this.getMatch(A),ge=h(A),xe={search:F,abortController:ie,params:pe,preload:ge,context:ve,location:n,navigate:Fe=>this.navigate({...Fe,_fromLocation:n}),buildLocation:this.buildLocation,cause:ge?"preload":B,matches:r},Ee=await((v=(y=D.options).beforeLoad)==null?void 0:v.call(y,xe))??{};(fo(Ee)||dr(Ee))&&w(L,Ee,"BEFORE_LOAD"),o(A,Fe=>({...Fe,__beforeLoadContext:Ee,context:{...oe(),...Fe.__routeContext,...Ee},abortController:ie}))}catch(ie){w(L,ie,"BEFORE_LOAD")}o(A,ie=>{var le;return(le=ie.beforeLoadPromise)==null||le.resolve(),{...ie,beforeLoadPromise:void 0,isFetching:!1}})}}const k=r.slice(0,u),U=[];k.forEach(({id:L,routeId:A},I)=>{U.push((async()=>{const{loaderPromise:R}=this.getMatch(L);let S=!1,D=!1;if(R){await R;const O=this.getMatch(L);O.error&&f(O,O.error)}else{const O=U[I-1],N=this.looseRoutesById[A],Q=()=>{const{params:ge,loaderDeps:xe,abortController:Ee,context:Fe,cause:ut}=this.getMatch(L),rt=h(L);return{params:ge,deps:xe,preload:!!rt,parentMatchPromise:O,abortController:Ee,context:Fe,location:n,navigate:Ge=>this.navigate({...Ge,_fromLocation:n}),cause:rt?"preload":ut,route:N}},ie=Date.now()-this.getMatch(L).updatedAt,le=h(L),fe=le?N.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:N.options.staleTime??this.options.defaultStaleTime??0,K=N.options.shouldReload,oe=typeof K=="function"?K(Q()):K;o(L,ge=>({...ge,loaderPromise:ca(),preload:!!le&&!this.state.matches.find(xe=>xe.id===L)}));const F=()=>{var ge,xe,Ee,Fe,ut,rt;const Ge=this.getMatch(L);if(!Ge)return;const Tt={matches:r,match:Ge,params:Ge.params,loaderData:Ge.loaderData},At=(xe=(ge=N.options).head)==null?void 0:xe.call(ge,Tt),pi=At==null?void 0:At.meta,mi=At==null?void 0:At.links,zr=At==null?void 0:At.scripts,jn=(Fe=(Ee=N.options).scripts)==null?void 0:Fe.call(Ee,Tt),$r=(rt=(ut=N.options).headers)==null?void 0:rt.call(ut,Tt);o(L,gi=>({...gi,meta:pi,links:mi,headScripts:zr,headers:$r,scripts:jn}))},pe=async()=>{var ge,xe,Ee,Fe,ut;try{const rt=async()=>{const Ge=this.getMatch(L);Ge.minPendingPromise&&await Ge.minPendingPromise};try{this.loadRouteChunk(N),o(L,Tt=>({...Tt,isFetching:"loader"}));const Ge=await((xe=(ge=N.options).loader)==null?void 0:xe.call(ge,Q()));f(this.getMatch(L),Ge),await N._lazyPromise,await rt(),await N._componentsPromise,sa(()=>{o(L,Tt=>({...Tt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Ge})),F()})}catch(Ge){let Tt=Ge;await rt(),f(this.getMatch(L),Ge);try{(Fe=(Ee=N.options).onError)==null||Fe.call(Ee,Ge)}catch(At){Tt=At,f(this.getMatch(L),At)}sa(()=>{o(L,At=>({...At,error:Tt,status:"error",isFetching:!1})),F()})}(ut=this.serverSsr)==null||ut.onMatchSettled({router:this,match:this.getMatch(L)})}catch(rt){sa(()=>{o(L,Ge=>({...Ge,loaderPromise:void 0})),F()}),f(this.getMatch(L),rt)}},{status:ve,invalid:B}=this.getMatch(L);S=ve==="success"&&(B||(oe??ie>fe)),le&&N.options.preload===!1||(S&&!a?(D=!0,(async()=>{try{await pe();const{loaderPromise:ge,loadPromise:xe}=this.getMatch(L);ge==null||ge.resolve(),xe==null||xe.resolve(),o(L,Ee=>({...Ee,loaderPromise:void 0}))}catch(ge){bg(ge)&&await this.navigate(ge)}})()):ve!=="success"||S&&a?await pe():F())}if(!D){const{loaderPromise:O,loadPromise:N}=this.getMatch(L);O==null||O.resolve(),N==null||N.resolve()}return o(L,O=>({...O,isFetching:D?O.isFetching:!1,loaderPromise:D?O.loaderPromise:void 0,invalid:!1})),this.getMatch(L)})())}),await Promise.all(U),p()}catch(w){_(w)}})()}),await c()}catch(p){if(fo(p)||dr(p))throw dr(p)&&!i&&await c(),p}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n==null?void 0:n.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n==null?void 0:n.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(NR.map(async r=>{const i=n.options[r];i!=null&&i.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),o=new Set([...s,...this.state.cachedMatches.map(a=>a.id)]);sa(()=>{i.forEach(a=>{o.has(a.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,a]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(a,u)=>{s.has(a)?i=i.map(l=>l.id===a?u(l):l):this.updateMatch(a,u)}}),i}catch(a){if(fo(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});dr(a)||console.error(a);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=oh(this.basepath,a.pathname,{...r,to:s.pathname});return!u||n.params&&!Ba(u,n.params,{partial:!0})?!1:u&&((r==null?void 0:r.includeSearch)??!0)?Ba(a.search,s.search,{partial:!0})?u:!1:u},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{var s;const o=this.routesById[r.routeId??""]??this.routeTree,a={};for(const l of n)a[l.routeId]=l;!o.options.notFoundComponent&&((s=this.options)!=null&&s.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),xi(o.options.notFoundComponent);const u=a[o.id];xi(u,"Could not find match for route: "+o.id),i(u.id,l=>({...l,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??V3,parseSearch:t.parseSearch??F3}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(t,n==null?void 0:n.dest);let o=!1;(r?r.path!=="/"&&s["**"]:To(t.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const a=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.children)return f.id}return xr}})(),u=i.map(h=>{var f;let p;const _=((f=h.options.params)==null?void 0:f.parse)??h.options.parseParams;if(_)try{const E=_(s);Object.assign(s,E)}catch(E){if(p=new j3(E.message,{cause:E}),n!=null&&n.throwOnError)throw p;return p}}),l=[],c=h=>(h==null?void 0:h.id)?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,f)=>{var p,_;const E=l[f-1],[b,y,v]=(()=>{const N=(E==null?void 0:E.search)??t.search,Q=(E==null?void 0:E._strictSearch)??{};try{const ie=Cg(h.options.validateSearch,{...N})??{};return[{...N,...ie},{...Q,...ie},void 0]}catch(ie){let le=ie;if(ie instanceof Bf||(le=new Bf(ie.message,{cause:ie})),n!=null&&n.throwOnError)throw le;return[N,{},le]}})(),w=((_=(p=h.options).loaderDeps)==null?void 0:_.call(p,{search:b}))??"",k=w?JSON.stringify(w):"",{usedParams:U,interpolatedPath:L}=sh({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),A=sh({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+k,I=this.getMatch(A),R=this.state.matches.find(N=>N.routeId===h.id),S=R?"stay":"enter";let D;if(I)D={...I,cause:S,params:R?cr(R.params,s):s,_strictParams:U,search:cr(R?R.search:I.search,b),_strictSearch:y};else{const N=h.options.loader||h.options.beforeLoad||h.lazyFn||Uw(h)?"pending":"success";D={id:A,index:f,routeId:h.id,params:R?cr(R.params,s):s,_strictParams:U,pathname:Mi([this.basepath,L]),updatedAt:Date.now(),search:R?cr(R.search,b):b,_strictSearch:y,searchError:void 0,status:N,isFetching:!1,error:void 0,paramsError:u[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:S,loaderDeps:R?cr(R.loaderDeps,w):w,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:ca(),fullPath:h.fullPath}}n!=null&&n.preload||(D.globalNotFound=a===h.id),D.searchError=v;const O=c(E);D.context={...O,...D.__routeContext,...D.__beforeLoadContext},l.push(D)}),l.forEach((h,f)=>{var p,_;const E=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&(n==null?void 0:n._buildLocation)!==!0){const y=l[f-1],v=c(y),w={deps:h.loaderDeps,params:h.params,context:v,location:t,navigate:k=>this.navigate({...k,_fromLocation:t}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:l};h.__routeContext=((_=(p=E.options).context)==null?void 0:_.call(p,w))??{},h.context={...v,...h.__routeContext,...h.__beforeLoadContext}}}),l}}class Bf extends Error{}class j3 extends Error{}function z3(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Cg(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new Bf("Async validation not supported");if(n.issues)throw new Bf(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}const NR=["component","errorComponent","pendingComponent","notFoundComponent"];function Uw(e){var t;for(const n of NR)if((t=e.options[n])!=null&&t.preload)return!0;return!1}const $3="Error preloading route! ";class OR{constructor(t){if(this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!(s!=null&&s.path)&&!(s!=null&&s.id);if(this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o)this._path=xr;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let a=o?xr:s==null?void 0:s.path;a&&a!=="/"&&(a=HE(a));const u=(s==null?void 0:s.id)||a;let l=o?xr:Mi([this.parentRoute.id===xr?"":this.parentRoute.id,u]);a===xr&&(a="/"),l!==xr&&(l=Mi(["/",l]));const c=l===xr?"/":Mi([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=c,this._to=c,this._ssr=(s==null?void 0:s.ssr)??n.defaultSsr??!0},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this._ssr=n._ssr,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class W3 extends OR{constructor(t){super(t)}}function jE(e){const t=e.errorComponent??Up;return C.jsx(q3,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:r})=>n?x.createElement(t,{error:n,reset:r}):e.children})}class q3 extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Up({error:e}){const[t,n]=x.useState(!1);return C.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[C.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),C.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:t?"Hide Error":"Show Error"})]}),C.jsx("div",{style:{height:".25rem"}}),t?C.jsx("div",{children:C.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?C.jsx("code",{children:e.message}):null})}):null]})}var DR={exports:{}},LR={},MR={exports:{}},FR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=x;function G3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K3=typeof Object.is=="function"?Object.is:G3,Y3=iu.useState,Q3=iu.useEffect,X3=iu.useLayoutEffect,Z3=iu.useDebugValue;function J3(e,t){var n=t(),r=Y3({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return X3(function(){i.value=n,i.getSnapshot=t,Ig(i)&&s({inst:i})},[e,n,t]),Q3(function(){return Ig(i)&&s({inst:i}),e(function(){Ig(i)&&s({inst:i})})},[e]),Z3(n),n}function Ig(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!K3(e,n)}catch{return!0}}function e4(e,t){return t()}var t4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e4:J3;FR.useSyncExternalStore=iu.useSyncExternalStore!==void 0?iu.useSyncExternalStore:t4;MR.exports=FR;var n4=MR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=x,r4=n4;function i4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s4=typeof Object.is=="function"?Object.is:i4,o4=r4.useSyncExternalStore,a4=Hp.useRef,u4=Hp.useEffect,l4=Hp.useMemo,c4=Hp.useDebugValue;LR.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=a4(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=l4(function(){function u(p){if(!l){if(l=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var _=o.value;if(i(_,p))return h=_}return h=p}if(_=h,s4(c,p))return _;var E=r(p);return i!==void 0&&i(_,E)?(c=p,_):(c=p,h=E)}var l=!1,c,h,f=n===void 0?null:n;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,n,r,i]);var a=o4(e,s[0],s[1]);return u4(function(){o.hasValue=!0,o.value=a},[a]),c4(a),a};DR.exports=LR;var VR=DR.exports;function d4(e,t=n=>n){return VR.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,h4)}function h4(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const Ag=x.createContext(null);function BR(){return typeof document>"u"?Ag:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Ag,Ag)}function Br(e){const t=x.useContext(BR());return e==null||e.warn,t}function mn(e){const t=Br({warn:(e==null?void 0:e.router)===void 0}),n=(e==null?void 0:e.router)||t,r=x.useRef(void 0);return d4(n.__store,i=>{if(e!=null&&e.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const s=cr(r.current,e.select(i));return r.current=s,s}return e.select(i)}return i})}const jp=x.createContext(void 0),f4=x.createContext(void 0);function si(e){const t=x.useContext(e.from?f4:jp);return mn({select:r=>{const i=r.matches.find(s=>e.from?e.from===s.routeId:s.id===t);if(xi(!((e.shouldThrow??!0)&&!i),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),i!==void 0)return e.select?e.select(i):i},structuralSharing:e.structuralSharing})}function zE(e){return si({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function $E(e){const{select:t,...n}=e;return si({...n,select:r=>t?t(r.loaderDeps):r.loaderDeps})}function WE(e){return si({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function qE(e){return si({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function GE(e){const{navigate:t}=Br();return x.useCallback(n=>t({from:e==null?void 0:e.from,...n}),[e==null?void 0:e.from,t])}const Tl=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Rg(e){const t=x.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function p4(e,t,n={},r={}){const i=x.useRef(typeof IntersectionObserver=="function"),s=x.useRef(null);return x.useEffect(()=>{if(!(!e.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{t(o)},n),s.current.observe(e.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[t,n,r.disabled,e]),s.current}function m4(e){const t=x.useRef(null);return x.useImperativeHandle(e,()=>t.current,[]),t}function g4(){const e=Br(),t=x.useRef({router:e,mounted:!1}),n=mn({select:({isLoading:h})=>h}),[r,i]=x.useState(!1),s=mn({select:h=>h.matches.some(f=>f.status==="pending"),structuralSharing:!0}),o=Rg(n),a=n||r||s,u=Rg(a),l=n||s,c=Rg(l);return e.isServer||(e.startTransition=h=>{i(!0),x.startTransition(()=>{h(),i(!1)})}),x.useEffect(()=>{const h=e.history.subscribe(e.load),f=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return To(e.latestLocation.href)!==To(f.href)&&e.commitLocation({...f,replace:!0}),()=>{h()}},[e,e.history]),Tl(()=>{if(typeof window<"u"&&e.clientSsr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(f){console.error(f)}})()},[e]),Tl(()=>{o&&!n&&e.emit({type:"onLoad",...Io(e.state)})},[o,e,n]),Tl(()=>{c&&!l&&e.emit({type:"onBeforeRouteMount",...Io(e.state)})},[l,c,e]),Tl(()=>{u&&!a&&(e.emit({type:"onResolved",...Io(e.state)}),e.__store.setState(h=>({...h,status:"idle",resolvedLocation:h.location})),D3(e))},[a,u,e]),null}function _4(e){const t=mn({select:n=>`not-found-${n.location.pathname}-${n.status}`});return C.jsx(jE,{getResetKey:()=>t,onCatch:(n,r)=>{var i;if(dr(n))(i=e.onCatch)==null||i.call(e,n,r);else throw n},errorComponent:({error:n})=>{var r;if(dr(n))return(r=e.fallback)==null?void 0:r.call(e,n);throw n},children:e.children})}function y4(){return C.jsx("p",{children:"Not Found"})}function $h(e){return C.jsx(C.Fragment,{children:e.children})}function UR(e,t,n){return t.options.notFoundComponent?C.jsx(t.options.notFoundComponent,{data:n}):e.options.defaultNotFoundComponent?C.jsx(e.options.defaultNotFoundComponent,{data:n}):C.jsx(y4,{})}const HR={},E4=HR.hasOwnProperty,jR=(e,t)=>{for(const n in e)E4.call(e,n)&&t(n,e[n])},v4=(e,t)=>(t&&jR(t,(n,r)=>{e[n]=r}),e),T4=(e,t)=>{const n=e.length;let r=-1;for(;++r<n;)t(e[r])},ah=e=>"\\u"+("0000"+e).slice(-4),sl=(e,t)=>{let n=e.toString(16);return t?n:n.toUpperCase()},Qc=HR.toString,w4=Array.isArray,S4=e=>typeof Buffer=="function"&&Buffer.isBuffer(e),b4=e=>Qc.call(e)=="[object Object]",C4=e=>typeof e=="string"||Qc.call(e)=="[object String]",I4=e=>typeof e=="number"||Qc.call(e)=="[object Number]",xg=e=>typeof e=="bigint",A4=e=>typeof e=="function",R4=e=>Qc.call(e)=="[object Map]",x4=e=>Qc.call(e)=="[object Set]",k4={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},P4=/[\\\b\f\n\r\t]/,N4=/[0-9]/,O4=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D4=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L4=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,po=(e,t)=>{const n=()=>{l=u,++t.indentLevel,u=t.indent.repeat(t.indentLevel)},r={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},i=t&&t.json;i&&(r.quotes="double",r.wrap=!0),t=v4(r,t),t.quotes!="single"&&t.quotes!="double"&&t.quotes!="backtick"&&(t.quotes="single");const s=t.quotes=="double"?'"':t.quotes=="backtick"?"`":"'",o=t.compact,a=t.lowercaseHex;let u=t.indent.repeat(t.indentLevel),l="";const c=t.__inline1__,h=t.__inline2__,f=o?"":`
`;let p,_=!0;const E=t.numbers=="binary",b=t.numbers=="octal",y=t.numbers=="decimal",v=t.numbers=="hexadecimal";if(i&&e&&A4(e.toJSON)&&(e=e.toJSON()),!C4(e)){if(R4(e))return e.size==0?"new Map()":(o||(t.__inline1__=!0,t.__inline2__=!1),"new Map("+po(Array.from(e),t)+")");if(x4(e))return e.size==0?"new Set()":"new Set("+po(Array.from(e),t)+")";if(S4(e))return e.length==0?"Buffer.from([])":"Buffer.from("+po(Array.from(e),t)+")";if(w4(e))return p=[],t.wrap=!0,c&&(t.__inline1__=!1,t.__inline2__=!0),h||n(),T4(e,k=>{_=!1,h&&(t.__inline2__=!1),p.push((o||h?"":u)+po(k,t))}),_?"[]":h?"["+p.join(", ")+"]":"["+f+p.join(","+f)+f+(o?"":l)+"]";if(I4(e)||xg(e)){if(i)return JSON.stringify(Number(e));let k;if(y)k=String(e);else if(v){let U=e.toString(16);a||(U=U.toUpperCase()),k="0x"+U}else E?k="0b"+e.toString(2):b&&(k="0o"+e.toString(8));return xg(e)?k+"n":k}else return xg(e)?i?JSON.stringify(Number(e)):e+"n":b4(e)?(p=[],t.wrap=!0,n(),jR(e,(k,U)=>{_=!1,p.push((o?"":u)+po(k,t)+":"+(o?"":" ")+po(U,t))}),_?"{}":"{"+f+p.join(","+f)+f+(o?"":l)+"}"):i?JSON.stringify(e)||"null":String(e)}const w=t.escapeEverything?D4:L4;return p=e.replace(w,(k,U,L,A,I,R)=>{if(U){if(t.minimal)return U;const D=U.charCodeAt(0),O=U.charCodeAt(1);if(t.es6){const N=(D-55296)*1024+O-56320+65536;return"\\u{"+sl(N,a)+"}"}return ah(sl(D,a))+ah(sl(O,a))}if(L)return ah(sl(L.charCodeAt(0),a));if(k=="\0"&&!i&&!N4.test(R.charAt(I+1)))return"\\0";if(A)return A==s||t.escapeEverything?"\\"+A:A;if(P4.test(k))return k4[k];if(t.minimal&&!O4.test(k))return k;const S=sl(k.charCodeAt(0),a);return i||S.length>2?ah(S):"\\x"+("00"+S).slice(-2)}),s=="`"&&(p=p.replace(/\$\{/g,"\\${")),t.isScriptContext&&(p=p.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,i?"\\u003C!--":"\\x3C!--")),t.wrap&&(p=s+p+s),p};po.version="3.0.2";function M4({children:e,log:t}){return typeof document<"u"?null:C.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[e,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function F4(){const e=Br(),n=(e.options.getScrollRestorationKey||I_)(e.latestLocation),r=n!==I_(e.latestLocation)?n:null;return!e.isScrollRestoring||!e.isServer?null:C.jsx(M4,{children:`(${kR.toString()})(${JSON.stringify(Ff)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const zR=x.memo(function({matchId:t}){var n,r;const i=Br(),s=mn({select:y=>{var v;return(v=y.matches.find(w=>w.id===t))==null?void 0:v.routeId}});xi(s);const o=i.routesById[s],a=o.options.pendingComponent??i.options.defaultPendingComponent,u=a?C.jsx(a,{}):null,l=o.options.errorComponent??i.options.defaultErrorComponent,c=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,f=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??a??((r=o.options.errorComponent)==null?void 0:r.preload))?x.Suspense:$h,p=l?jE:$h,_=h?_4:$h,E=mn({select:y=>y.loadedAt}),b=mn({select:y=>{var v;const w=y.matches.findIndex(k=>k.id===t);return(v=y.matches[w-1])==null?void 0:v.routeId}});return C.jsxs(C.Fragment,{children:[C.jsx(jp.Provider,{value:t,children:C.jsx(f,{fallback:u,children:C.jsx(p,{getResetKey:()=>E,errorComponent:l||Up,onCatch:(y,v)=>{if(dr(y))throw y;c==null||c(y,v)},children:C.jsx(_,{fallback:y=>{if(!h||y.routeId&&y.routeId!==s||!y.routeId&&!o.isRoot)throw y;return x.createElement(h,y)},children:C.jsx(B4,{matchId:t})})})})}),b===xr&&i.options.scrollRestoration?C.jsxs(C.Fragment,{children:[C.jsx(V4,{}),C.jsx(F4,{})]}):null]})});function V4(){const e=Br(),t=x.useRef(void 0);return C.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...Io(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.key)}const B4=x.memo(function({matchId:t}){var n,r,i;const s=Br(),{match:o,key:a,routeId:u}=mn({select:f=>{const p=f.matches.findIndex(w=>w.id===t),_=f.matches[p],E=_.routeId,b=s.routesById[E].options.remountDeps??s.options.defaultRemountDeps,y=b==null?void 0:b({routeId:E,loaderDeps:_.loaderDeps,params:_._strictParams,search:_._strictSearch});return{key:y?JSON.stringify(y):void 0,routeId:E,match:b_(_,["id","status","error"])}},structuralSharing:!0}),l=s.routesById[u],c=x.useMemo(()=>{const f=l.options.component??s.options.defaultComponent;return f?C.jsx(f,{},a):C.jsx(KE,{})},[a,l.options.component,s.options.defaultComponent]),h=(l.options.errorComponent??s.options.defaultErrorComponent)||Up;if(o.status==="notFound")return xi(dr(o.error)),UR(s,l,o.error);if(o.status==="redirected")throw xi(fo(o.error)),(n=s.getMatch(o.id))==null?void 0:n.loadPromise;if(o.status==="error"){if(s.isServer)return C.jsx(h,{error:o.error,reset:void 0,info:{componentStack:""}});throw o.error}if(o.status==="pending"){const f=l.options.pendingMinMs??s.options.defaultPendingMinMs;if(f&&!((r=s.getMatch(o.id))!=null&&r.minPendingPromise)&&!s.isServer){const p=ca();Promise.resolve().then(()=>{s.updateMatch(o.id,_=>({..._,minPendingPromise:p}))}),setTimeout(()=>{p.resolve(),s.updateMatch(o.id,_=>({..._,minPendingPromise:void 0}))},f)}throw(i=s.getMatch(o.id))==null?void 0:i.loadPromise}return c}),KE=x.memo(function(){const t=Br(),n=x.useContext(jp),r=mn({select:l=>{var c;return(c=l.matches.find(h=>h.id===n))==null?void 0:c.routeId}}),i=t.routesById[r],s=mn({select:l=>{const h=l.matches.find(f=>f.id===n);return xi(h),h.globalNotFound}}),o=mn({select:l=>{var c;const h=l.matches,f=h.findIndex(p=>p.id===n);return(c=h[f+1])==null?void 0:c.id}});if(s)return UR(t,i,void 0);if(!o)return null;const a=C.jsx(zR,{matchId:o}),u=t.options.defaultPendingComponent?C.jsx(t.options.defaultPendingComponent,{}):null;return n===xr?C.jsx(x.Suspense,{fallback:u,children:a}):a});function U4(){const e=Br(),t=e.options.defaultPendingComponent?C.jsx(e.options.defaultPendingComponent,{}):null,n=e.isServer||typeof document<"u"&&e.clientSsr?$h:x.Suspense,r=C.jsxs(n,{fallback:t,children:[C.jsx(g4,{}),C.jsx(H4,{})]});return e.options.InnerWrap?C.jsx(e.options.InnerWrap,{children:r}):r}function H4(){const e=mn({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),t=mn({select:n=>n.loadedAt});return C.jsx(jp.Provider,{value:e,children:C.jsx(jE,{getResetKey:()=>t,errorComponent:Up,onCatch:n=>{n.message||n.toString()},children:e?C.jsx(zR,{matchId:e}):null})})}function j4(e){return mn({select:t=>{const n=t.matches;return e!=null&&e.select?e.select(n):n},structuralSharing:e==null?void 0:e.structuralSharing})}function z4(e,t){const n=Br(),[r,i]=x.useState(!1),s=x.useRef(!1),o=m4(t),{activeProps:a=()=>({className:"active"}),inactiveProps:u=()=>({}),activeOptions:l,to:c,preload:h,preloadDelay:f,hashScrollIntoView:p,replace:_,startTransition:E,resetScroll:b,viewTransition:y,children:v,target:w,disabled:k,style:U,className:L,onClick:A,onFocus:I,onMouseEnter:R,onMouseLeave:S,onTouchStart:D,ignoreBlocker:O,...N}=e,{params:Q,search:ie,hash:le,state:fe,mask:K,reloadDocument:oe,...F}=N,pe=x.useMemo(()=>{try{return new URL(`${c}`),"external"}catch{}return"internal"},[c]),ve=mn({select:Xe=>Xe.location.search,structuralSharing:!0}),B=j4({select:Xe=>{var lt;return e.from??((lt=Xe[Xe.length-1])==null?void 0:lt.fullPath)}}),ge=x.useMemo(()=>({...e,from:B}),[e,B]),xe=x.useMemo(()=>n.buildLocation(ge),[n,ge,ve]),Ee=x.useMemo(()=>ge.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,ge.reloadDocument]),Fe=f??n.options.defaultPreloadDelay??0,ut=mn({select:Xe=>{if(l!=null&&l.exact){if(!C3(Xe.location.pathname,xe.pathname,n.basepath))return!1}else{const lt=Lf(Xe.location.pathname,n.basepath).split("/");if(!Lf(xe.pathname,n.basepath).split("/").every((Jo,$)=>Jo===lt[$]))return!1}return((l==null?void 0:l.includeSearch)??!0)&&!Ba(Xe.location.search,xe.search,{partial:!(l!=null&&l.exact),ignoreUndefined:!(l!=null&&l.explicitUndefined)})?!1:l!=null&&l.includeHash?Xe.location.hash===xe.hash:!0}}),rt=x.useCallback(()=>{n.preloadRoute(ge).catch(Xe=>{console.warn(Xe),console.warn($3)})},[ge,n]),Ge=x.useCallback(Xe=>{Xe!=null&&Xe.isIntersecting&&rt()},[rt]);if(p4(o,Ge,{rootMargin:"100px"},{disabled:!!k||Ee!=="viewport"}),Tl(()=>{s.current||!k&&Ee==="render"&&(rt(),s.current=!0)},[k,rt,Ee]),pe==="external")return{...F,ref:o,type:pe,href:c,...v&&{children:v},...w&&{target:w},...k&&{disabled:k},...U&&{style:U},...L&&{className:L},...A&&{onClick:A},...I&&{onFocus:I},...R&&{onMouseEnter:R},...S&&{onMouseLeave:S},...D&&{onTouchStart:D}};const Tt=Xe=>{if(!k&&!$4(Xe)&&!Xe.defaultPrevented&&(!w||w==="_self")&&Xe.button===0){Xe.preventDefault(),Yc.flushSync(()=>{i(!0)});const lt=n.subscribe("onResolved",()=>{lt(),i(!1)});return n.navigate({...ge,replace:_,resetScroll:b,hashScrollIntoView:p,startTransition:E,viewTransition:y,ignoreBlocker:O})}},At=Xe=>{k||Ee&&rt()},pi=At,mi=Xe=>{if(k)return;const lt=Xe.target||{};if(Ee){if(lt.preloadTimeout)return;lt.preloadTimeout=setTimeout(()=>{lt.preloadTimeout=null,rt()},Fe)}},zr=Xe=>{if(k)return;const lt=Xe.target||{};lt.preloadTimeout&&(clearTimeout(lt.preloadTimeout),lt.preloadTimeout=null)},jn=Xe=>lt=>{var yi;(yi=lt.persist)==null||yi.call(lt),Xe.filter(Boolean).forEach(Ji=>{lt.defaultPrevented||Ji(lt)})},$r=ut?vo(a,{})??{}:{},gi=ut?{}:vo(u,{}),Zi=[L,$r.className,gi.className].filter(Boolean).join(" "),_i={...U,...$r.style,...gi.style};return{...F,...$r,...gi,href:k?void 0:xe.maskedLocation?n.history.createHref(xe.maskedLocation.href):n.history.createHref(xe.href),ref:o,onClick:jn([A,Tt]),onFocus:jn([I,At]),onMouseEnter:jn([R,mi]),onMouseLeave:jn([S,zr]),onTouchStart:jn([D,pi]),disabled:!!k,target:w,...Object.keys(_i).length&&{style:_i},...Zi&&{className:Zi},...k&&{role:"link","aria-disabled":!0},...ut&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const Qn=x.forwardRef((e,t)=>{const{_asChild:n,...r}=e,{type:i,ref:s,...o}=z4(r,t),a=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,x.createElement(n||"a",{...o,ref:s},a)});function $4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let W4=class extends OR{constructor(t){super(t),this.useMatch=n=>si({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>si({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>qE({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>WE({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>$E({...n,from:this.id}),this.useLoaderData=n=>zE({...n,from:this.id}),this.useNavigate=()=>GE({from:this.fullPath}),this.Link=Ar.forwardRef((n,r)=>C.jsx(Qn,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}};function q4(e){return new W4(e)}function G4(){return e=>Y4(e)}class K4 extends W3{constructor(t){super(t),this.useMatch=n=>si({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>si({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>qE({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>WE({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>$E({...n,from:this.id}),this.useLoaderData=n=>zE({...n,from:this.id}),this.useNavigate=()=>GE({from:this.fullPath}),this.Link=Ar.forwardRef((n,r)=>C.jsx(Qn,{ref:r,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Y4(e){return new K4(e)}function kn(e){return new Q4(e,{silent:!0}).createRoute}class Q4{constructor(t,n){this.path=t,this.createRoute=r=>{this.silent;const i=q4(r);return i.isRoot=!1,i},this.silent=n==null?void 0:n.silent}}class X4{constructor(t){this.useMatch=n=>si({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>si({from:this.options.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>qE({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>WE({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>$E({...n,from:this.options.id}),this.useLoaderData=n=>zE({...n,from:this.options.id}),this.useNavigate=()=>{const n=Br();return GE({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Fne(e){return t=>new X4({id:e,...t})}const Z4=e=>new J4(e);class J4 extends H3{constructor(t){super(t)}}function e6({router:e,children:t,...n}){e.update({...e.options,...n,context:{...e.options.context,...n.context}});const r=BR(),i=C.jsx(r.Provider,{value:e,children:t});return e.options.Wrap?C.jsx(e.options.Wrap,{children:i}):i}function t6({router:e,...t}){return C.jsx(e6,{router:e,...t,children:C.jsx(U4,{})})}const n6="modulepreload",r6=function(e){return"/"+e},Hw={},bu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=r6(u),u in Hw)return;Hw[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":n6,l||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},i6=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},WR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;u||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($R(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new s6;const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const _=l<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o6=function(e){const t=$R(e);return WR.encodeByteArray(t,!0)},Uf=function(e){return o6(e).replace(/\./g,"")},qR=function(e){try{return WR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=()=>a6().__FIREBASE_DEFAULTS__,l6=()=>{if(typeof process>"u"||typeof jw>"u")return;const e=jw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},c6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qR(e[1]);return t&&JSON.parse(t)},zp=()=>{try{return u6()||l6()||c6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},GR=e=>{var t,n;return(n=(t=zp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},YE=e=>{const t=GR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},KR=()=>{var e;return(e=zp())===null||e===void 0?void 0:e.config},YR=e=>{var t;return(t=zp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Uf(JSON.stringify(n)),Uf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function f6(){var e;const t=(e=zp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m6(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function g6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _6(){const e=_n();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y6(){return!f6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E6(){try{return typeof indexedDB=="object"}catch{return!1}}function v6(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="FirebaseError";class Ur extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=T6,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?w6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ur(i,a,r)}}function w6(e,t){return e.replace(S6,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const S6=/\{\$([^}]+)}/g;function b6(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(zw(s)&&zw(o)){if(!Hf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zw(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Sl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function C6(e,t){const n=new I6(e,t);return n.subscribe.bind(n)}class I6{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A6(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=kg),i.error===void 0&&(i.error=kg),i.complete===void 0&&(i.complete=kg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A6(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e){return e&&e._delegate?e._delegate:e}class ji{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R6=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new d6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k6(t))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=mo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mo){return this.instances.has(t)}getOptions(t=mo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x6(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=mo){return this.component?this.component.multipleInstances?t:mo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function x6(e){return e===mo?void 0:e}function k6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new R6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(He||(He={}));const N6={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},O6=He.INFO,D6={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},L6=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=D6[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class QE{constructor(t){this.name=t,this._logLevel=O6,this._logHandler=L6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in He))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...t),this._logHandler(this,He.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...t),this._logHandler(this,He.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,He.INFO,...t),this._logHandler(this,He.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,He.WARN,...t),this._logHandler(this,He.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...t),this._logHandler(this,He.ERROR,...t)}}const M6=(e,t)=>t.some(n=>e instanceof n);let $w,Ww;function F6(){return $w||($w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V6(){return Ww||(Ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XR=new WeakMap,A_=new WeakMap,ZR=new WeakMap,Pg=new WeakMap,XE=new WeakMap;function B6(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Fs(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&XR.set(n,e)}).catch(()=>{}),XE.set(t,e),t}function U6(e){if(A_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});A_.set(e,t)}let R_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return A_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ZR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function H6(e){R_=e(R_)}function j6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ng(this),t,...n);return ZR.set(r,t.sort?t.sort():[t]),Fs(r)}:V6().includes(e)?function(...t){return e.apply(Ng(this),t),Fs(XR.get(this))}:function(...t){return Fs(e.apply(Ng(this),t))}}function z6(e){return typeof e=="function"?j6(e):(e instanceof IDBTransaction&&U6(e),M6(e,F6())?new Proxy(e,R_):e)}function Fs(e){if(e instanceof IDBRequest)return B6(e);if(Pg.has(e))return Pg.get(e);const t=z6(e);return t!==e&&(Pg.set(e,t),XE.set(t,e)),t}const Ng=e=>XE.get(e);function $6(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Fs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fs(o.result),u.oldVersion,u.newVersion,Fs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const W6=["get","getKey","getAll","getAllKeys","count"],q6=["put","add","delete","clear"],Og=new Map;function qw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Og.get(t))return Og.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=q6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W6.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Og.set(t,s),s}H6(e=>({...e,get:(t,n,r)=>qw(t,n)||e.get(t,n,r),has:(t,n)=>!!qw(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K6(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const x_="@firebase/app",Gw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new QE("@firebase/app"),Y6="@firebase/app-compat",Q6="@firebase/analytics-compat",X6="@firebase/analytics",Z6="@firebase/app-check-compat",J6="@firebase/app-check",eF="@firebase/auth",tF="@firebase/auth-compat",nF="@firebase/database",rF="@firebase/data-connect",iF="@firebase/database-compat",sF="@firebase/functions",oF="@firebase/functions-compat",aF="@firebase/installations",uF="@firebase/installations-compat",lF="@firebase/messaging",cF="@firebase/messaging-compat",dF="@firebase/performance",hF="@firebase/performance-compat",fF="@firebase/remote-config",pF="@firebase/remote-config-compat",mF="@firebase/storage",gF="@firebase/storage-compat",_F="@firebase/firestore",yF="@firebase/vertexai-preview",EF="@firebase/firestore-compat",vF="firebase",TF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="[DEFAULT]",wF={[x_]:"fire-core",[Y6]:"fire-core-compat",[X6]:"fire-analytics",[Q6]:"fire-analytics-compat",[J6]:"fire-app-check",[Z6]:"fire-app-check-compat",[eF]:"fire-auth",[tF]:"fire-auth-compat",[nF]:"fire-rtdb",[rF]:"fire-data-connect",[iF]:"fire-rtdb-compat",[sF]:"fire-fn",[oF]:"fire-fn-compat",[aF]:"fire-iid",[uF]:"fire-iid-compat",[lF]:"fire-fcm",[cF]:"fire-fcm-compat",[dF]:"fire-perf",[hF]:"fire-perf-compat",[fF]:"fire-rc",[pF]:"fire-rc-compat",[mF]:"fire-gcs",[gF]:"fire-gcs-compat",[_F]:"fire-fst",[EF]:"fire-fst-compat",[yF]:"fire-vertex","fire-js":"fire-js",[vF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,SF=new Map,P_=new Map;function Kw(e,t){try{e.container.addComponent(t)}catch(n){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $s(e){const t=e.name;if(P_.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;P_.set(t,e);for(const n of jf.values())Kw(n,e);for(const n of SF.values())Kw(n,e);return!0}function Jc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ki(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Xc("app","Firebase",bF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=TF;function JR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:k_,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});if(n||(n=KR()),!n)throw Vs.create("no-options");const s=jf.get(i);if(s){if(Hf(n,s.options)&&Hf(r,s.config))return s;throw Vs.create("duplicate-app",{appName:i})}const o=new P6(i);for(const u of P_.values())o.addComponent(u);const a=new CF(n,r,o);return jf.set(i,a),a}function $p(e=k_){const t=jf.get(e);if(!t&&e===k_&&KR())return JR();if(!t)throw Vs.create("no-app",{appName:e});return t}function yr(e,t,n){var r;let i=(r=wF[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(a.join(" "));return}$s(new ji(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="firebase-heartbeat-database",AF=1,bc="firebase-heartbeat-store";let Dg=null;function ex(){return Dg||(Dg=$6(IF,AF,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vs.create("idb-open",{originalErrorMessage:e.message})})),Dg}async function RF(e){try{const n=(await ex()).transaction(bc),r=await n.objectStore(bc).get(tx(e));return await n.done,r}catch(t){if(t instanceof Ur)zi.warn(t.message);else{const n=Vs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(n.message)}}}async function Yw(e,t){try{const r=(await ex()).transaction(bc,"readwrite");await r.objectStore(bc).put(t,tx(e)),await r.done}catch(n){if(n instanceof Ur)zi.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(r.message)}}}function tx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1024,kF=30*24*60*60*1e3;class PF{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qw(),{heartbeatsToSend:r,unsentEntries:i}=NF(this._heartbeatsCache.heartbeats),s=Uf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zi.warn(n),""}}}function Qw(){return new Date().toISOString().substring(0,10)}function NF(e,t=xF){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xw(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E6()?v6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Xw(e){return Uf(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(e){$s(new ji("platform-logger",t=>new G6(t),"PRIVATE")),$s(new ji("heartbeat",t=>new PF(t),"PRIVATE")),yr(x_,Gw,e),yr(x_,Gw,"esm2017"),yr("fire-js","")}DF("");var Xr=function(){return Xr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xr.apply(this,arguments)};function ed(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function LF(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MF=nx,rx=new Xc("auth","Firebase",nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new QE("@firebase/auth");function FF(e,...t){zf.logLevel<=He.WARN&&zf.warn(`Auth (${qo}): ${e}`,...t)}function Wh(e,...t){zf.logLevel<=He.ERROR&&zf.error(`Auth (${qo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,...t){throw ZE(e,...t)}function ei(e,...t){return ZE(e,...t)}function ix(e,t,n){const r=Object.assign(Object.assign({},MF()),{[t]:n});return new Xc("auth","Firebase",r).create(t,{appName:e.name})}function Bs(e){return ix(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZE(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return rx.create(e,...t)}function _e(e,t,...n){if(!e)throw ZE(t,...n)}function Pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wh(t),new Error(t)}function $i(e,t){e||Pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function VF(){return Zw()==="http:"||Zw()==="https:"}function Zw(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VF()||m6()||"connection"in navigator)?navigator.onLine:!0}function UF(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,n){this.shortDelay=t,this.longDelay=n,$i(n>t,"Short delay should be less than long delay!"),this.isMobile=h6()||g6()}get(){return BF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e,t){$i(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new td(3e4,6e4);function to(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qi(e,t,n,r,i={}){return ox(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zc(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:u},s);return p6()||(l.referrerPolicy="no-referrer"),sx.fetch()(ax(e,e.config.apiHost,n,a),l)})}async function ox(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},HF),t);try{const i=new $F(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw uh(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw uh(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw uh(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ix(e,c,l);Fr(e,c)}}catch(i){if(i instanceof Ur)throw i;Fr(e,"network-request-failed",{message:String(i)})}}async function Wp(e,t,n,r,i={}){const s=await Qi(e,t,n,r,i);return"mfaPendingCredential"in s&&Fr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ax(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?JE(e.config,i):`${e.config.apiScheme}://${i}`}function zF(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $F{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),jF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ei(e,t,r);return i.customData._tokenResponse=n,i}function Jw(e){return e!==void 0&&e.enterprise!==void 0}class WF{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return zF(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function qF(e,t){return Qi(e,"GET","/v2/recaptchaConfig",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(e,t){return Qi(e,"POST","/v1/accounts:delete",t)}async function ux(e,t){return Qi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KF(e,t=!1){const n=at(e),r=await n.getIdToken(t),i=ev(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ul(Lg(i.auth_time)),issuedAtTime:Ul(Lg(i.iat)),expirationTime:Ul(Lg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lg(e){return Number(e)*1e3}function ev(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const i=qR(n);return i?JSON.parse(i):(Wh("Failed to decode base64 JWT payload"),null)}catch(i){return Wh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eS(e){const t=ev(e);return _e(t,"internal-error"),_e(typeof t.exp<"u","internal-error"),_e(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ur&&YF(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function YF({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cc(e,ux(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?lx(s.providerUserInfo):[],a=ZF(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new N_(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function XF(e){const t=at(e);await Wf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZF(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function lx(e){return e.map(t=>{var{providerId:n}=t,r=ed(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(e,t){const n=await ox(e,{},async()=>{const r=Zc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=ax(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e9(e,t){return Qi(e,"POST","/v2/accounts:revokeToken",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_e(t.idToken,"internal-error"),_e(typeof t.idToken<"u","internal-error"),_e(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_e(t.length!==0,"internal-error");const n=eS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JF(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ua;return r&&(_e(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e,t){_e(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ni{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=ed(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new N_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Cc(this,this.stsTokenManager.getToken(this.auth,t));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return KF(this,t)}reload(){return XF(this)}_assign(t){this!==t&&(_e(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ni(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(Bs(this.auth));const t=await this.getIdToken();return await Cc(this,GF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:k,isAnonymous:U,providerData:L,stsTokenManager:A}=n;_e(w&&A,t,"internal-error");const I=Ua.fromJSON(this.name,A);_e(typeof w=="string",t,"internal-error"),os(h,t.name),os(f,t.name),_e(typeof k=="boolean",t,"internal-error"),_e(typeof U=="boolean",t,"internal-error"),os(p,t.name),os(_,t.name),os(E,t.name),os(b,t.name),os(y,t.name),os(v,t.name);const R=new Ni({uid:w,auth:t,email:f,emailVerified:k,displayName:h,isAnonymous:U,photoURL:_,phoneNumber:p,tenantId:E,stsTokenManager:I,createdAt:y,lastLoginAt:v});return L&&Array.isArray(L)&&(R.providerData=L.map(S=>Object.assign({},S))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new Ua;i.updateFromServerResponse(n);const s=new Ni({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Wf(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ua;a.updateFromIdToken(r);const u=new Ni({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new N_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Map;function Oi(e){$i(e instanceof Function,"Expected a class definition");let t=tS.get(e);return t?($i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cx.type="NONE";const nS=cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e,t,n){return`firebase:${e}:${t}:${n}`}class Ha{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,s),this.fullPersistenceKey=qh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ni._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ha(Oi(nS),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Oi(nS);const o=qh(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const h=Ni._fromJSON(t,c);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ha(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Ha(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(px(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gx(t))return"Blackberry";if(_x(t))return"Webos";if(hx(t))return"Safari";if((t.includes("chrome/")||fx(t))&&!t.includes("edge/"))return"Chrome";if(mx(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dx(e=_n()){return/firefox\//i.test(e)}function hx(e=_n()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fx(e=_n()){return/crios\//i.test(e)}function px(e=_n()){return/iemobile/i.test(e)}function mx(e=_n()){return/android/i.test(e)}function gx(e=_n()){return/blackberry/i.test(e)}function _x(e=_n()){return/webos/i.test(e)}function tv(e=_n()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function t9(e=_n()){var t;return tv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function n9(){return _6()&&document.documentMode===10}function yx(e=_n()){return tv(e)||mx(e)||_x(e)||gx(e)||/windows phone/i.test(e)||px(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(e,t=[]){let n;switch(e){case"Browser":n=rS(_n());break;case"Worker":n=`${rS(_n())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(e,t={}){return Qi(e,"GET","/v2/passwordPolicy",to(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=6;class o9{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iS(this),this.idTokenSubscription=new iS(this),this.beforeStateQueue=new r9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ux(this,{idToken:t}),r=await Ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ki(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UF()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ki(this.app))return Promise.reject(Bs(this));const n=t?at(t):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_e(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ki(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await i9(this),n=new o9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Xc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e9(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Oi(t)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ex(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&FF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cu(e){return at(e)}class iS{constructor(t){this.auth=t,this.observer=null,this.addObserver=C6(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u9(e){qp=e}function vx(e){return qp.loadJS(e)}function l9(){return qp.recaptchaEnterpriseScript}function c9(){return qp.gapiScript}function d9(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const h9="recaptcha-enterprise",f9="NO_RECAPTCHA";class p9{constructor(t){this.type=h9,this.auth=Cu(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new WF(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Jw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(f9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Jw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=l9();u.length!==0&&(u+=a),vx(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function sS(e,t,n,r=!1){const i=new p9(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function O_(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await sS(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await sS(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(e,t){const n=Jc(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hf(s,t??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:t})}function g9(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function _9(e,t,n){const r=Cu(e);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=Tx(t),{host:o,port:a}=y9(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),E9()}function Tx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function y9(e){const t=Tx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:oS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:oS(o)}}}function oS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function E9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(t){return Pi("not implemented")}_linkToIdToken(t,n){return Pi("not implemented")}_getReauthenticationResolver(t){return Pi("not implemented")}}async function v9(e,t){return Qi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(e,t){return Wp(e,"POST","/v1/accounts:signInWithPassword",to(e,t))}async function w9(e,t){return Qi(e,"POST","/v1/accounts:sendOobCode",to(e,t))}async function S9(e,t){return w9(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(e,t){return Wp(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}async function C9(e,t){return Wp(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends nv{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ic(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ic(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(t,n,"signInWithPassword",T9);case"emailLink":return b9(t,{email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(t,r,"signUpPassword",v9);case"emailLink":return C9(t,{idToken:n,email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(e,t){return Wp(e,"POST","/v1/accounts:signInWithIdp",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="http://localhost";class Lo extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Lo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=ed(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Lo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return ja(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ja(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ja(t,n)}buildRequest(){const t={requestUri:I9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R9(e){const t=wl(Sl(e)).link,n=t?wl(Sl(t)).deep_link_id:null,r=wl(Sl(e)).deep_link_id;return(r?wl(Sl(r)).link:null)||r||n||t||e}class Gp{constructor(t){var n,r,i,s,o,a;const u=wl(Sl(t)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=A9((i=u.mode)!==null&&i!==void 0?i:null);_e(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=R9(t);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.providerId=Iu.PROVIDER_ID}static credential(t,n){return Ic._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Gp.parseLink(n);return _e(r,"argument-error"),Ic._fromEmailAndCode(t,r.code,r.tenantId)}}Iu.PROVIDER_ID="password";Iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends wx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends nd{constructor(){super("facebook.com")}static credential(t){return Lo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Lo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends nd{constructor(){super("github.com")}static credential(t){return Lo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends nd{constructor(){super("twitter.com")}static credential(t,n){return Lo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ni._fromIdTokenResponse(t,r,i),o=aS(r);return new su({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=aS(r);return new su({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function aS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends Ur{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new qf(t,n,r,i)}}function Sx(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(e,s,t,r):s})}async function x9(e,t,n=!1){const r=await Cc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return su._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(e,t,n=!1){const{auth:r}=e;if(ki(r.app))return Promise.reject(Bs(r));const i="reauthenticate";try{const s=await Cc(e,Sx(r,i,t,e),n);_e(s.idToken,r,"internal-error");const o=ev(s.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(e.uid===a,r,"user-mismatch"),su._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(e,t,n=!1){if(ki(e.app))return Promise.reject(Bs(e));const r="signIn",i=await Sx(e,r,t),s=await su._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function P9(e,t){return bx(Cu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(e,t,n){var r;_e(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),_e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_e(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_e(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bne(e,t,n){const r=Cu(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(o,a){_e(a.handleCodeInApp,r,"argument-error"),a&&N9(r,o,a)}s(i,n),await O_(r,i,"getOobCode",S9)}function Une(e,t){const n=Gp.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Hne(e,t,n){if(ki(e.app))return Promise.reject(Bs(e));const r=at(e),i=Iu.credentialWithLink(t,n||$f());return _e(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),P9(r,i)}function O9(e,t,n,r){return at(e).onIdTokenChanged(t,n,r)}function D9(e,t,n){return at(e).beforeAuthStateChanged(t,n)}function L9(e,t,n,r){return at(e).onAuthStateChanged(t,n,r)}function M9(e){return at(e).signOut()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=1e3,V9=10;class Ix extends Cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);n9()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,V9):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},F9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ix.type="LOCAL";const B9=Ix;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax extends Cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ax.type="SESSION";const Rx=Ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Kp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await U9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=rv("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function j9(e){ti().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function z9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function W9(){return xx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="firebaseLocalStorageDb",q9=1,Kf="firebaseLocalStorage",Px="fbase_key";class rd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(e,t){return e.transaction([Kf],t?"readwrite":"readonly").objectStore(Kf)}function G9(){const e=indexedDB.deleteDatabase(kx);return new rd(e).toPromise()}function D_(){const e=indexedDB.open(kx,q9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Kf,{keyPath:Px})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Kf)?t(r):(r.close(),await G9(),t(await D_()))})})}async function uS(e,t,n){const r=Yp(e,!0).put({[Px]:t,value:n});return new rd(r).toPromise()}async function K9(e,t){const n=Yp(e,!1).get(t),r=await new rd(n).toPromise();return r===void 0?null:r.value}function lS(e,t){const n=Yp(e,!0).delete(t);return new rd(n).toPromise()}const Y9=800,Q9=3;class Nx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D_(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Q9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kp._getInstance(W9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await z9(),!this.activeServiceWorker)return;this.sender=new H9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await D_();return await uS(t,Gf,"1"),await lS(t,Gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uS(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>K9(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Yp(i,!1).getAll();return new rd(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nx.type="LOCAL";const X9=Nx;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(e,t){return t?Oi(t):(_e(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends nv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function J9(e){return bx(e.auth,new iv(e),e.bypassAuthState)}function e5(e){const{auth:t,user:n}=e;return _e(n,t,"internal-error"),k9(n,new iv(e),e.bypassAuthState)}async function t5(e){const{auth:t,user:n}=e;return _e(n,t,"internal-error"),x9(n,new iv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return J9;case"linkViaPopup":case"linkViaRedirect":return t5;case"reauthViaPopup":case"reauthViaRedirect":return e5;default:Fr(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new td(2e3,1e4);class Ra extends Ox{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _e(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n5.get())};t()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="pendingRedirect",Gh=new Map;class i5 extends Ox{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Gh.get(this.auth._key());if(!t){try{const r=await s5(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Gh.set(this.auth._key(),t)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s5(e,t){const n=u5(t),r=a5(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function o5(e,t){Gh.set(e._key(),t)}function a5(e){return Oi(e._redirectPersistence)}function u5(e){return qh(r5,e.config.apiKey,e.name)}async function l5(e,t,n=!1){if(ki(e.app))return Promise.reject(Bs(e));const r=Cu(e),i=Z9(r,t),o=await new i5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=10*60*1e3;class d5{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!h5(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Dx(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=c5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cS(t))}saveEventToCache(t){this.cachedEventUids.add(cS(t)),this.lastProcessedEventTime=Date.now()}}function cS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Dx({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function h5(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dx(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(e,t={}){return Qi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m5=/^https?/;async function g5(e){if(e.config.emulator)return;const{authorizedDomains:t}=await f5(e);for(const n of t)try{if(_5(n))return}catch{}Fr(e,"unauthorized-domain")}function _5(e){const t=$f(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m5.test(n))return!1;if(p5.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new td(3e4,6e4);function dS(){const e=ti().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function E5(e){return new Promise((t,n)=>{var r,i,s;function o(){dS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dS(),n(ei(e,"network-request-failed"))},timeout:y5.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ti().gapi)===null||s===void 0)&&s.load)o();else{const a=d9("iframefcb");return ti()[a]=()=>{gapi.load?o():n(ei(e,"network-request-failed"))},vx(`${c9()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw Kh=null,t})}let Kh=null;function v5(e){return Kh=Kh||E5(e),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new td(5e3,15e3),w5="__/auth/iframe",S5="emulator/auth/iframe",b5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(e){const t=e.config;_e(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?JE(t,S5):`https://${e.config.authDomain}/${w5}`,r={apiKey:t.apiKey,appName:e.name,v:qo},i=C5.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zc(r).slice(1)}`}async function A5(e){const t=await v5(e),n=ti().gapi;return _e(n,e,"internal-error"),t.open({where:document.body,url:I5(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ei(e,"network-request-failed"),a=ti().setTimeout(()=>{s(o)},T5.get());function u(){ti().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x5=500,k5=600,P5="_blank",N5="http://localhost";class hS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O5(e,t,n,r=x5,i=k5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},R5),{width:r.toString(),height:i.toString(),top:s,left:o}),l=_n().toLowerCase();n&&(a=fx(l)?P5:n),dx(l)&&(t=t||N5,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(t9(l)&&a!=="_self")return D5(t||"",a),new hS(null);const h=window.open(t||"",a,c);_e(h,e,"popup-blocked");try{h.focus()}catch{}return new hS(h)}function D5(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="__/auth/handler",M5="emulator/auth/handler",F5=encodeURIComponent("fac");async function fS(e,t,n,r,i,s){_e(e.config.authDomain,e,"auth-domain-config-required"),_e(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(t instanceof wx){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",b6(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(t instanceof nd){const c=t.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${F5}=${encodeURIComponent(u)}`:"";return`${V5(e)}?${Zc(a).slice(1)}${l}`}function V5({config:e}){return e.emulator?JE(e,M5):`https://${e.authDomain}/${L5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class B5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rx,this._completeRedirectFn=l5,this._overrideRedirectResult=o5}async _openPopup(t,n,r,i){var s;$i((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await fS(t,n,r,$f(),i);return O5(t,o,rv())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await fS(t,n,r,$f(),i);return j9(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($i(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await A5(t),r=new d5(t);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Mg,{type:Mg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mg];o!==void 0&&n(!!o),Fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g5(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yx()||hx()||tv()}}const U5=B5;var pS="@firebase/auth",mS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z5(e){$s(new ji("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ex(e)},l=new a9(r,i,s,u);return g9(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),$s(new ji("auth-internal",t=>{const n=Cu(t.getProvider("auth").getImmediate());return(r=>new H5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(pS,mS,j5(e)),yr(pS,mS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=5*60,W5=YR("authIdTokenMaxAge")||$5;let gS=null;const q5=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W5)return;const i=n==null?void 0:n.token;gS!==i&&(gS=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function G5(e=$p()){const t=Jc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=m9(e,{popupRedirectResolver:U5,persistence:[X9,B9,Rx]}),r=YR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=q5(s.toString());D9(n,o,()=>o(n.currentUser)),O9(n,a=>o(a))}}const i=GR("auth");return i&&_9(n,`http://${i}`),n}function K5(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}u9({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=ei("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",K5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z5("Browser");var Y5="firebase",Q5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(Y5,Q5,"app");const X5={apiKey:"AIzaSyCt55dCZpNfsagJ5GrpmuBbBhnjX-G2zR0",authDomain:"ierae-ctf-2024.firebaseapp.com",projectId:"ierae-ctf-2024",storageBucket:"ierae-ctf-2024.appspot.com",appId:"1:948949593493:web:58c43bdd97bed4299cda9c"};var _S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,Lx;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,I){function R(){}R.prototype=I.prototype,A.D=I.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(S,D,O){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return I.prototype[D].apply(S,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,R){R||(R=0);var S=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)S[D]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(D=0;16>D;++D)S[D]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=A.g[0],R=A.g[1],D=A.g[2];var O=A.g[3],N=I+(O^R&(D^O))+S[0]+3614090360&4294967295;I=R+(N<<7&4294967295|N>>>25),N=O+(D^I&(R^D))+S[1]+3905402710&4294967295,O=I+(N<<12&4294967295|N>>>20),N=D+(R^O&(I^R))+S[2]+606105819&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(I^D&(O^I))+S[3]+3250441966&4294967295,R=D+(N<<22&4294967295|N>>>10),N=I+(O^R&(D^O))+S[4]+4118548399&4294967295,I=R+(N<<7&4294967295|N>>>25),N=O+(D^I&(R^D))+S[5]+1200080426&4294967295,O=I+(N<<12&4294967295|N>>>20),N=D+(R^O&(I^R))+S[6]+2821735955&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(I^D&(O^I))+S[7]+4249261313&4294967295,R=D+(N<<22&4294967295|N>>>10),N=I+(O^R&(D^O))+S[8]+1770035416&4294967295,I=R+(N<<7&4294967295|N>>>25),N=O+(D^I&(R^D))+S[9]+2336552879&4294967295,O=I+(N<<12&4294967295|N>>>20),N=D+(R^O&(I^R))+S[10]+4294925233&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(I^D&(O^I))+S[11]+2304563134&4294967295,R=D+(N<<22&4294967295|N>>>10),N=I+(O^R&(D^O))+S[12]+1804603682&4294967295,I=R+(N<<7&4294967295|N>>>25),N=O+(D^I&(R^D))+S[13]+4254626195&4294967295,O=I+(N<<12&4294967295|N>>>20),N=D+(R^O&(I^R))+S[14]+2792965006&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(I^D&(O^I))+S[15]+1236535329&4294967295,R=D+(N<<22&4294967295|N>>>10),N=I+(D^O&(R^D))+S[1]+4129170786&4294967295,I=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(I^R))+S[6]+3225465664&4294967295,O=I+(N<<9&4294967295|N>>>23),N=D+(I^R&(O^I))+S[11]+643717713&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^I&(D^O))+S[0]+3921069994&4294967295,R=D+(N<<20&4294967295|N>>>12),N=I+(D^O&(R^D))+S[5]+3593408605&4294967295,I=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(I^R))+S[10]+38016083&4294967295,O=I+(N<<9&4294967295|N>>>23),N=D+(I^R&(O^I))+S[15]+3634488961&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^I&(D^O))+S[4]+3889429448&4294967295,R=D+(N<<20&4294967295|N>>>12),N=I+(D^O&(R^D))+S[9]+568446438&4294967295,I=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(I^R))+S[14]+3275163606&4294967295,O=I+(N<<9&4294967295|N>>>23),N=D+(I^R&(O^I))+S[3]+4107603335&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^I&(D^O))+S[8]+1163531501&4294967295,R=D+(N<<20&4294967295|N>>>12),N=I+(D^O&(R^D))+S[13]+2850285829&4294967295,I=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(I^R))+S[2]+4243563512&4294967295,O=I+(N<<9&4294967295|N>>>23),N=D+(I^R&(O^I))+S[7]+1735328473&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^I&(D^O))+S[12]+2368359562&4294967295,R=D+(N<<20&4294967295|N>>>12),N=I+(R^D^O)+S[5]+4294588738&4294967295,I=R+(N<<4&4294967295|N>>>28),N=O+(I^R^D)+S[8]+2272392833&4294967295,O=I+(N<<11&4294967295|N>>>21),N=D+(O^I^R)+S[11]+1839030562&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^I)+S[14]+4259657740&4294967295,R=D+(N<<23&4294967295|N>>>9),N=I+(R^D^O)+S[1]+2763975236&4294967295,I=R+(N<<4&4294967295|N>>>28),N=O+(I^R^D)+S[4]+1272893353&4294967295,O=I+(N<<11&4294967295|N>>>21),N=D+(O^I^R)+S[7]+4139469664&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^I)+S[10]+3200236656&4294967295,R=D+(N<<23&4294967295|N>>>9),N=I+(R^D^O)+S[13]+681279174&4294967295,I=R+(N<<4&4294967295|N>>>28),N=O+(I^R^D)+S[0]+3936430074&4294967295,O=I+(N<<11&4294967295|N>>>21),N=D+(O^I^R)+S[3]+3572445317&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^I)+S[6]+76029189&4294967295,R=D+(N<<23&4294967295|N>>>9),N=I+(R^D^O)+S[9]+3654602809&4294967295,I=R+(N<<4&4294967295|N>>>28),N=O+(I^R^D)+S[12]+3873151461&4294967295,O=I+(N<<11&4294967295|N>>>21),N=D+(O^I^R)+S[15]+530742520&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^I)+S[2]+3299628645&4294967295,R=D+(N<<23&4294967295|N>>>9),N=I+(D^(R|~O))+S[0]+4096336452&4294967295,I=R+(N<<6&4294967295|N>>>26),N=O+(R^(I|~D))+S[7]+1126891415&4294967295,O=I+(N<<10&4294967295|N>>>22),N=D+(I^(O|~R))+S[14]+2878612391&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~I))+S[5]+4237533241&4294967295,R=D+(N<<21&4294967295|N>>>11),N=I+(D^(R|~O))+S[12]+1700485571&4294967295,I=R+(N<<6&4294967295|N>>>26),N=O+(R^(I|~D))+S[3]+2399980690&4294967295,O=I+(N<<10&4294967295|N>>>22),N=D+(I^(O|~R))+S[10]+4293915773&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~I))+S[1]+2240044497&4294967295,R=D+(N<<21&4294967295|N>>>11),N=I+(D^(R|~O))+S[8]+1873313359&4294967295,I=R+(N<<6&4294967295|N>>>26),N=O+(R^(I|~D))+S[15]+4264355552&4294967295,O=I+(N<<10&4294967295|N>>>22),N=D+(I^(O|~R))+S[6]+2734768916&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~I))+S[13]+1309151649&4294967295,R=D+(N<<21&4294967295|N>>>11),N=I+(D^(R|~O))+S[4]+4149444226&4294967295,I=R+(N<<6&4294967295|N>>>26),N=O+(R^(I|~D))+S[11]+3174756917&4294967295,O=I+(N<<10&4294967295|N>>>22),N=D+(I^(O|~R))+S[2]+718787259&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~I))+S[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var R=I-this.blockSize,S=this.B,D=this.h,O=0;O<I;){if(D==0)for(;O<=R;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<I;)if(S[D++]=A.charCodeAt(O++),D==this.blockSize){i(this,S),D=0;break}}else for(;O<I;)if(S[D++]=A[O++],D==this.blockSize){i(this,S),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var R=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=R&255,R/=256;for(this.u(A),A=Array(16),I=R=0;4>I;++I)for(var S=0;32>S;S+=8)A[R++]=this.g[I]>>>S&255;return A};function s(A,I){var R=a;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=I(A)}function o(A,I){this.h=I;for(var R=[],S=!0,D=A.length-1;0<=D;D--){var O=A[D]|0;S&&O==I||(R[D]=O,S=!1)}this.g=R}var a={};function u(A){return-128<=A&&128>A?s(A,function(I){return new o([I|0],0>I?-1:0)}):new o([A|0],0>A?-1:0)}function l(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return b(l(-A));for(var I=[],R=1,S=0;A>=R;S++)I[S]=A/R|0,R*=4294967296;return new o(I,0)}function c(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return b(c(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=l(Math.pow(I,8)),S=h,D=0;D<A.length;D+=8){var O=Math.min(8,A.length-D),N=parseInt(A.substring(D,D+O),I);8>O?(O=l(Math.pow(I,O)),S=S.j(O).add(l(N))):(S=S.j(R),S=S.add(l(N)))}return S}var h=u(0),f=u(1),p=u(16777216);e=o.prototype,e.m=function(){if(E(this))return-b(this).m();for(var A=0,I=1,R=0;R<this.g.length;R++){var S=this.i(R);A+=(0<=S?S:4294967296+S)*I,I*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(E(this))return"-"+b(this).toString(A);for(var I=l(Math.pow(A,6)),R=this,S="";;){var D=k(R,I).g;R=y(R,D.j(I));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=D,_(R))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function E(A){return A.h==-1}e.l=function(A){return A=y(this,A),E(A)?-1:_(A)?0:1};function b(A){for(var I=A.g.length,R=[],S=0;S<I;S++)R[S]=~A.g[S];return new o(R,~A.h).add(f)}e.abs=function(){return E(this)?b(this):this},e.add=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],S=0,D=0;D<=I;D++){var O=S+(this.i(D)&65535)+(A.i(D)&65535),N=(O>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);S=N>>>16,O&=65535,N&=65535,R[D]=N<<16|O}return new o(R,R[R.length-1]&-2147483648?-1:0)};function y(A,I){return A.add(b(I))}e.j=function(A){if(_(this)||_(A))return h;if(E(this))return E(A)?b(this).j(b(A)):b(b(this).j(A));if(E(A))return b(this.j(b(A)));if(0>this.l(p)&&0>A.l(p))return l(this.m()*A.m());for(var I=this.g.length+A.g.length,R=[],S=0;S<2*I;S++)R[S]=0;for(S=0;S<this.g.length;S++)for(var D=0;D<A.g.length;D++){var O=this.i(S)>>>16,N=this.i(S)&65535,Q=A.i(D)>>>16,ie=A.i(D)&65535;R[2*S+2*D]+=N*ie,v(R,2*S+2*D),R[2*S+2*D+1]+=O*ie,v(R,2*S+2*D+1),R[2*S+2*D+1]+=N*Q,v(R,2*S+2*D+1),R[2*S+2*D+2]+=O*Q,v(R,2*S+2*D+2)}for(S=0;S<I;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=I;S<2*I;S++)R[S]=0;return new o(R,0)};function v(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function w(A,I){this.g=A,this.h=I}function k(A,I){if(_(I))throw Error("division by zero");if(_(A))return new w(h,h);if(E(A))return I=k(b(A),I),new w(b(I.g),b(I.h));if(E(I))return I=k(A,b(I)),new w(b(I.g),I.h);if(30<A.g.length){if(E(A)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var R=f,S=I;0>=S.l(A);)R=U(R),S=U(S);var D=L(R,1),O=L(S,1);for(S=L(S,2),R=L(R,2);!_(S);){var N=O.add(S);0>=N.l(A)&&(D=D.add(R),O=N),S=L(S,1),R=L(R,1)}return I=y(A,D.j(I)),new w(D,I)}for(D=h;0<=A.l(I);){for(R=Math.max(1,Math.floor(A.m()/I.m())),S=Math.ceil(Math.log(R)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=l(R),N=O.j(I);E(N)||0<N.l(A);)R-=S,O=l(R),N=O.j(I);_(O)&&(O=f),D=D.add(O),A=y(A,N)}return new w(D,A)}e.A=function(A){return k(this,A).h},e.and=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],S=0;S<I;S++)R[S]=this.i(S)&A.i(S);return new o(R,this.h&A.h)},e.or=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],S=0;S<I;S++)R[S]=this.i(S)|A.i(S);return new o(R,this.h|A.h)},e.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],S=0;S<I;S++)R[S]=this.i(S)^A.i(S);return new o(R,this.h^A.h)};function U(A){for(var I=A.g.length+1,R=[],S=0;S<I;S++)R[S]=A.i(S)<<1|A.i(S-1)>>>31;return new o(R,A.h)}function L(A,I){var R=I>>5;I%=32;for(var S=A.g.length-R,D=[],O=0;O<S;O++)D[O]=0<I?A.i(O+R)>>>I|A.i(O+R+1)<<32-I:A.i(O+R);return new o(D,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,Ao=o}).apply(typeof _S<"u"?_S:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mx,bl,Fx,Yh,L_,Vx,Bx,Ux;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,T){return d==Array.prototype||d==Object.prototype||(d[g]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var g=0;g<d.length;++g){var T=d[g];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var T=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var j=d[P];if(!(j in T))break e;T=T[j]}d=d[d.length-1],P=T[d],g=g(P),g!=P&&g!=null&&t(T,d,{configurable:!0,writable:!0,value:g})}}function s(d,g){d instanceof String&&(d+="");var T=0,P=!1,j={next:function(){if(!P&&T<d.length){var W=T++;return{value:g(W,d[W]),done:!1}}return P=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return s(this,function(g,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function l(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function c(d,g,T){return d.call.apply(d.bind,arguments)}function h(d,g,T){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,P),d.apply(g,j)}}return function(){return d.apply(g,arguments)}}function f(d,g,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,g){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function _(d,g){function T(){}T.prototype=g.prototype,d.aa=g.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(P,j,W){for(var se=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)se[tt-2]=arguments[tt];return g.prototype[j].apply(P,se)}}function E(d){const g=d.length;if(0<g){const T=Array(g);for(let P=0;P<g;P++)T[P]=d[P];return T}return[]}function b(d,g){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(u(P)){const j=d.length||0,W=P.length||0;d.length=j+W;for(let se=0;se<W;se++)d[j+se]=P[se]}else d.push(P)}}class y{constructor(g,T){this.i=g,this.j=T,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var U=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function L(d,g,T){for(const P in d)g.call(T,d[P],P,d)}function A(d,g){for(const T in d)g.call(void 0,d[T],T,d)}function I(d){const g={};for(const T in d)g[T]=d[T];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,g){let T,P;for(let j=1;j<arguments.length;j++){P=arguments[j];for(T in P)d[T]=P[T];for(let W=0;W<R.length;W++)T=R[W],Object.prototype.hasOwnProperty.call(P,T)&&(d[T]=P[T])}}function D(d){var g=1;d=d.split(":");const T=[];for(;0<g&&d.length;)T.push(d.shift()),g--;return d.length&&T.push(d.join(":")),T}function O(d){a.setTimeout(()=>{throw d},0)}function N(){var d=oe;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class Q{constructor(){this.h=this.g=null}add(g,T){const P=ie.get();P.set(g,T),this.h?this.h.next=P:this.g=P,this.h=P}}var ie=new y(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(g,T){this.h=g,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,K=!1,oe=new Q,F=()=>{const d=a.Promise.resolve(void 0);fe=()=>{d.then(pe)}};var pe=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(T){O(T)}var g=ie;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}K=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,g),a.removeEventListener("test",T,g)}catch{}return d}();function xe(d,g){if(B.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(U){e:{try{k(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else T=="mouseover"?g=d.fromElement:T=="mouseout"&&(g=d.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.aa.h.call(this)}}_(xe,B);var Ee={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),ut=0;function rt(d,g,T,P,j){this.listener=d,this.proxy=null,this.src=g,this.type=T,this.capture=!!P,this.ha=j,this.key=++ut,this.da=this.fa=!1}function Ge(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Tt(d){this.src=d,this.g={},this.h=0}Tt.prototype.add=function(d,g,T,P,j){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var se=pi(d,g,P,j);return-1<se?(g=d[se],T||(g.fa=!1)):(g=new rt(g,this.src,W,!!P,j),g.fa=T,d.push(g)),g};function At(d,g){var T=g.type;if(T in d.g){var P=d.g[T],j=Array.prototype.indexOf.call(P,g,void 0),W;(W=0<=j)&&Array.prototype.splice.call(P,j,1),W&&(Ge(g),d.g[T].length==0&&(delete d.g[T],d.h--))}}function pi(d,g,T,P){for(var j=0;j<d.length;++j){var W=d[j];if(!W.da&&W.listener==g&&W.capture==!!T&&W.ha==P)return j}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),zr={};function jn(d,g,T,P,j){if(Array.isArray(g)){for(var W=0;W<g.length;W++)jn(d,g[W],T,P,j);return null}return T=Jo(T),d&&d[Fe]?d.K(g,T,l(P)?!!P.capture:!1,j):$r(d,g,T,!1,P,j)}function $r(d,g,T,P,j,W){if(!g)throw Error("Invalid event type");var se=l(j)?!!j.capture:!!j,tt=yi(d);if(tt||(d[mi]=tt=new Tt(d)),T=tt.add(g,T,P,se,W),T.proxy)return T;if(P=gi(),T.proxy=P,P.src=d,P.listener=T,d.addEventListener)ge||(j=se),j===void 0&&(j=!1),d.addEventListener(g.toString(),P,j);else if(d.attachEvent)d.attachEvent(Xe(g.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function gi(){function d(T){return g.call(d.src,d.listener,T)}const g=lt;return d}function Zi(d,g,T,P,j){if(Array.isArray(g))for(var W=0;W<g.length;W++)Zi(d,g[W],T,P,j);else P=l(P)?!!P.capture:!!P,T=Jo(T),d&&d[Fe]?(d=d.i,g=String(g).toString(),g in d.g&&(W=d.g[g],T=pi(W,T,P,j),-1<T&&(Ge(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete d.g[g],d.h--)))):d&&(d=yi(d))&&(g=d.g[g.toString()],d=-1,g&&(d=pi(g,T,P,j)),(T=-1<d?g[d]:null)&&_i(T))}function _i(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Fe])At(g.i,d);else{var T=d.type,P=d.proxy;g.removeEventListener?g.removeEventListener(T,P,d.capture):g.detachEvent?g.detachEvent(Xe(T),P):g.addListener&&g.removeListener&&g.removeListener(P),(T=yi(g))?(At(T,d),T.h==0&&(T.src=null,g[mi]=null)):Ge(d)}}}function Xe(d){return d in zr?zr[d]:zr[d]="on"+d}function lt(d,g){if(d.da)d=!0;else{g=new xe(g,this);var T=d.listener,P=d.ha||d.src;d.fa&&_i(d),d=T.call(P,g)}return d}function yi(d){return d=d[mi],d instanceof Tt?d:null}var Ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(d){return typeof d=="function"?d:(d[Ji]||(d[Ji]=function(g){return d.handleEvent(g)}),d[Ji])}function $(){ve.call(this),this.i=new Tt(this),this.M=this,this.F=null}_($,ve),$.prototype[Fe]=!0,$.prototype.removeEventListener=function(d,g,T,P){Zi(this,d,g,T,P)};function J(d,g){var T,P=d.F;if(P)for(T=[];P;P=P.F)T.push(P);if(d=d.M,P=g.type||g,typeof g=="string")g=new B(g,d);else if(g instanceof B)g.target=g.target||d;else{var j=g;g=new B(P,d),S(g,j)}if(j=!0,T)for(var W=T.length-1;0<=W;W--){var se=g.g=T[W];j=we(se,P,!0,g)&&j}if(se=g.g=d,j=we(se,P,!0,g)&&j,j=we(se,P,!1,g)&&j,T)for(W=0;W<T.length;W++)se=g.g=T[W],j=we(se,P,!1,g)&&j}$.prototype.N=function(){if($.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var T=d.g[g],P=0;P<T.length;P++)Ge(T[P]);delete d.g[g],d.h--}}this.F=null},$.prototype.K=function(d,g,T,P){return this.i.add(String(d),g,!1,T,P)},$.prototype.L=function(d,g,T,P){return this.i.add(String(d),g,!0,T,P)};function we(d,g,T,P){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,W=0;W<g.length;++W){var se=g[W];if(se&&!se.da&&se.capture==T){var tt=se.listener,Kt=se.ha||se.src;se.fa&&At(d.i,se),j=tt.call(Kt,P)!==!1&&j}}return j&&!P.defaultPrevented}function Le(d,g,T){if(typeof d=="function")T&&(d=f(d,T));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Ze(d){d.g=Le(()=>{d.g=null,d.i&&(d.i=!1,Ze(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class zn extends ve{constructor(g,T){super(),this.m=g,this.l=T,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(d){ve.call(this),this.h=d,this.g={}}_($n,ve);var lr=[];function es(d){L(d.g,function(g,T){this.g.hasOwnProperty(T)&&_i(g)},d),d.g={}}$n.prototype.N=function(){$n.aa.N.call(this),es(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=a.JSON.stringify,vn=a.JSON.parse,ts=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Wn(){}Wn.prototype.h=null;function DT(d){return d.h||(d.h=d.i())}function LT(){}var Bu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lm(){B.call(this,"d")}_(Lm,B);function Mm(){B.call(this,"c")}_(Mm,B);var so={},MT=null;function Id(){return MT=MT||new $}so.La="serverreachability";function FT(d){B.call(this,so.La,d)}_(FT,B);function Uu(d){const g=Id();J(g,new FT(g))}so.STAT_EVENT="statevent";function VT(d,g){B.call(this,so.STAT_EVENT,d),this.stat=g}_(VT,B);function Tn(d){const g=Id();J(g,new VT(g,d))}so.Ma="timingevent";function BT(d,g){B.call(this,so.Ma,d),this.size=g}_(BT,B);function Hu(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function ju(){this.g=!0}ju.prototype.xa=function(){this.g=!1};function TD(d,g,T,P,j,W){d.info(function(){if(d.g)if(W)for(var se="",tt=W.split("&"),Kt=0;Kt<tt.length;Kt++){var Ke=tt[Kt].split("=");if(1<Ke.length){var sn=Ke[0];Ke=Ke[1];var on=sn.split("_");se=2<=on.length&&on[1]=="type"?se+(sn+"="+Ke+"&"):se+(sn+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+P+") [attempt "+j+"]: "+g+`
`+T+`
`+se})}function wD(d,g,T,P,j,W,se){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+j+"]: "+g+`
`+T+`
`+W+" "+se})}function ea(d,g,T,P){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+bD(d,T)+(P?" "+P:"")})}function SD(d,g){d.info(function(){return"TIMEOUT: "+g})}ju.prototype.info=function(){};function bD(d,g){if(!d.g)return g;if(!g)return null;try{var T=JSON.parse(g);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var P=T[d];if(!(2>P.length)){var j=P[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Ei(T)}catch{return g}}var Ad={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},UT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fm;function Rd(){}_(Rd,Wn),Rd.prototype.g=function(){return new XMLHttpRequest},Rd.prototype.i=function(){return{}},Fm=new Rd;function ns(d,g,T,P){this.j=d,this.i=g,this.l=T,this.R=P||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new HT}function HT(){this.i=null,this.g="",this.h=!1}var jT={},Vm={};function Bm(d,g,T){d.L=1,d.v=Nd(vi(g)),d.m=T,d.P=!0,zT(d,null)}function zT(d,g){d.F=Date.now(),xd(d),d.A=vi(d.v);var T=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),r1(T.i,"t",P),d.C=0,T=d.j.J,d.h=new HT,d.g=T1(d.j,T?g:null,!d.m),0<d.O&&(d.M=new zn(f(d.Y,d,d.g),d.O)),g=d.U,T=d.g,P=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(lr[0]=j.toString()),j=lr);for(var W=0;W<j.length;W++){var se=jn(T,j[W],P||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Uu(),TD(d.i,d.u,d.A,d.l,d.R,d.m)}ns.prototype.ca=function(d){d=d.target;const g=this.M;g&&Ti(d)==3?g.j():this.Y(d)},ns.prototype.Y=function(d){try{if(d==this.g)e:{const on=Ti(this.g);var g=this.g.Ba();const ra=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||c1(this.g)))){this.J||on!=4||g==7||(g==8||0>=ra?Uu(3):Uu(2)),Um(this);var T=this.g.Z();this.X=T;t:if($T(this)){var P=c1(this.g);d="";var j=P.length,W=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),zu(this);var se="";break t}this.h.i=new a.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,d+=this.h.i.decode(P[g],{stream:!(W&&g==j-1)});P.length=0,this.h.g+=d,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=T==200,wD(this.i,this.u,this.A,this.l,this.R,on,T),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Kt=this.g;if((tt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(tt)){var Ke=tt;break t}}Ke=null}if(T=Ke)ea(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hm(this,T);else{this.o=!1,this.s=3,Tn(12),oo(this),zu(this);break e}}if(this.P){T=!0;let Sr;for(;!this.J&&this.C<se.length;)if(Sr=CD(this,se),Sr==Vm){on==4&&(this.s=4,Tn(14),T=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==jT){this.s=4,Tn(15),ea(this.i,this.l,se,"[Invalid Chunk]"),T=!1;break}else ea(this.i,this.l,Sr,null),Hm(this,Sr);if($T(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||se.length!=0||this.h.h||(this.s=1,Tn(16),T=!1),this.o=this.o&&T,!T)ea(this.i,this.l,se,"[Invalid Chunked Response]"),oo(this),zu(this);else if(0<se.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Gm(sn),sn.M=!0,Tn(11))}}else ea(this.i,this.l,se,null),Hm(this,se);on==4&&oo(this),this.o&&!this.J&&(on==4?_1(this.j,this):(this.o=!1,xd(this)))}else jD(this.g),T==400&&0<se.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),oo(this),zu(this)}}}catch{}finally{}};function $T(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function CD(d,g){var T=d.C,P=g.indexOf(`
`,T);return P==-1?Vm:(T=Number(g.substring(T,P)),isNaN(T)?jT:(P+=1,P+T>g.length?Vm:(g=g.slice(P,P+T),d.C=P+T,g)))}ns.prototype.cancel=function(){this.J=!0,oo(this)};function xd(d){d.S=Date.now()+d.I,WT(d,d.I)}function WT(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Hu(f(d.ba,d),g)}function Um(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ns.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(SD(this.i,this.A),this.L!=2&&(Uu(),Tn(17)),oo(this),this.s=2,zu(this)):WT(this,this.S-d)};function zu(d){d.j.G==0||d.J||_1(d.j,d)}function oo(d){Um(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,es(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Hm(d,g){try{var T=d.j;if(T.G!=0&&(T.g==d||jm(T.h,d))){if(!d.K&&jm(T.h,d)&&T.G==3){try{var P=T.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var j=P;if(j[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Vd(T),Md(T);else break e;qm(T),Tn(18)}}else T.za=j[1],0<T.za-T.T&&37500>j[2]&&T.F&&T.v==0&&!T.C&&(T.C=Hu(f(T.Za,T),6e3));if(1>=KT(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else uo(T,11)}else if((d.K||T.g==d)&&Vd(T),!v(g))for(j=T.Da.g.parse(g),g=0;g<j.length;g++){let Ke=j[g];if(T.T=Ke[0],Ke=Ke[1],T.G==2)if(Ke[0]=="c"){T.K=Ke[1],T.ia=Ke[2];const sn=Ke[3];sn!=null&&(T.la=sn,T.j.info("VER="+T.la));const on=Ke[4];on!=null&&(T.Aa=on,T.j.info("SVER="+T.Aa));const ra=Ke[5];ra!=null&&typeof ra=="number"&&0<ra&&(P=1.5*ra,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Sr=d.g;if(Sr){const Ud=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ud){var W=P.h;W.g||Ud.indexOf("spdy")==-1&&Ud.indexOf("quic")==-1&&Ud.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(zm(W,W.h),W.h=null))}if(P.D){const Km=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Km&&(P.ya=Km,ct(P.I,P.D,Km))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var se=d;if(P.qa=v1(P,P.J?P.ia:null,P.W),se.K){YT(P.h,se);var tt=se,Kt=P.L;Kt&&(tt.I=Kt),tt.B&&(Um(tt),xd(tt)),P.g=se}else m1(P);0<T.i.length&&Fd(T)}else Ke[0]!="stop"&&Ke[0]!="close"||uo(T,7);else T.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?uo(T,7):Wm(T):Ke[0]!="noop"&&T.l&&T.l.ta(Ke),T.v=0)}}Uu(4)}catch{}}var ID=class{constructor(d,g){this.g=d,this.map=g}};function qT(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function GT(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function KT(d){return d.h?1:d.g?d.g.size:0}function jm(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function zm(d,g){d.g?d.g.add(g):d.h=g}function YT(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}qT.prototype.cancel=function(){if(this.i=QT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function QT(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const T of d.g.values())g=g.concat(T.D);return g}return E(d.i)}function AD(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var g=[],T=d.length,P=0;P<T;P++)g.push(d[P]);return g}g=[],T=0;for(P in d)g[T++]=d[P];return g}function RD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var g=[];d=d.length;for(var T=0;T<d;T++)g.push(T);return g}g=[],T=0;for(const P in d)g[T++]=P;return g}}}function XT(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var T=RD(d),P=AD(d),j=P.length,W=0;W<j;W++)g.call(void 0,P[W],T&&T[W],d)}var ZT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xD(d,g){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var P=d[T].indexOf("="),j=null;if(0<=P){var W=d[T].substring(0,P);j=d[T].substring(P+1)}else W=d[T];g(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ao(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ao){this.h=d.h,kd(this,d.j),this.o=d.o,this.g=d.g,Pd(this,d.s),this.l=d.l;var g=d.i,T=new qu;T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),JT(this,T),this.m=d.m}else d&&(g=String(d).match(ZT))?(this.h=!1,kd(this,g[1]||"",!0),this.o=$u(g[2]||""),this.g=$u(g[3]||"",!0),Pd(this,g[4]),this.l=$u(g[5]||"",!0),JT(this,g[6]||"",!0),this.m=$u(g[7]||"")):(this.h=!1,this.i=new qu(null,this.h))}ao.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Wu(g,e1,!0),":");var T=this.g;return(T||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Wu(g,e1,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Wu(T,T.charAt(0)=="/"?ND:PD,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Wu(T,DD)),d.join("")};function vi(d){return new ao(d)}function kd(d,g,T){d.j=T?$u(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Pd(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function JT(d,g,T){g instanceof qu?(d.i=g,LD(d.i,d.h)):(T||(g=Wu(g,OD)),d.i=new qu(g,d.h))}function ct(d,g,T){d.i.set(g,T)}function Nd(d){return ct(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function $u(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Wu(d,g,T){return typeof d=="string"?(d=encodeURI(d).replace(g,kD),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var e1=/[#\/\?@]/g,PD=/[#\?:]/g,ND=/[#\?]/g,OD=/[#\?@]/g,DD=/#/g;function qu(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function rs(d){d.g||(d.g=new Map,d.h=0,d.i&&xD(d.i,function(g,T){d.add(decodeURIComponent(g.replace(/\+/g," ")),T)}))}e=qu.prototype,e.add=function(d,g){rs(this),this.i=null,d=ta(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(g),this.h+=1,this};function t1(d,g){rs(d),g=ta(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function n1(d,g){return rs(d),g=ta(d,g),d.g.has(g)}e.forEach=function(d,g){rs(this),this.g.forEach(function(T,P){T.forEach(function(j){d.call(g,j,P,this)},this)},this)},e.na=function(){rs(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),T=[];for(let P=0;P<g.length;P++){const j=d[P];for(let W=0;W<j.length;W++)T.push(g[P])}return T},e.V=function(d){rs(this);let g=[];if(typeof d=="string")n1(this,d)&&(g=g.concat(this.g.get(ta(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)g=g.concat(d[T])}return g},e.set=function(d,g){return rs(this),this.i=null,d=ta(this,d),n1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},e.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function r1(d,g,T){t1(d,g),0<T.length&&(d.i=null,d.g.set(ta(d,g),E(T)),d.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var T=0;T<g.length;T++){var P=g[T];const W=encodeURIComponent(String(P)),se=this.V(P);for(P=0;P<se.length;P++){var j=W;se[P]!==""&&(j+="="+encodeURIComponent(String(se[P]))),d.push(j)}}return this.i=d.join("&")};function ta(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function LD(d,g){g&&!d.j&&(rs(d),d.i=null,d.g.forEach(function(T,P){var j=P.toLowerCase();P!=j&&(t1(this,P),r1(this,j,T))},d)),d.j=g}function MD(d,g){const T=new ju;if(a.Image){const P=new Image;P.onload=p(is,T,"TestLoadImage: loaded",!0,g,P),P.onerror=p(is,T,"TestLoadImage: error",!1,g,P),P.onabort=p(is,T,"TestLoadImage: abort",!1,g,P),P.ontimeout=p(is,T,"TestLoadImage: timeout",!1,g,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else g(!1)}function FD(d,g){const T=new ju,P=new AbortController,j=setTimeout(()=>{P.abort(),is(T,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:P.signal}).then(W=>{clearTimeout(j),W.ok?is(T,"TestPingServer: ok",!0,g):is(T,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),is(T,"TestPingServer: error",!1,g)})}function is(d,g,T,P,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),P(T)}catch{}}function VD(){this.g=new ts}function BD(d,g,T){const P=T||"";try{XT(d,function(j,W){let se=j;l(j)&&(se=Ei(j)),g.push(P+W+"="+encodeURIComponent(se))})}catch(j){throw g.push(P+"type="+encodeURIComponent("_badmap")),j}}function Od(d){this.l=d.Ub||null,this.j=d.eb||!1}_(Od,Wn),Od.prototype.g=function(){return new Dd(this.l,this.j)},Od.prototype.i=function(d){return function(){return d}}({});function Dd(d,g){$.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Dd,$),e=Dd.prototype,e.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Ku(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gu(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ku(this)),this.g&&(this.readyState=3,Ku(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;i1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function i1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Gu(this):Ku(this),this.readyState==3&&i1(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,Gu(this))},e.Qa=function(d){this.g&&(this.response=d,Gu(this))},e.ga=function(){this.g&&Gu(this)};function Gu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ku(d)}e.setRequestHeader=function(d,g){this.u.append(d,g)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var T=g.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=g.next();return d.join(`\r
`)};function Ku(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function s1(d){let g="";return L(d,function(T,P){g+=P,g+=":",g+=T,g+=`\r
`}),g}function $m(d,g,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=s1(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ct(d,g,T))}function wt(d){$.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(wt,$);var UD=/^https?$/i,HD=["POST","PUT"];e=wt.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,g,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fm.g(),this.v=this.o?DT(this.o):DT(Fm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(W){o1(this,W);return}if(d=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var j in P)T.set(j,P[j]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const W of P.keys())T.set(W,P.get(W));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),j=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HD,g,void 0))||P||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of T)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l1(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){o1(this,W)}};function o1(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,a1(d),Ld(d)}function a1(d){d.A||(d.A=!0,J(d,"complete"),J(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,J(this,"complete"),J(this,"abort"),Ld(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ld(this,!0)),wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?u1(this):this.bb())},e.bb=function(){u1(this)};function u1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ti(d)!=4||d.Z()!=2)){if(d.u&&Ti(d)==4)Le(d.Ea,0,d);else if(J(d,"readystatechange"),Ti(d)==4){d.h=!1;try{const se=d.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var T;if(!(T=g)){var P;if(P=se===0){var j=String(d.D).match(ZT)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),P=!UD.test(j?j.toLowerCase():"")}T=P}if(T)J(d,"complete"),J(d,"success");else{d.m=6;try{var W=2<Ti(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",a1(d)}}finally{Ld(d)}}}}function Ld(d,g){if(d.g){l1(d);const T=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||J(d,"ready");try{T.onreadystatechange=P}catch{}}}function l1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function Ti(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),vn(g)}};function c1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function jD(d){const g={};d=(d.g&&2<=Ti(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(v(d[P]))continue;var T=D(d[P]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=g[j]||[];g[j]=W,W.push(T)}A(g,function(P){return P.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yu(d,g,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||g}function d1(d){this.Aa=0,this.i=[],this.j=new ju,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yu("baseRetryDelayMs",5e3,d),this.cb=Yu("retryDelaySeedMs",1e4,d),this.Wa=Yu("forwardChannelMaxRetries",2,d),this.wa=Yu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qT(d&&d.concurrentRequestLimit),this.Da=new VD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=d1.prototype,e.la=8,e.G=1,e.connect=function(d,g,T,P){Tn(0),this.W=d,this.H=g||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=v1(this,null,this.W),Fd(this)};function Wm(d){if(h1(d),d.G==3){var g=d.U++,T=vi(d.I);if(ct(T,"SID",d.K),ct(T,"RID",g),ct(T,"TYPE","terminate"),Qu(d,T),g=new ns(d,d.j,g),g.L=2,g.v=Nd(vi(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=g.v,T=!0),T||(g.g=T1(g.j,null),g.g.ea(g.v)),g.F=Date.now(),xd(g)}E1(d)}function Md(d){d.g&&(Gm(d),d.g.cancel(),d.g=null)}function h1(d){Md(d),d.u&&(a.clearTimeout(d.u),d.u=null),Vd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Fd(d){if(!GT(d.h)&&!d.s){d.s=!0;var g=d.Ga;fe||F(),K||(fe(),K=!0),oe.add(g,d),d.B=0}}function zD(d,g){return KT(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Hu(f(d.Ga,d,g),y1(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new ns(this,this.j,d);let W=this.o;if(this.S&&(W?(W=I(W),S(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var g=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=T;break e}if(g===4096||T===this.i.length-1){g=T+1;break e}}g=1e3}else g=1e3;g=p1(this,j,g),T=vi(this.I),ct(T,"RID",d),ct(T,"CVER",22),this.D&&ct(T,"X-HTTP-Session-Id",this.D),Qu(this,T),W&&(this.O?g="headers="+encodeURIComponent(String(s1(W)))+"&"+g:this.m&&$m(T,this.m,W)),zm(this.h,j),this.Ua&&ct(T,"TYPE","init"),this.P?(ct(T,"$req",g),ct(T,"SID","null"),j.T=!0,Bm(j,T,null)):Bm(j,T,g),this.G=2}}else this.G==3&&(d?f1(this,d):this.i.length==0||GT(this.h)||f1(this))};function f1(d,g){var T;g?T=g.l:T=d.U++;const P=vi(d.I);ct(P,"SID",d.K),ct(P,"RID",T),ct(P,"AID",d.T),Qu(d,P),d.m&&d.o&&$m(P,d.m,d.o),T=new ns(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),g&&(d.i=g.D.concat(d.i)),g=p1(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zm(d.h,T),Bm(T,P,g)}function Qu(d,g){d.H&&L(d.H,function(T,P){ct(g,P,T)}),d.l&&XT({},function(T,P){ct(g,P,T)})}function p1(d,g,T){T=Math.min(d.i.length,T);var P=d.l?f(d.l.Na,d.l,d):null;e:{var j=d.i;let W=-1;for(;;){const se=["count="+T];W==-1?0<T?(W=j[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let tt=!0;for(let Kt=0;Kt<T;Kt++){let Ke=j[Kt].g;const sn=j[Kt].map;if(Ke-=W,0>Ke)W=Math.max(0,j[Kt].g-100),tt=!1;else try{BD(sn,se,"req"+Ke+"_")}catch{P&&P(sn)}}if(tt){P=se.join("&");break e}}}return d=d.i.splice(0,T),g.D=d,P}function m1(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;fe||F(),K||(fe(),K=!0),oe.add(g,d),d.v=0}}function qm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Hu(f(d.Fa,d),y1(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,g1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Hu(f(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),Md(this),g1(this))};function Gm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function g1(d){d.g=new ns(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=vi(d.qa);ct(g,"RID","rpc"),ct(g,"SID",d.K),ct(g,"AID",d.T),ct(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&ct(g,"TO",d.ja),ct(g,"TYPE","xmlhttp"),Qu(d,g),d.m&&d.o&&$m(g,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Nd(vi(g)),T.m=null,T.P=!0,zT(T,d)}e.Za=function(){this.C!=null&&(this.C=null,Md(this),qm(this),Tn(19))};function Vd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function _1(d,g){var T=null;if(d.g==g){Vd(d),Gm(d),d.g=null;var P=2}else if(jm(d.h,g))T=g.D,YT(d.h,g),P=1;else return;if(d.G!=0){if(g.o)if(P==1){T=g.m?g.m.length:0,g=Date.now()-g.F;var j=d.B;P=Id(),J(P,new BT(P,T)),Fd(d)}else m1(d);else if(j=g.s,j==3||j==0&&0<g.X||!(P==1&&zD(d,g)||P==2&&qm(d)))switch(T&&0<T.length&&(g=d.h,g.i=g.i.concat(T)),j){case 1:uo(d,5);break;case 4:uo(d,10);break;case 3:uo(d,6);break;default:uo(d,2)}}}function y1(d,g){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*g}function uo(d,g){if(d.j.info("Error code "+g),g==2){var T=f(d.fb,d),P=d.Xa;const j=!P;P=new ao(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kd(P,"https"),Nd(P),j?MD(P.toString(),T):FD(P.toString(),T)}else Tn(2);d.G=0,d.l&&d.l.sa(g),E1(d),h1(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function E1(d){if(d.G=0,d.ka=[],d.l){const g=QT(d.h);(g.length!=0||d.i.length!=0)&&(b(d.ka,g),b(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function v1(d,g,T){var P=T instanceof ao?vi(T):new ao(T);if(P.g!="")g&&(P.g=g+"."+P.g),Pd(P,P.s);else{var j=a.location;P=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var W=new ao(null);P&&kd(W,P),g&&(W.g=g),j&&Pd(W,j),T&&(W.l=T),P=W}return T=d.D,g=d.ya,T&&g&&ct(P,T,g),ct(P,"VER",d.la),Qu(d,P),P}function T1(d,g,T){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new wt(new Od({eb:T})):new wt(d.pa),g.Ha(d.J),g}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function w1(){}e=w1.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Bd(){}Bd.prototype.g=function(d,g){return new qn(d,g)};function qn(d,g){$.call(this),this.g=new d1(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!v(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new na(this)}_(qn,$),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Wm(this.g)},qn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Ei(d),d=T);g.i.push(new ID(g.Ya++,d)),g.G==3&&Fd(g)},qn.prototype.N=function(){this.g.l=null,delete this.j,Wm(this.g),delete this.g,qn.aa.N.call(this)};function S1(d){Lm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const T in g){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}_(S1,Lm);function b1(){Mm.call(this),this.status=1}_(b1,Mm);function na(d){this.g=d}_(na,w1),na.prototype.ua=function(){J(this.g,"a")},na.prototype.ta=function(d){J(this.g,new S1(d))},na.prototype.sa=function(d){J(this.g,new b1)},na.prototype.ra=function(){J(this.g,"b")},Bd.prototype.createWebChannel=Bd.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,Ux=function(){return new Bd},Bx=function(){return Id()},Vx=so,L_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ad.NO_ERROR=0,Ad.TIMEOUT=8,Ad.HTTP_ERROR=6,Yh=Ad,UT.COMPLETE="complete",Fx=UT,LT.EventType=Bu,Bu.OPEN="a",Bu.CLOSE="b",Bu.ERROR="c",Bu.MESSAGE="d",$.prototype.listen=$.prototype.K,bl=LT,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,Mx=wt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const yS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new QE("@firebase/firestore");function ol(){return Mo.logLevel}function he(e,...t){if(Mo.logLevel<=He.DEBUG){const n=t.map(sv);Mo.debug(`Firestore (${Au}): ${e}`,...n)}}function Wi(e,...t){if(Mo.logLevel<=He.ERROR){const n=t.map(sv);Mo.error(`Firestore (${Au}): ${e}`,...n)}}function ou(e,...t){if(Mo.logLevel<=He.WARN){const n=t.map(sv);Mo.warn(`Firestore (${Au}): ${e}`,...n)}}function sv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e="Unexpected state"){const t=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+e;throw Wi(t),new Error(t)}function Je(e,t){e||Ce()}function Ae(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Z5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class J5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eV{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Je(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new Hx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Je(t===null||typeof t=="string"),new dn(t)}}class tV{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nV{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new tV(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iV{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Je(this.o===void 0);const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new rV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=sV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Ye(e,t){return e<t?-1:e>t?1:0}function au(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ft.fromMillis(Date.now())}static fromDate(t){return Ft.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ye(this.nanoseconds,t.nanoseconds):Ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ke(t)}static min(){return new ke(new Ft(0,0))}static max(){return new ke(new Ft(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ce(),r===void 0?r=t.length-n:r>t.length-n&&Ce(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ac.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ac?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ft extends Ac{construct(t,n,r){return new ft(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ue(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const oV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ac{construct(t,n,r){return new Zt(t,n,r)}static isValidIdentifier(t){return oV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ue(G.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ue(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.path=t}static fromPath(t){return new ye(ft.fromString(t))}static fromName(t){return new ye(ft.fromString(t).popFirst(5))}static empty(){return new ye(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ft.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ft.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ye(new ft(t.slice()))}}function aV(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new Ws(i,ye.empty(),t)}function uV(e){return new Ws(e.readTime,e.key,-1)}class Ws{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(ke.min(),ye.empty(),-1)}static max(){return new Ws(ke.max(),ye.empty(),-1)}}function lV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ye.comparator(e.documentKey,t.documentKey),n!==0?n:Ye(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(e){if(e.code!==G.FAILED_PRECONDITION||e.message!==cV)throw e;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):X.reject(n)}static resolve(t){return new X((n,r)=>{n(t)})}static reject(t){return new X((n,r)=>{r(t)})}static waitFor(t){return new X((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new X((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new X((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function hV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}ov.oe=-1;function Qp(e){return e==null}function Yf(e){return e===0&&1/e==-1/0}function fV(e){return typeof e=="number"&&Number.isInteger(e)&&!Yf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Go(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pV(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function zx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,n){this.comparator=t,this.root=n||Qt.EMPTY}insert(t,n){return new vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(t){return new vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ch(this.root,t,this.comparator,!0)}}class ch{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Qt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const t=this.left.check();if(t!==this.right.check())throw Ce();return t+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Qt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vS(this.data.getIterator())}getIteratorFrom(t){return new vS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new en(this.comparator);return n.data=t,n}}class vS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Zt.comparator)}static empty(){return new Zn([])}unionWith(t){let n=new en(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return au(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $x("Invalid base64 string: "+s):s}}(t);return new rn(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const mV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(e){if(Je(!!e),typeof e=="string"){let t=0;const n=mV.exec(e);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bt(e.seconds),nanos:bt(e.nanos)}}function bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fo(e){return typeof e=="string"?rn.fromBase64String(e):rn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uv(e){const t=e.mapValue.fields.__previous_value__;return av(t)?uv(t):t}function Rc(e){const t=qs(e.mapValue.fields.__local_write_time__.timestampValue);return new Ft(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class xc{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof xc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={mapValue:{}};function Vo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?av(e)?4:yV(e)?9007199254740991:_V(e)?10:11:Ce()}function oi(e,t){if(e===t)return!0;const n=Vo(e);if(n!==Vo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rc(e).isEqual(Rc(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qs(i.timestampValue),a=qs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Fo(i.bytesValue).isEqual(Fo(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return bt(i.geoPointValue.latitude)===bt(s.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bt(i.integerValue)===bt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=bt(i.doubleValue),a=bt(s.doubleValue);return o===a?Yf(o)===Yf(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return au(e.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ES(o)!==ES(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!oi(o[u],a[u])))return!1;return!0}(e,t);default:return Ce()}}function kc(e,t){return(e.values||[]).find(n=>oi(n,t))!==void 0}function uu(e,t){if(e===t)return 0;const n=Vo(e),r=Vo(t);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=bt(s.integerValue||s.doubleValue),u=bt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return TS(e.timestampValue,t.timestampValue);case 4:return TS(Rc(e),Rc(t));case 5:return Ye(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Fo(s),u=Fo(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Ye(a[l],u[l]);if(c!==0)return c}return Ye(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ye(bt(s.latitude),bt(o.latitude));return a!==0?a:Ye(bt(s.longitude),bt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return wS(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,u,l,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(u=f.value)===null||u===void 0?void 0:u.arrayValue,E=Ye(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0);return E!==0?E:wS(p,_)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===dh.mapValue&&o===dh.mapValue)return 0;if(s===dh.mapValue)return 1;if(o===dh.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const f=Ye(u[h],c[h]);if(f!==0)return f;const p=uu(a[u[h]],l[c[h]]);if(p!==0)return p}return Ye(u.length,c.length)}(e.mapValue,t.mapValue);default:throw Ce()}}function TS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ye(e,t);const n=qs(e),r=qs(t),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function wS(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=uu(n[i],r[i]);if(s)return s}return Ye(n.length,r.length)}function lu(e){return M_(e)}function M_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Fo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ye.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=M_(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${M_(n.fields[o])}`;return i+"}"}(e.mapValue):Ce()}function SS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function F_(e){return!!e&&"integerValue"in e}function lv(e){return!!e&&"arrayValue"in e}function bS(e){return!!e&&"nullValue"in e}function CS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qh(e){return!!e&&"mapValue"in e}function _V(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Go(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Hl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function yV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(n)}setAll(t){let n=Zt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Go(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Dn(Hl(this.value))}}function Wx(e){const t=[];return Go(e.fields,(n,r)=>{const i=new Zt([n]);if(Qh(r)){const s=Wx(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new fn(t,0,ke.min(),ke.min(),ke.min(),Dn.empty(),0)}static newFoundDocument(t,n,r,i){return new fn(t,1,n,ke.min(),r,i,0)}static newNoDocument(t,n){return new fn(t,2,n,ke.min(),ke.min(),Dn.empty(),0)}static newUnknownDocument(t,n){return new fn(t,3,n,ke.min(),ke.min(),Dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n){this.position=t,this.inclusive=n}}function IS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=uu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function AS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n="asc"){this.field=t,this.dir=n}}function EV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{}class Ot extends qx{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new TV(t,n,r):n==="array-contains"?new bV(t,r):n==="in"?new CV(t,r):n==="not-in"?new IV(t,r):n==="array-contains-any"?new AV(t,r):new Ot(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new wV(t,r):new SV(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uu(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends qx{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Vr(t,n)}matches(t){return Gx(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Gx(e){return e.op==="and"}function Kx(e){return vV(e)&&Gx(e)}function vV(e){for(const t of e.filters)if(t instanceof Vr)return!1;return!0}function V_(e){if(e instanceof Ot)return e.field.canonicalString()+e.op.toString()+lu(e.value);if(Kx(e))return e.filters.map(t=>V_(t)).join(",");{const t=e.filters.map(n=>V_(n)).join(",");return`${e.op}(${t})`}}function Yx(e,t){return e instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)}(e,t):e instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Yx(o,i.filters[a]),!0):!1}(e,t):void Ce()}function Qx(e){return e instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${lu(n.value)}`}(e):e instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(Qx).join(" ,")+"}"}(e):"Filter"}class TV extends Ot{constructor(t,n,r){super(t,n,r),this.key=ye.fromName(r.referenceValue)}matches(t){const n=ye.comparator(t.key,this.key);return this.matchesComparison(n)}}class wV extends Ot{constructor(t,n){super(t,"in",n),this.keys=Xx("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SV extends Ot{constructor(t,n){super(t,"not-in",n),this.keys=Xx("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Xx(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class bV extends Ot{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return lv(n)&&kc(n.arrayValue,this.value)}}class CV extends Ot{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kc(this.value.arrayValue,n)}}class IV extends Ot{constructor(t,n){super(t,"not-in",n)}matches(t){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!kc(this.value.arrayValue,n)}}class AV extends Ot{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function RS(e,t=null,n=[],r=[],i=null,s=null,o=null){return new RV(e,t,n,r,i,s,o)}function cv(e){const t=Ae(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>V_(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>lu(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>lu(r)).join(",")),t.ue=n}return t.ue}function dv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!EV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!AS(e.startAt,t.startAt)&&AS(e.endAt,t.endAt)}function B_(e){return ye.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xV(e,t,n,r,i,s,o,a){return new Ru(e,t,n,r,i,s,o,a)}function Xp(e){return new Ru(e)}function xS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Zx(e){return e.collectionGroup!==null}function jl(e){const t=Ae(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(Zt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Pc(s,r))}),n.has(Zt.keyField().canonicalString())||t.ce.push(new Pc(Zt.keyField(),r))}return t.ce}function ni(e){const t=Ae(e);return t.le||(t.le=Jx(t,jl(e))),t.le}function kV(e){const t=Ae(e);return t.he||(t.he=Jx(t,e.explicitOrderBy)),t.he}function Jx(e,t){if(e.limitType==="F")return RS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Pc(i.field,s)});const n=e.endAt?new Qf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qf(e.startAt.position,e.startAt.inclusive):null;return RS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function U_(e,t){const n=e.filters.concat([t]);return new Ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function H_(e,t,n){return new Ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zp(e,t){return dv(ni(e),ni(t))&&e.limitType===t.limitType}function ek(e){return`${cv(ni(e))}|lt:${e.limitType}`}function da(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Qx(i)).join(", ")}]`),Qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lu(i)).join(",")),`Target(${r})`}(ni(e))}; limitType=${e.limitType})`}function Jp(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of jl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=IS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,jl(r),i)||r.endAt&&!function(o,a,u){const l=IS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,jl(r),i))}(e,t)}function PV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tk(e){return(t,n)=>{let r=!1;for(const i of jl(e)){const s=NV(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NV(e,t,n){const r=e.field.isKeyField()?ye.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?uu(u,l):Ce()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Go(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return zx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new vt(ye.comparator);function qi(){return OV}const nk=new vt(ye.comparator);function Cl(...e){let t=nk;for(const n of e)t=t.insert(n.key,n);return t}function rk(e){let t=nk;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function wo(){return zl()}function ik(){return zl()}function zl(){return new xu(e=>e.toString(),(e,t)=>e.isEqual(t))}const DV=new vt(ye.comparator),LV=new en(ye.comparator);function Ue(...e){let t=LV;for(const n of e)t=t.add(n);return t}const MV=new en(Ye);function FV(){return MV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(t)?"-0":t}}function sk(e){return{integerValue:""+e}}function VV(e,t){return fV(t)?sk(t):hv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this._=void 0}}function BV(e,t,n){return e instanceof Xf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&av(s)&&(s=uv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Nc?ak(e,t):e instanceof Oc?uk(e,t):function(i,s){const o=ok(i,s),a=kS(o)+kS(i.Pe);return F_(o)&&F_(i.Pe)?sk(a):hv(i.serializer,a)}(e,t)}function UV(e,t,n){return e instanceof Nc?ak(e,t):e instanceof Oc?uk(e,t):n}function ok(e,t){return e instanceof Zf?function(r){return F_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Xf extends em{}class Nc extends em{constructor(t){super(),this.elements=t}}function ak(e,t){const n=lk(t);for(const r of e.elements)n.some(i=>oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oc extends em{constructor(t){super(),this.elements=t}}function uk(e,t){let n=lk(t);for(const r of e.elements)n=n.filter(i=>!oi(i,r));return{arrayValue:{values:n}}}class Zf extends em{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function kS(e){return bt(e.integerValue||e.doubleValue)}function lk(e){return lv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function HV(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Nc&&i instanceof Nc||r instanceof Oc&&i instanceof Oc?au(r.elements,i.elements,oi):r instanceof Zf&&i instanceof Zf?oi(r.Pe,i.Pe):r instanceof Xf&&i instanceof Xf}(e.transform,t.transform)}class jV{constructor(t,n){this.version=t,this.transformResults=n}}class tr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class tm{}function ck(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new nm(e.key,tr.none()):new od(e.key,e.data,tr.none());{const n=e.data,r=Dn.empty();let i=new en(Zt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new no(e.key,r,new Zn(i.toArray()),tr.none())}}function zV(e,t,n){e instanceof od?function(i,s,o){const a=i.value.clone(),u=NS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof no?function(i,s,o){if(!Xh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=NS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dk(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function $l(e,t,n,r){return e instanceof od?function(s,o,a,u){if(!Xh(s.precondition,o))return a;const l=s.value.clone(),c=OS(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof no?function(s,o,a,u){if(!Xh(s.precondition,o))return a;const l=OS(s.fieldTransforms,u,o),c=o.data;return c.setAll(dk(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return Xh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function $V(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=ok(r.transform,i||null);s!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,s))}return n||null}function PS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&au(r,i,(s,o)=>HV(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class od extends tm{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends tm{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dk(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function NS(e,t,n){const r=new Map;Je(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,UV(o,a,n[i]))}return r}function OS(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BV(s,o,t))}return r}class nm extends tm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WV extends tm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&zV(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=$l(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=$l(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ik();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=ck(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ue())}isEqual(t){return this.batchId===t.batchId&&au(this.mutations,t.mutations,(n,r)=>PS(n,r))&&au(this.baseMutations,t.baseMutations,(n,r)=>PS(n,r))}}class fv{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Je(t.mutations.length===r.length);let i=function(){return DV}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fv(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GV=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(t,n,r){this.alias=t,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,$e;function QV(e){switch(e){default:return Ce();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function hk(e){if(e===void 0)return Wi("GRPC error has no .code"),G.UNKNOWN;switch(e){case Rt.OK:return G.OK;case Rt.CANCELLED:return G.CANCELLED;case Rt.UNKNOWN:return G.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return G.INTERNAL;case Rt.UNAVAILABLE:return G.UNAVAILABLE;case Rt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Rt.NOT_FOUND:return G.NOT_FOUND;case Rt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Rt.ABORTED:return G.ABORTED;case Rt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Rt.DATA_LOSS:return G.DATA_LOSS;default:return Ce()}}($e=Rt||(Rt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Ao([4294967295,4294967295],0);function DS(e){const t=XV().encode(e),n=new Lx;return n.update(t),new Uint8Array(n.digest())}function LS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ao([n,r],0),new Ao([i,s],0)]}class pv{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Ao.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Ao.fromNumber(r)));return i.compare(ZV)===1&&(i=new Ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=DS(t),[r,i]=LS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new pv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=DS(t),[r,i]=LS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,ad.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new rm(ke.min(),i,new vt(Ye),qi(),Ue())}}class ad{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ad(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class fk{constructor(t,n){this.targetId=t,this.me=n}}class pk{constructor(t,n,r=rn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MS{constructor(){this.fe=0,this.ge=VS(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new ad(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=VS()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JV{constructor(t){this.Le=t,this.Be=new Map,this.ke=qi(),this.qe=FS(),this.Qe=new vt(Ye)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:Ce()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const s=i.target;if(B_(s))if(r===0){const o=new ye(s.path);this.Ue(n,o,fn.newNoDocument(o,ke.min()))}else Je(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(t),u=a?this.Xe(a,t,o):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fo(r).toUint8Array()}catch(u){if(u instanceof $x)return ou("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pv(o,i,s)}catch(u){return ou(u instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&B_(a.target)){const u=new ye(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,fn.newNoDocument(u,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new rm(t,n,this.Qe,this.ke,r);return this.ke=qi(),this.qe=FS(),this.Qe=new vt(Ye),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new MS,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new en(Ye),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||he("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new MS),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function FS(){return new vt(ye.comparator)}function VS(){return new vt(ye.comparator)}const eB={asc:"ASCENDING",desc:"DESCENDING"},tB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nB={and:"AND",or:"OR"};class rB{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function j_(e,t){return e.useProto3Json||Qp(t)?t:{value:t}}function Jf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function iB(e,t){return Jf(e,t.toTimestamp())}function ri(e){return Je(!!e),ke.fromTimestamp(function(n){const r=qs(n);return new Ft(r.seconds,r.nanos)}(e))}function mv(e,t){return z_(e,t).canonicalString()}function z_(e,t){const n=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function gk(e){const t=ft.fromString(e);return Je(wk(t)),t}function $_(e,t){return mv(e.databaseId,t.path)}function Fg(e,t){const n=gk(t);if(n.get(1)!==e.databaseId.projectId)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ye(yk(n))}function _k(e,t){return mv(e.databaseId,t)}function sB(e){const t=gk(e);return t.length===4?ft.emptyPath():yk(t)}function W_(e){return new ft(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yk(e){return Je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function BS(e,t,n){return{name:$_(e,t),fields:n.value.mapValue.fields}}function oB(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ce()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Je(c===void 0||typeof c=="string"),rn.fromBase64String(c||"")):(Je(c===void 0||c instanceof Buffer||c instanceof Uint8Array),rn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?G.UNKNOWN:hk(l.code);return new ue(c,l.message||"")}(o);n=new pk(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fg(e,r.document.name),s=ri(r.document.updateTime),o=r.document.createTime?ri(r.document.createTime):ke.min(),a=new Dn({mapValue:{fields:r.document.fields}}),u=fn.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Zh(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Fg(e,r.document),s=r.readTime?ri(r.readTime):ke.min(),o=fn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zh([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Fg(e,r.document),s=r.removedTargetIds||[];n=new Zh([],s,i,null)}else{if(!("filter"in t))return Ce();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new YV(i,s),a=r.targetId;n=new fk(a,o)}}return n}function aB(e,t){let n;if(t instanceof od)n={update:BS(e,t.key,t.value)};else if(t instanceof nm)n={delete:$_(e,t.key)};else if(t instanceof no)n={update:BS(e,t.key,t.data),updateMask:gB(t.fieldMask)};else{if(!(t instanceof WV))return Ce();n={verify:$_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ce()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:iB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(e,t.precondition)),n}function uB(e,t){return e&&e.length>0?(Je(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ri(i.updateTime):ri(s);return o.isEqual(ke.min())&&(o=ri(s)),new jV(o,i.transformResults||[])}(n,t))):[]}function lB(e,t){return{documents:[_k(e,t.path)]}}function Ek(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_k(e,i);const s=function(l){if(l.length!==0)return Tk(Vr.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:ws(f.field),direction:fB(f.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=j_(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:n,parent:i}}function cB(e,t,n,r){const{_t:i,parent:s}=Ek(e,t),o={},a=[];let u=0;return n.forEach(l=>{const c="aggregate_"+u++;o[c]=l.alias,l.aggregateType==="count"?a.push({alias:c,count:{}}):l.aggregateType==="avg"?a.push({alias:c,avg:{field:ws(l.fieldPath)}}):l.aggregateType==="sum"&&a.push({alias:c,sum:{field:ws(l.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}function dB(e){let t=sB(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=vk(h);return f instanceof Vr&&Kx(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Pc(ha(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Qp(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,p=h.values||[];return new Qf(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,p=h.values||[];return new Qf(p,f)}(n.endAt)),xV(t,i,o,s,a,"F",u,l)}function hB(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vk(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ha(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ha(n.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ha(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(e):e.fieldFilter!==void 0?function(n){return Ot.create(ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>vk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(e):Ce()}function fB(e){return eB[e]}function pB(e){return tB[e]}function mB(e){return nB[e]}function ws(e){return{fieldPath:e.canonicalString()}}function ha(e){return Zt.fromServerFormat(e.fieldPath)}function Tk(e){return e instanceof Ot?function(n){if(n.op==="=="){if(CS(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NAN"}};if(bS(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CS(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NAN"}};if(bS(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(n.field),op:pB(n.op),value:n.value}}}(e):e instanceof Vr?function(n){const r=n.getFilters().map(i=>Tk(i));return r.length===1?r[0]:{compositeFilter:{op:mB(n.op),filters:r}}}(e):Ce()}function gB(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function wk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n,r,i,s=ke.min(),o=ke.min(),a=rn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(t){this.ct=t}}function yB(e){const t=dB({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?H_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.un=new vB}addToCollectionParentIndex(t,n){return this.un.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(Ws.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class vB{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new en(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new en(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new cu(0)}static kn(){return new cu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.changes=new xu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&$l(r.mutation,i,Zn.empty(),Ft.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ue()){const i=wo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Cl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=wo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ue()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=qi();const o=zl(),a=function(){return zl()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof no)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),$l(c.mutation,l,c.mutation.getFieldMask(),Ft.now())):o.set(l.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new wB(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=zl();let i=new vt((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Zn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||Ue()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=ik();c.forEach(f=>{if(!s.has(f)){const p=ck(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,h))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Zx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):X.resolve(wo());let a=-1,u=s;return o.next(l=>X.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?X.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Ue())).next(c=>({batchId:a,changes:rk(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ye(n)).next(r=>{let i=Cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Cl();return this.indexManager.getCollectionParents(t,s).next(a=>X.forEach(a,u=>{const l=function(h,f){return new Ru(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,fn.newInvalidDocument(c)))});let a=Cl();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&$l(c.mutation,l,Zn.empty(),Ft.now()),Jp(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ri(i.createTime)}}(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:yB(i.bundledQuery),readTime:ri(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.overlays=new vt(ye.comparator),this.Ir=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=wo();return X.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),X.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const i=wo(),s=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return X.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new vt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=wo(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=wo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return X.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GV(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Tr=new en(jt.Er),this.dr=new en(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new jt(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new jt(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new ye(new ft([])),r=new jt(n,t),i=new jt(n,t+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new ye(new ft([])),r=new jt(n,t),i=new jt(n,t+1);let s=Ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new jt(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class jt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return ye.comparator(t.key,n.key)||Ye(t.wr,n.wr)}static Ar(t,n){return Ye(t.wr,n.wr)||ye.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(jt.Er)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(t,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new en(Ye);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new jt(new ye(s),0);let a=new en(Ye);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),X.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new jt(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(t){this.Mr=t,this.docs=function(){return new vt(ye.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(t,n){let r=qi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fn.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=qi();const o=n.path,a=new ye(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||lV(uV(c),r)<=0||(i.has(c.key)||Jp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Ce()}Or(t,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new xB(this)}getSize(t){return X.resolve(this.size)}}class xB extends TB{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t){this.persistence=t,this.Nr=new xu(n=>cv(n),dv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gv,this.targetCount=0,this.kr=cu.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new cu(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.Kn(n),X.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(t,n){this.qr={},this.overlays={},this.Qr=new ov(0),this.Kr=!1,this.Kr=!0,this.$r=new IB,this.referenceDelegate=t(this),this.Ur=new kB(this),this.indexManager=new EB,this.remoteDocumentCache=function(i){return new RB(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _B(n),this.Gr=new bB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CB,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new AB(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){he("MemoryPersistence","Starting transaction:",t);const i=new NB(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class NB extends dV{constructor(t){super(),this.currentSequenceNumber=t}}class _v{constructor(t){this.persistence=t,this.Jr=new gv,this.Yr=null}static Zr(t){return new _v(t)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(t,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yv(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return y6()?8:hV(_n())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new OB;return this.Xi(t,n,o).next(a=>{if(s.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>s.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(ol()<=He.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(ol()<=He.DEBUG&&he("QueryEngine","Query:",da(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ol()<=He.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ni(n))):X.resolve())}Yi(t,n){if(xS(n))return X.resolve(null);let r=ni(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=H_(n,null,"F"),r=ni(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Ue(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(t,H_(n,null,"F")):this.rs(t,l,n,u)}))})))}Zi(t,n,r,i){return xS(n)||i.isEqual(ke.min())?X.resolve(null):this.Ji.getDocuments(t,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?X.resolve(null):(ol()<=He.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),da(n)),this.rs(t,o,n,aV(i,-1)).next(a=>a))})}ts(t,n){let r=new en(tk(t));return n.forEach((i,s)=>{Jp(t,s)&&(r=r.add(s))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,n,r){return ol()<=He.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",da(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ws.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new vt(Ye),this._s=new xu(s=>cv(s),dv),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function MB(e,t,n,r){return new LB(e,t,n,r)}async function Sk(e,t){const n=Ae(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ue();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})}function FB(e,t){const n=Ae(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const h=l.batch,f=h.keys();let p=X.resolve();return f.forEach(_=>{p=p.next(()=>c.getEntry(u,_)).next(E=>{const b=l.docVersions.get(_);Je(b!==null),E.version.compareTo(b)<0&&(h.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),c.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function bk(e){const t=Ae(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function VB(e,t){const n=Ae(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(rn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(E,b,y){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let u=qi(),l=Ue();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(BB(s,o,t.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(ke.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function BB(e,t,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=qi();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ke.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function UB(e,t){const n=Ae(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function HB(e,t){const n=Ae(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(s=>s?(i=s,X.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Cs(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function q_(e,t,n){const r=Ae(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sd(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function US(e,t,n){const r=Ae(e);let i=ke.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const h=Ae(u),f=h._s.get(c);return f!==void 0?X.resolve(h.os.get(f)):h.Ur.getTargetData(l,c)}(r,o,ni(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,t,n?i:ke.min(),n?s:Ue())).next(a=>(jB(r,PV(t),a),{documents:a,Ts:s})))}function jB(e,t,n){let r=e.us.get(t)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.us.set(t,r)}class HS{constructor(){this.activeTargetIds=FV()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zB{constructor(){this.so=new HS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new HS,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Vg(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class GB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Vg(),u=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(c=>(he("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ou("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Au}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=WB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const s=Vg();return new Promise((o,a)=>{const u=new Mx;u.setWithCredentials(!0),u.listenOnce(Fx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yh.NO_ERROR:const c=u.getResponseJson();he(ln,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Yh.TIMEOUT:he(ln,`RPC '${t}' ${s} timed out`),a(new ue(G.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const h=u.getStatus();if(he(ln,`RPC '${t}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(y)>=0?y:G.UNKNOWN}(p.status);a(new ue(_,p.message))}else a(new ue(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ue(G.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(ln,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);he(ln,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(t,n,r){const i=Vg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ux(),a=Bx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");he(ln,`Creating RPC '${t}' stream ${i}: ${c}`,u);const h=o.createWebChannel(c,u);let f=!1,p=!1;const _=new qB({Io:b=>{p?he(ln,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(f||(he(ln,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),he(ln,`RPC '${t}' stream ${i} sending:`,b),h.send(b))},To:()=>h.close()}),E=(b,y,v)=>{b.listen(y,w=>{try{v(w)}catch(k){setTimeout(()=>{throw k},0)}})};return E(h,bl.EventType.OPEN,()=>{p||(he(ln,`RPC '${t}' stream ${i} transport opened.`),_.yo())}),E(h,bl.EventType.CLOSE,()=>{p||(p=!0,he(ln,`RPC '${t}' stream ${i} transport closed`),_.So())}),E(h,bl.EventType.ERROR,b=>{p||(p=!0,ou(ln,`RPC '${t}' stream ${i} transport errored:`,b),_.So(new ue(G.UNAVAILABLE,"The operation could not be completed")))}),E(h,bl.EventType.MESSAGE,b=>{var y;if(!p){const v=b.data[0];Je(!!v);const w=v,k=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(k){he(ln,`RPC '${t}' stream ${i} received error:`,k);const U=k.status;let L=function(R){const S=Rt[R];if(S!==void 0)return hk(S)}(U),A=k.message;L===void 0&&(L=G.INTERNAL,A="Unknown error status: "+U+" with message "+k.message),p=!0,_.So(new ue(L,A)),h.close()}else he(ln,`RPC '${t}' stream ${i} received:`,v),_.bo(v)}}),E(a,Vx.STAT_EVENT,b=>{b.stat===L_.PROXY?he(ln,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===L_.NOPROXY&&he(ln,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(e){return new rB(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n,r,i,s,o,a,u){this.ui=t,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ck(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new ue(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return he("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KB extends Ik{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=oB(this.serializer,t),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?ri(o.readTime):ke.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=W_(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=B_(u)?{documents:lB(s,u)}:{query:Ek(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mk(s,o.resumeToken);const l=j_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=Jf(s,o.snapshotVersion.toTimestamp());const l=j_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=hB(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=W_(this.serializer),n.removeTarget=t,this.a_(n)}}class YB extends Ik{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Je(!!t.streamToken),this.lastStreamToken=t.streamToken,Je(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=uB(t.writeResults,t.commitTime),r=ri(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=W_(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>aB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,z_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(G.UNKNOWN,s.toString())})}Lo(t,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,z_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class XB{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wi(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ko(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ae(u);l.L_.add(4),await ud(l),l.q_.set("Unknown"),l.L_.delete(4),await sm(l)}(this))})}),this.q_=new XB(r,i)}}async function sm(e){if(Ko(e))for(const t of e.B_)await t(!0)}async function ud(e){for(const t of e.B_)await t(!1)}function Ak(e,t){const n=Ae(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),wv(n)?Tv(n):ku(n).r_()&&vv(n,t))}function Ev(e,t){const n=Ae(e),r=ku(n);n.N_.delete(t),r.r_()&&Rk(n,t),n.N_.size===0&&(r.r_()?r.o_():Ko(n)&&n.q_.set("Unknown"))}function vv(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ke.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ku(e).A_(t)}function Rk(e,t){e.Q_.xe(t),ku(e).R_(t)}function Tv(e){e.Q_=new JV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ku(e).start(),e.q_.v_()}function wv(e){return Ko(e)&&!ku(e).n_()&&e.N_.size>0}function Ko(e){return Ae(e).L_.size===0}function xk(e){e.Q_=void 0}async function JB(e){e.q_.set("Online")}async function eU(e){e.N_.forEach((t,n)=>{vv(e,t)})}async function tU(e,t){xk(e),wv(e)?(e.q_.M_(t),Tv(e)):e.q_.set("Unknown")}async function nU(e,t,n){if(e.q_.set("Online"),t instanceof pk&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(e,t)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ep(e,r)}else if(t instanceof Zh?e.Q_.Ke(t):t instanceof fk?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ke.min()))try{const r=await bk(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.N_.get(l);c&&s.N_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.N_.get(u);if(!c)return;s.N_.set(u,c.withResumeToken(rn.EMPTY_BYTE_STRING,c.snapshotVersion)),Rk(s,u);const h=new Cs(c.target,u,l,c.sequenceNumber);vv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await ep(e,r)}}async function ep(e,t,n){if(!sd(t))throw t;e.L_.add(1),await ud(e),e.q_.set("Offline"),n||(n=()=>bk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await sm(e)})}function kk(e,t){return t().catch(n=>ep(e,n,t))}async function om(e){const t=Ae(e),n=Gs(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;rU(t);)try{const i=await UB(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,iU(t,i)}catch(i){await ep(t,i)}Pk(t)&&Nk(t)}function rU(e){return Ko(e)&&e.O_.length<10}function iU(e,t){e.O_.push(t);const n=Gs(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Pk(e){return Ko(e)&&!Gs(e).n_()&&e.O_.length>0}function Nk(e){Gs(e).start()}async function sU(e){Gs(e).p_()}async function oU(e){const t=Gs(e);for(const n of e.O_)t.m_(n.mutations)}async function aU(e,t,n){const r=e.O_.shift(),i=fv.from(r,t,n);await kk(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await om(e)}async function uU(e,t){t&&Gs(e).V_&&await async function(r,i){if(function(o){return QV(o)&&o!==G.ABORTED}(i.code)){const s=r.O_.shift();Gs(r).s_(),await kk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await om(r)}}(e,t),Pk(e)&&Nk(e)}async function zS(e,t){const n=Ae(e);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ko(n);n.L_.add(3),await ud(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await sm(n)}async function lU(e,t){const n=Ae(e);t?(n.L_.delete(2),await sm(n)):t||(n.L_.add(2),await ud(n),n.q_.set("Unknown"))}function ku(e){return e.K_||(e.K_=function(n,r,i){const s=Ae(n);return s.w_(),new KB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:JB.bind(null,e),Ro:eU.bind(null,e),mo:tU.bind(null,e),d_:nU.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),wv(e)?Tv(e):e.q_.set("Unknown")):(await e.K_.stop(),xk(e))})),e.K_}function Gs(e){return e.U_||(e.U_=function(n,r,i){const s=Ae(n);return s.w_(),new YB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sU.bind(null,e),mo:uU.bind(null,e),f_:oU.bind(null,e),g_:aU.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await om(e)):(await e.U_.stop(),e.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Sv(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(G.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(e,t){if(Wi("AsyncQueue",`${t}: ${e}`),sd(e))return new ue(G.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Cl(),this.sortedSet=new vt(this.comparator)}static emptySet(t){return new za(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new za;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.W_=new vt(ye.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Ce():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class du{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new du(t,n,za.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class dU{constructor(){this.queries=WS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ae(n),s=i.queries;i.queries=WS(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ue(G.ABORTED,"Firestore shutting down"))}}function WS(){return new xu(e=>ek(e),Zp)}async function Ok(e,t){const n=Ae(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new cU,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=bv(o,`Initialization of query '${da(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Cv(n)}async function Dk(e,t){const n=Ae(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hU(e,t){const n=Ae(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Cv(n)}function fU(e,t,n){const r=Ae(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Cv(e){e.Y_.forEach(t=>{t.next()})}var G_,qS;(qS=G_||(G_={})).ea="default",qS.Cache="cache";class Lk{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new du(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=du.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==G_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t){this.key=t}}class Fk{constructor(t){this.key=t}}class pU{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=tk(t),this.Ra=new za(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new $S,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),p=Jp(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?_!==E&&(r.track({type:3,doc:p}),b=!0):this.ga(f,p)||(r.track({type:2,doc:p}),b=!0,(u&&this.Aa(p,u)>0||l&&this.Aa(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(u||l)&&(a=!0)),b&&(p?(o=o.add(p),s=E?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,h)=>function(p,_){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return E(p)-E(_)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new du(this.query,t.Ra,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $S,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new Fk(r))}),this.da.forEach(r=>{t.has(r)||n.push(new Mk(r))}),n}ba(t){this.Ta=t.Ts,this.da=Ue();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return du.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mU{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class gU{constructor(t){this.key=t,this.va=!1}}class _U{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new xu(a=>ek(a),Zp),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(ye.comparator),this.Na=new Map,this.La=new gv,this.Ba={},this.ka=new Map,this.qa=cu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yU(e,t,n=!0){const r=zk(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Vk(r,t,n,!0),i}async function EU(e,t){const n=zk(e);await Vk(n,t,!0,!1)}async function Vk(e,t,n,r){const i=await HB(e.localStore,ni(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await vU(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&Ak(e.remoteStore,i),a}async function vU(e,t,n,r,i){e.Ka=(h,f,p)=>async function(E,b,y,v){let w=b.view.ma(y);w.ns&&(w=await US(E.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,w)));const k=v&&v.targetChanges.get(b.targetId),U=v&&v.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(w,E.isPrimaryClient,k,U);return KS(E,b.targetId,L.wa),L.snapshot}(e,h,f,p);const s=await US(e.localStore,t,!0),o=new pU(t,s.Ts),a=o.ma(s.documents),u=ad.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);KS(e,n,l.wa);const c=new mU(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),l.snapshot}async function TU(e,t,n){const r=Ae(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Zp(o,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ev(r.remoteStore,i.targetId),K_(r,i.targetId)}).catch(id)):(K_(r,i.targetId),await q_(r.localStore,i.targetId,!0))}async function wU(e,t){const n=Ae(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(n.remoteStore,r.targetId))}async function SU(e,t,n){const r=kU(e);try{const i=await function(o,a){const u=Ae(o),l=Ft.now(),c=a.reduce((p,_)=>p.add(_.key),Ue());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=qi(),E=Ue();return u.cs.getEntries(p,c).next(b=>{_=b,_.forEach((y,v)=>{v.isValidDocument()||(E=E.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,_)).next(b=>{h=b;const y=[];for(const v of a){const w=$V(v,h.get(v.key).overlayedDocument);w!=null&&y.push(new no(v.key,w,Wx(w.value.mapValue),tr.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,y,a)}).next(b=>{f=b;const y=b.applyToLocalDocumentSet(h,E);return u.documentOverlayCache.saveOverlays(p,b.batchId,y)})}).then(()=>({batchId:f.batchId,changes:rk(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new vt(Ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),await ld(r,i.changes),await om(r.remoteStore)}catch(i){const s=bv(i,"Failed to persist write");n.reject(s)}}async function Bk(e,t){const n=Ae(e);try{const r=await VB(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Je(o.va):i.removedDocuments.size>0&&(Je(o.va),o.va=!1))}),await ld(n,r,t)}catch(r){await id(r)}}function GS(e,t,n){const r=Ae(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ae(o);u.onlineState=a;let l=!1;u.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(l=!0)}),l&&Cv(u)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bU(e,t,n){const r=Ae(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let o=new vt(ye.comparator);o=o.insert(s,fn.newNoDocument(s,ke.min()));const a=Ue().add(s),u=new rm(ke.min(),new Map,new vt(Ye),o,a);await Bk(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(t),Iv(r)}else await q_(r.localStore,t,!1).then(()=>K_(r,t,n)).catch(id)}async function CU(e,t){const n=Ae(e),r=t.batch.batchId;try{const i=await FB(n.localStore,t);Hk(n,r,null),Uk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,i)}catch(i){await id(i)}}async function IU(e,t,n){const r=Ae(e);try{const i=await function(o,a){const u=Ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(Je(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Hk(r,t,n),Uk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ld(r,i)}catch(i){await id(i)}}function Uk(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function Hk(e,t,n){const r=Ae(e);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function K_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||jk(e,r)})}function jk(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Ev(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Iv(e))}function KS(e,t,n){for(const r of n)r instanceof Mk?(e.La.addReference(r.key,t),AU(e,r)):r instanceof Fk?(he("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||jk(e,r.key)):Ce()}function AU(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),e.xa.add(r),Iv(e))}function Iv(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ye(ft.fromString(t)),r=e.qa.next();e.Na.set(r,new gU(n)),e.Oa=e.Oa.insert(n,r),Ak(e.remoteStore,new Cs(ni(Xp(n.path)),r,"TargetPurposeLimboResolution",ov.oe))}}async function ld(e,t,n){const r=Ae(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,t,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);const h=yv.Wi(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,l){const c=Ae(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(l,f=>X.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>X.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!sd(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),_=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(_);c.os=c.os.insert(f,E)}}}(r.localStore,s))}async function RU(e,t){const n=Ae(e);if(!n.currentUser.isEqual(t)){he("SyncEngine","User change. New user:",t.toKey());const r=await Sk(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ue(G.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ld(n,r.hs)}}function xU(e,t){const n=Ae(e),r=n.Na.get(t);if(r&&r.va)return Ue().add(r.key);{let i=Ue();const s=n.Ma.get(t);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function zk(e){const t=Ae(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bU.bind(null,t),t.Ca.d_=hU.bind(null,t.eventManager),t.Ca.$a=fU.bind(null,t.eventManager),t}function kU(e){const t=Ae(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IU.bind(null,t),t}class tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=im(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return MB(this.persistence,new DB,t.initialUser,this.serializer)}Ga(t){return new PB(_v.Zr,this.serializer)}Wa(t){return new zB}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tp.provider={build:()=>new tp};class Y_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RU.bind(null,this.syncEngine),await lU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dU}()}createDatastore(t){const n=im(t.databaseInfo.databaseId),r=function(s){return new GB(s)}(t.databaseInfo);return function(s,o,a,u){return new QB(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new ZB(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>GS(this.syncEngine,n,0),function(){return jS.D()?new jS:new $B}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const h=new _U(i,s,o,a,u,l);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=Ae(i);he("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ud(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Y_.provider={build:()=>new Y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=bv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ug(e,t){e.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Sk(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function YS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await NU(e);he("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>zS(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>zS(t.remoteStore,i)),e._onlineComponents=t}async function NU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ug(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ou("Error using user provided cache. Falling back to memory cache: "+n),await Ug(e,new tp)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Ug(e,new tp);return e._offlineComponents}async function Av(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await YS(e,e._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await YS(e,new Y_))),e._onlineComponents}function OU(e){return Av(e).then(t=>t.syncEngine)}function DU(e){return Av(e).then(t=>t.datastore)}async function Q_(e){const t=await Av(e),n=t.eventManager;return n.onListen=yU.bind(null,t.syncEngine),n.onUnlisten=TU.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=EU.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wU.bind(null,t.syncEngine),n}function LU(e,t,n={}){const r=new Fi;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new $k({next:f=>{c.Za(),o.enqueueAndForget(()=>Dk(s,h));const p=f.docs.has(a);!p&&f.fromCache?l.reject(new ue(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&u&&u.source==="server"?l.reject(new ue(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Lk(Xp(a.path),c,{includeMetadataChanges:!0,_a:!0});return Ok(s,h)}(await Q_(e),e.asyncQueue,t,n,r)),r.promise}function MU(e,t,n){const r=new Fi;return e.asyncQueue.enqueueAndForget(async()=>{try{const i=await DU(e);r.resolve(async function(o,a,u){var l;const c=Ae(o),{request:h,ut:f,parent:p}=cB(c.serializer,kV(a),u);c.connection.Fo||delete h.parent;const _=(await c.Lo("RunAggregationQuery",c.serializer.databaseId,p,h,1)).filter(b=>!!b.result);Je(_.length===1);const E=(l=_[0].result)===null||l===void 0?void 0:l.aggregateFields;return Object.keys(E).reduce((b,y)=>(b[f[y]]=E[y],b),{})}(i,t,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(e,t,n){if(!n)throw new ue(G.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function FU(e,t,n,r){if(t===!0&&r===!0)throw new ue(G.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function XS(e){if(!ye.isDocumentKey(e))throw new ue(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZS(e){if(ye.isDocumentKey(e))throw new ue(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function am(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ce()}function Or(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ue(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=am(e);throw new ue(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ue(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ue(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wk((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class um{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z5;switch(r.type){case"firstParty":return new nV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QS.get(n);r&&(he("ComponentProvider","Removing Datastore"),QS.delete(n),r.terminate())}(this),Promise.resolve()}}function VU(e,t,n,r={}){var i;const s=(e=Or(e,um))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=dn.MOCK_USER;else{a=QR(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ue(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dn(l)}e._authCredentials=new J5(new Hx(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yo(this.firestore,t,this._query)}}class tn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Us extends Yo{constructor(t,n,r){super(t,n,Xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new ye(t))}withConverter(t){return new Us(this.firestore,t,this._path)}}function Ht(e,t,...n){if(e=at(e),qk("collection","path",t),e instanceof um){const r=ft.fromString(t,...n);return ZS(r),new Us(e,null,r)}{if(!(e instanceof tn||e instanceof Us))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ft.fromString(t,...n));return ZS(r),new Us(e.firestore,null,r)}}function Mn(e,t,...n){if(e=at(e),arguments.length===1&&(t=jx.newId()),qk("doc","path",t),e instanceof um){const r=ft.fromString(t,...n);return XS(r),new tn(e,null,new ye(r))}{if(!(e instanceof tn||e instanceof Us))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ft.fromString(t,...n));return XS(r),new tn(e.firestore,e instanceof Us?e.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ck(this,"async_queue_retry"),this.Vu=()=>{const r=Bg();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Fi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!sd(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=Sv.createAndSchedule(this,t,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function tb(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Ks extends um{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new eb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new eb(t),this._firestoreClient=void 0,await t}}}function BU(e,t){const n=$p(),r="(default)",i=Jc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=YE("firestore");s&&VU(i,...s)}return i}function cd(e){if(e._terminated)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||UU(e),e._firestoreClient}function UU(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new gV(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Wk(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new PU(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(t="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=t}}class jU{constructor(t,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hu(rn.fromBase64String(t))}catch(n){throw new ue(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new hu(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ue(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ue(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ue(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ye(this._lat,t._lat)||Ye(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^__.*__$/;class $U{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new no(t,this.data,this.fieldMask,n,this.fieldTransforms):new od(t,this.data,n,this.fieldTransforms)}}class Gk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new no(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Pv{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Pv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return np(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(Kk(this.Cu)&&zU.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class WU{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||im(t)}Qu(t,n,r,i=!1){return new Pv({Cu:t,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(e){const t=e._freezeSettings(),n=im(e._databaseId);return new WU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yk(e,t,n,r,i,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Ov("Data must be an object, but it was:",o,r);const a=Qk(r,o);let u,l;if(s.merge)u=new Zn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=X_(t,h,n);if(!o.contains(f))throw new ue(G.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Zk(c,f)||c.push(f)}u=new Zn(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new $U(new Dn(a),u,l)}class cm extends Rv{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cm}}function qU(e,t,n,r){const i=e.Qu(1,t,n);Ov("Data must be an object, but it was:",i,r);const s=[],o=Dn.empty();Go(r,(u,l)=>{const c=Dv(t,u,n);l=at(l);const h=i.Nu(c);if(l instanceof cm)s.push(c);else{const f=dd(l,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Zn(s);return new Gk(o,a,i.fieldTransforms)}function GU(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[X_(t,r,n)],u=[i];if(s.length%2!=0)throw new ue(G.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(X_(t,s[f])),u.push(s[f+1]);const l=[],c=Dn.empty();for(let f=a.length-1;f>=0;--f)if(!Zk(l,a[f])){const p=a[f];let _=u[f];_=at(_);const E=o.Nu(p);if(_ instanceof cm)l.push(p);else{const b=dd(_,E);b!=null&&(l.push(p),c.set(p,b))}}const h=new Zn(l);return new Gk(c,h,o.fieldTransforms)}function KU(e,t,n,r=!1){return dd(n,e.Qu(r?4:3,t))}function dd(e,t){if(Xk(e=at(e)))return Ov("Unsupported field value:",t,e),Qk(e,t);if(e instanceof Rv)return function(r,i){if(!Kk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=dd(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ft.fromDate(r);return{timestampValue:Jf(i.serializer,s)}}if(r instanceof Ft){const s=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(i.serializer,s)}}if(r instanceof xv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hu)return{bytesValue:mk(i.serializer,r._byteString)};if(r instanceof tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return hv(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${am(r)}`)}(e,t)}function Qk(e,t){const n={};return zx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(e,(r,i)=>{const s=dd(i,t.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ft||e instanceof xv||e instanceof hu||e instanceof tn||e instanceof Rv||e instanceof kv)}function Ov(e,t,n){if(!Xk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=am(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function X_(e,t,n){if((t=at(t))instanceof lm)return t._internalPath;if(typeof t=="string")return Dv(e,t);throw np("Field path arguments must be of type string or ",e,!1,void 0,n)}const YU=new RegExp("[~\\*/\\[\\]]");function Dv(e,t,n){if(t.search(YU)>=0)throw np(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new lm(...t.split("."))._internalPath}catch{throw np(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function np(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ue(G.INVALID_ARGUMENT,a+e+u)}function Zk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QU extends Jk{data(){return super.data()}}function dm(e,t){return typeof t=="string"?Dv(e,t):t instanceof lm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ue(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lv{}class e2 extends Lv{}function li(e,t,...n){let r=[];t instanceof Lv&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Mv).length,a=s.filter(u=>u instanceof hm).length;if(o>1||o>0&&a>0)throw new ue(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class hm extends e2{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new hm(t,n,r)}_apply(t){const n=this._parse(t);return t2(t._query,n),new Yo(t.firestore,t.converter,U_(t._query,n))}_parse(t){const n=Nv(t.firestore);return function(s,o,a,u,l,c,h){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ue(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){rb(h,c);const p=[];for(const _ of h)p.push(nb(u,s,_));f={arrayValue:{values:p}}}else f=nb(u,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rb(h,c),f=KU(a,o,h,c==="in"||c==="not-in");return Ot.create(l,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function hd(e,t,n){const r=t,i=dm("where",e);return hm._create(i,r,n)}class Mv extends Lv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Mv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)t2(o,u),o=U_(o,u)}(t._query,n),new Yo(t.firestore,t.converter,U_(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fv extends e2{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Fv(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pc(s,o)}(t._query,this._field,this._direction);return new Yo(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ru(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function ZU(e,t="asc"){const n=t,r=dm("orderBy",e);return Fv._create(r,n)}function nb(e,t,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ue(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zx(t)&&n.indexOf("/")!==-1)throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ft.fromString(n));if(!ye.isDocumentKey(r))throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SS(e,new ye(r))}if(n instanceof tn)return SS(e,n._key);throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(n)}.`)}function rb(e,t){if(!Array.isArray(e)||e.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function t2(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class JU{convertValue(t,n="none"){switch(Vo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ce()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Go(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>bt(o.doubleValue));return new kv(s)}convertGeoPoint(t){return new xv(bt(t.latitude),bt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=uv(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rc(t));default:return null}}convertTimestamp(t){const n=qs(t);return new Ft(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ft.fromString(t);Je(wk(r));const i=new xc(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(n)||Wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function e8(){return new HU("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class r2 extends Jk{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jh extends r2{data(t={}){return super.data(t)}}class t8{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Jh(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:n8(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function n8(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(e){e=Or(e,tn);const t=Or(e.firestore,Ks);return LU(cd(t),e._key).then(n=>o2(t,e,n))}class Vv extends JU{constructor(t){super(),this.firestore=t}convertBytes(t){return new hu(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Z_(e,t,n){e=Or(e,tn);const r=Or(e.firestore,Ks),i=n2(e.converter,t,n);return Bv(r,[Yk(Nv(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,tr.none())])}function Wl(e){return Bv(Or(e.firestore,Ks),[new nm(e._key,tr.none())])}function s2(e,...t){var n,r,i;e=at(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||tb(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tb(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(e instanceof tn)l=Or(e.firestore,Ks),c=Xp(e._key.path),u={next:h=>{t[o]&&t[o](o2(l,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Or(e,Yo);l=Or(h.firestore,Ks),c=h._query;const f=new Vv(l);u={next:p=>{t[o]&&t[o](new t8(l,f,h,p))},error:t[o+1],complete:t[o+2]},XU(e._query)}return function(f,p,_,E){const b=new $k(E),y=new Lk(p,b,_);return f.asyncQueue.enqueueAndForget(async()=>Ok(await Q_(f),y)),()=>{b.Za(),f.asyncQueue.enqueueAndForget(async()=>Dk(await Q_(f),y))}}(cd(l),c,a,u)}function Bv(e,t){return function(r,i){const s=new Fi;return r.asyncQueue.enqueueAndForget(async()=>SU(await OU(r),i,s)),s.promise}(cd(e),t)}function o2(e,t,n){const r=n.docs.get(t._key),i=new Vv(e);return new r2(e,i,t._key,r,new Al(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e){return r8(e,{count:e8()})}function r8(e,t){const n=Or(e.firestore,Ks),r=cd(n),i=pV(t,(s,o)=>new KV(o,s.aggregateType,s._internalFieldPath));return MU(r,e._query,i).then(s=>function(a,u,l){const c=new Vv(a);return new jU(u,c,l)}(n,e,s))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nv(t)}set(t,n,r){this._verifyNotCommitted();const i=Hg(t,this._firestore),s=n2(i.converter,n,r),o=Yk(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,tr.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=Hg(t,this._firestore);let o;return o=typeof(n=at(n))=="string"||n instanceof lm?GU(this._dataReader,"WriteBatch.update",s._key,n,r,i):qU(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,tr.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Hg(t,this._firestore);return this._mutations=this._mutations.concat(new nm(n._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hg(e,t){if((e=at(e)).firestore!==t)throw new ue(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(e){return cd(e=Or(e,Ks)),new i8(e,t=>Bv(e,t))}(function(t,n=!0){(function(i){Au=i})(qo),$s(new ji("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ks(new eV(r.getProvider("auth-internal")),new iV(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ue(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yr(yS,"4.7.3",t),yr(yS,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="type.googleapis.com/google.protobuf.Int64Value",a8="type.googleapis.com/google.protobuf.UInt64Value";function a2(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function J_(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>J_(t));if(typeof e=="function"||typeof e=="object")return a2(e,t=>J_(t));throw new Error("Data cannot be encoded in JSON: "+e)}function rp(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case o8:case a8:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>rp(t)):typeof e=="function"||typeof e=="object"?a2(e,t=>rp(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $a extends Ur{constructor(t,n,r){super(`${Hv}/${t}`,n||""),this.details=r}}function u8(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function l8(e,t){let n=u8(e),r=n,i;try{const s=t&&t.error;if(s){const o=s.status;if(typeof o=="string"){if(!ib[o])return new $a("internal","internal");n=ib[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=rp(i))}}catch{}return n==="ok"?null:new $a(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="us-central1";function d8(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new $a("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class h8{constructor(t,n,r,i,s=ey,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new c8(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=ey}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function f8(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function p8(e,t,n){return r=>g8(e,t,r,{})}async function m8(e,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function g8(e,t,n,r){const i=e._url(t);return _8(e,i,n,r)}async function _8(e,t,n,r){n=J_(n);const i={data:n},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,u=d8(a),l=await Promise.race([m8(t,i,s,e.fetchImpl),u.promise,e.cancelAllRequests]);if(u.cancel(),!l)throw new $a("cancelled","Firebase Functions instance was deleted.");const c=l8(l.status,l.json);if(c)throw c;if(!l.json)throw new $a("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new $a("internal","Response is missing data field.");return{data:rp(h)}}const sb="@firebase/functions",ob="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="auth-internal",E8="app-check-internal",v8="messaging-internal";function T8(e,t){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(y8),a=r.getProvider(v8),u=r.getProvider(E8);return new h8(s,o,a,u,i,e)};$s(new ji(Hv,n,"PUBLIC").setMultipleInstances(!0)),yr(sb,ob,t),yr(sb,ob,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(e=$p(),t=ey){const r=Jc(at(e),Hv).getImmediate({identifier:t}),i=YE("functions");return i&&S8(r,...i),r}function S8(e,t,n){f8(at(e),t,n)}function ip(e,t,n){return p8(at(e),t)}T8(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="firebasestorage.googleapis.com",l2="storageBucket",b8=2*60*1e3,C8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Ur{constructor(t,n,r=0){super(jg(t),`Firebase Storage: ${n} (${jg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qt||(qt={}));function jg(e){return"storage/"+e}function c2(){const e="An unknown error occurred, please check the error payload for server response.";return new Gt(qt.UNKNOWN,e)}function I8(e){return new Gt(qt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function A8(e){return new Gt(qt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R8(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(qt.UNAUTHENTICATED,e)}function x8(){return new Gt(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k8(e){return new Gt(qt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function P8(){return new Gt(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N8(){return new Gt(qt.CANCELED,"User canceled the upload/download.")}function O8(e){return new Gt(qt.INVALID_URL,"Invalid URL '"+e+"'.")}function D8(e){return new Gt(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function L8(){return new Gt(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+l2+"' property when initializing the app?")}function M8(){return new Gt(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ty(e){return new Gt(qt.INVALID_ARGUMENT,e)}function d2(){return new Gt(qt.APP_DELETED,"The Firebase app was deleted.")}function F8(e){return new Gt(qt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function al(e){throw new Gt(qt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Jn.makeFromUrl(t,n)}catch{return new Jn(t,"")}if(r.path==="")return r;throw D8(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},E=n===u2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${b}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:p,indices:_,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let k=0;k<w.length;k++){const U=w[k],L=U.regex.exec(t);if(L){const A=L[U.indices.bucket];let I=L[U.indices.path];I||(I=""),r=new Jn(A,I),U.postModify(r);break}}if(r==null)throw O8(t);return r}}class V8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...b){l||(l=!0,t.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,e(p,u())},b)}function f(){s&&clearTimeout(s)}function p(b,...y){if(l){f();return}if(b){f(),c.call(null,b,...y);return}if(u()||o){f(),c.call(null,b,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let _=!1;function E(b){_||(_=!0,f(),!l&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function U8(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(e){return e!==void 0}function j8(e){return typeof e=="object"&&!Array.isArray(e)}function h2(e){return typeof e=="string"||e instanceof String}function ab(e,t,n,r){if(r<t)throw ty(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ty(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function p2(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ro;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ro||(Ro={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(t,n,r,i,s,o,a,u,l,c,h,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new fh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ro.NO_ERROR,u=s.getStatus();if(!a||z8(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ro.ABORT;r(!1,new fh(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new fh(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());H8(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=c2();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?d2():N8();o(u)}else{const u=P8();o(u)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=B8(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&U8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function W8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function q8(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function G8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function K8(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Y8(e,t,n,r,i,s,o=!0){const a=p2(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return G8(l,t),W8(l,n),q8(l,s),K8(l,r),new $8(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){let t;try{t=JSON.parse(e)}catch{return null}return j8(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function X8(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function g2(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(e,t){return t}class wn{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Z8}}let ph=null;function J8(e){return!h2(e)||e.length<2?e:g2(e)}function eH(){if(ph)return ph;const e=[];e.push(new wn("bucket")),e.push(new wn("generation")),e.push(new wn("metageneration")),e.push(new wn("name","fullPath",!0));function t(s,o){return J8(o)}const n=new wn("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new wn("size");return i.xform=r,e.push(i),e.push(new wn("timeCreated")),e.push(new wn("updated")),e.push(new wn("md5Hash",null,!0)),e.push(new wn("cacheControl",null,!0)),e.push(new wn("contentDisposition",null,!0)),e.push(new wn("contentEncoding",null,!0)),e.push(new wn("contentLanguage",null,!0)),e.push(new wn("contentType",null,!0)),e.push(new wn("metadata","customMetadata",!0)),ph=e,ph}function tH(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Jn(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function nH(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return tH(r,e),r}function rH(e,t,n){const r=m2(t);return r===null?null:nH(e,r,n)}function iH(e,t,n,r){const i=m2(t);if(i===null||!h2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,h=e.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=f2(f,n,r),_=p2({alt:"media",token:l});return p+_})[0]}class sH{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(e){if(!e)throw c2()}function aH(e,t){function n(r,i){const s=rH(e,i,t);return oH(s!==null),iH(s,i,e.host,e._protocol)}return n}function uH(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=x8():i=R8():n.getStatus()===402?i=A8(e.bucket):n.getStatus()===403?i=k8(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function lH(e){const t=uH(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=I8(e.path)),s.serverResponse=i.serverResponse,s}return n}function cH(e,t,n){const r=t.fullServerUrl(),i=f2(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new sH(i,s,aH(e,n),o);return a.errorHandler=lH(t),a}class dH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ro.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ro.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ro.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class hH extends dH{initXhr(){this.xhr_.responseType="text"}}function fH(){return new hH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,n){this._service=t,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Bo(t,n)}get root(){const t=new Jn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g2(this._location.path)}get storage(){return this._service}get parent(){const t=Q8(this._location.path);if(t===null)return null;const n=new Jn(this._location.bucket,t);return new Bo(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw F8(t)}}function pH(e){e._throwIfRoot("getDownloadURL");const t=cH(e.storage,e._location,eH());return e.storage.makeRequestWithTokens(t,fH).then(n=>{if(n===null)throw M8();return n})}function mH(e,t){const n=X8(e._location.path,t),r=new Jn(e._location.bucket,n);return new Bo(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(e){return/^[A-Za-z]+:\/\//.test(e)}function _H(e,t){return new Bo(e,t)}function _2(e,t){if(e instanceof jv){const n=e;if(n._bucket==null)throw L8();const r=new Bo(n,n._bucket);return t!=null?_2(r,t):r}else return t!==void 0?mH(e,t):e}function yH(e,t){if(t&&gH(t)){if(e instanceof jv)return _H(e,t);throw ty("To use ref(service, url), the first argument must be a Storage instance.")}else return _2(e,t)}function ub(e,t){const n=t==null?void 0:t[l2];return n==null?null:Jn.makeFromBucketSpec(n,e)}function EH(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:QR(i,e.app.options.projectId))}class jv{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=u2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b8,this._maxUploadRetryTime=C8,this._requests=new Set,i!=null?this._bucket=Jn.makeFromBucketSpec(i,this._host):this._bucket=ub(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,t):this._bucket=ub(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ab("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ab("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Bo(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new V8(d2());{const o=Y8(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const lb="@firebase/storage",cb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="storage";function vH(e){return e=at(e),pH(e)}function E2(e,t){return e=at(e),yH(e,t)}function TH(e=$p(),t){e=at(e);const r=Jc(e,y2).getImmediate({identifier:t}),i=YE("storage");return i&&wH(r,...i),r}function wH(e,t,n,r={}){EH(e,t,n,r)}function SH(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new jv(n,r,i,t,qo)}function bH(){$s(new ji(y2,SH,"PUBLIC").setMultipleInstances(!0)),yr(lb,cb,""),yr(lb,cb,"esm2017")}bH();const v2=x.createContext({app:{},auth:{},user:null,authStateChanged:!1,firestore:{},storage:{},functions:{}}),Dc="ierae-ctf-2025-prod-93zb0",CH=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),[s,o]=x.useState(null),[a,u]=x.useState(!1),[l,c]=x.useState(null),[h,f]=x.useState(null),[p,_]=x.useState(null);return x.useEffect(()=>{const E=JR(X5);n(E);const b=G5(E);b.tenantId=Dc,i(b);const y=L9(b,async U=>{o(U!==null?U:null),u(!0)}),v=BU();{const U=Mn(v,"firectf","ierae-ctf-2025-prod-93zb0");c(U)}const w=TH();f(E2(w,"firectf/ierae-ctf-2025-prod-93zb0"));const k=w8(E);return _(k),()=>{_(null),f(null),c(null),y(),o(null),i(null),n(null)}},[]),t!==null&&r!==null&&a===!0&&l!==null&&h!==null&&p!==null?C.jsx(v2.Provider,{value:{app:t,auth:r,user:s,authStateChanged:a,firestore:l,storage:h,functions:p},children:e}):C.jsx(C.Fragment,{children:"Loading..."})},Vt=()=>Ar.useContext(v2),IH=(e,t,n,r)=>s2(e,{includeMetadataChanges:!0},async i=>{const s=[];for(const o of i.docChanges()){const a=await o.doc.data();a._ref=o.doc.ref,o.type==="added"&&s.push(a),o.type==="modified"&&n(a),o.type==="removed"&&r(a)}s.length>0&&t(s)}),ci=(e,t)=>IH(e,n=>t(r=>{const i=n.map(s=>s._ref.id);return r.filter(s=>!i.includes(s._ref.id)).concat(n)}),n=>t(r=>{const i=[...r];return i[i.findIndex(s=>s._ref.id===n._ref.id)]=n,i}),n=>t(r=>r.filter(i=>i._ref.id!==n._ref.id))),sp=(e,t)=>s2(e,async n=>{n.exists()&&t(await n.data())});var Qe;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Qe||(Qe={}));var db;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(db||(db={}));const de=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=e=>{switch(typeof e){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(e)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(e)?de.array:e===null?de.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?de.promise:typeof Map<"u"&&e instanceof Map?de.map:typeof Set<"u"&&e instanceof Set?de.set:typeof Date<"u"&&e instanceof Date?de.date:de.object;default:return de.unknown}},re=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Gi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),r}static assert(t){if(!(t instanceof Gi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Gi.create=e=>new Gi(e);const ny=(e,t)=>{let n;switch(e.code){case re.invalid_type:e.received===de.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Qe.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qe.joinValues(e.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qe.joinValues(e.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${Qe.joinValues(e.options)}, received '${e.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Qe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case re.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case re.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=t.defaultError,Qe.assertNever(e)}return{message:n}};let AH=ny;function RH(){return AH}const xH=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const u=r.filter(l=>!!l).slice().reverse();for(const l of u)a=l(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}};function ae(e,t){const n=RH(),r=xH({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ny?void 0:ny].filter(i=>!!i)});e.common.issues.push(r)}class An{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Re;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return An.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Re;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const Re=Object.freeze({status:"aborted"}),Rl=e=>({status:"dirty",value:e}),Tr=e=>({status:"valid",value:e}),hb=e=>e.status==="aborted",fb=e=>e.status==="dirty",fu=e=>e.status==="valid",op=e=>typeof Promise<"u"&&e instanceof Promise;var me;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(me||(me={}));class ai{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pb=(e,t)=>{if(fu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gi(e.common.issues);return this._error=n,this._error}}};function De(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>{const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:u??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:u??n??a.defaultError}},description:i}}class je{get description(){return this._def.description}_getType(t){return ms(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ms(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new An,ctx:{common:t.parent.common,data:t.data,parsedType:ms(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(op(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ms(t)},i=this._parseSync({data:t,path:r.path,parent:r});return pb(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ms(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return fu(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>fu(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ms(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(op(i)?i:Promise.resolve(i));return pb(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:re.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new gu({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hs.create(this,this._def)}nullable(){return _u.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ii.create(this)}promise(){return dp.create(this,this._def)}or(t){return up.create([this,t],this._def)}and(t){return lp.create(this,t,this._def)}transform(t){return new gu({...De(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new sy({...De(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new ZH({typeName:Ie.ZodBranded,type:this,...De(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new oy({...De(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return zv.create(this,t)}readonly(){return ay.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kH=/^c[^\s-]{8,}$/i,PH=/^[0-9a-z]+$/,NH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DH=/^[a-z0-9_-]{21}$/i,LH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zg;const BH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,UH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$H=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,T2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WH=new RegExp(`^${T2}$`);function w2(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function qH(e){return new RegExp(`^${w2(e)}$`)}function GH(e){let t=`${T2}T${w2(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function KH(e,t){return!!((t==="v4"||!t)&&BH.test(e)||(t==="v6"||!t)&&HH.test(e))}function YH(e,t){if(!LH.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function QH(e,t){return!!((t==="v4"||!t)&&UH.test(e)||(t==="v6"||!t)&&jH.test(e))}class Di extends je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==de.string){const s=this._getOrReturnCtx(t);return ae(s,{code:re.invalid_type,expected:de.string,received:s.parsedType}),Re}const r=new An;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),ae(i,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),ae(i,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?ae(i,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ae(i,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")FH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"email",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")zg||(zg=new RegExp(VH,"u")),zg.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"emoji",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")OH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"uuid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")DH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"nanoid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")kH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"cuid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")PH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"cuid2",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")NH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"ulid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ae(i,{validation:"url",code:re.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"regex",code:re.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),ae(i,{code:re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),ae(i,{code:re.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),ae(i,{code:re.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?GH(s).test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{code:re.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?WH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{code:re.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?qH(s).test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{code:re.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?MH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"duration",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?KH(t.data,s.version)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"ip",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?YH(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"jwt",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?QH(t.data,s.version)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"cidr",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?zH.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"base64",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?$H.test(t.data)||(i=this._getOrReturnCtx(t,i),ae(i,{validation:"base64url",code:re.invalid_string,message:s.message}),r.dirty()):Qe.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:re.invalid_string,...me.errToObj(r)})}_addCheck(t){return new Di({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...me.errToObj(t)})}url(t){return this._addCheck({kind:"url",...me.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...me.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...me.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...me.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...me.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...me.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...me.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...me.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...me.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...me.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...me.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...me.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...me.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...me.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...me.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...me.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...me.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...me.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...me.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...me.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...me.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...me.errToObj(n)})}nonempty(t){return this.min(1,me.errToObj(t))}trim(){return new Di({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Di.create=e=>new Di({checks:[],typeName:Ie.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...De(e)});function XH(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class pu extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==de.number){const s=this._getOrReturnCtx(t);return ae(s,{code:re.invalid_type,expected:de.number,received:s.parsedType}),Re}let r;const i=new An;for(const s of this._def.checks)s.kind==="int"?Qe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ae(r,{code:re.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:re.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:re.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?XH(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),ae(r,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ae(r,{code:re.not_finite,message:s.message}),i.dirty()):Qe.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,me.toString(n))}gt(t,n){return this.setLimit("min",t,!1,me.toString(n))}lte(t,n){return this.setLimit("max",t,!0,me.toString(n))}lt(t,n){return this.setLimit("max",t,!1,me.toString(n))}setLimit(t,n,r,i){return new pu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:me.toString(i)}]})}_addCheck(t){return new pu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:me.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:me.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:me.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Qe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}pu.create=e=>new pu({checks:[],typeName:Ie.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class Lc extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==de.bigint)return this._getInvalidInput(t);let r;const i=new An;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:re.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:re.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Qe.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ae(n,{code:re.invalid_type,expected:de.bigint,received:n.parsedType}),Re}gte(t,n){return this.setLimit("min",t,!0,me.toString(n))}gt(t,n){return this.setLimit("min",t,!1,me.toString(n))}lte(t,n){return this.setLimit("max",t,!0,me.toString(n))}lt(t,n){return this.setLimit("max",t,!1,me.toString(n))}setLimit(t,n,r,i){return new Lc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:me.toString(i)}]})}_addCheck(t){return new Lc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:me.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Lc.create=e=>new Lc({checks:[],typeName:Ie.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...De(e)});class ry extends je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==de.boolean){const r=this._getOrReturnCtx(t);return ae(r,{code:re.invalid_type,expected:de.boolean,received:r.parsedType}),Re}return Tr(t.data)}}ry.create=e=>new ry({typeName:Ie.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class Mc extends je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==de.date){const s=this._getOrReturnCtx(t);return ae(s,{code:re.invalid_type,expected:de.date,received:s.parsedType}),Re}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return ae(s,{code:re.invalid_date}),Re}const r=new An;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),ae(i,{code:re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),ae(i,{code:re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Qe.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Mc({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:me.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:me.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Mc.create=e=>new Mc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ie.ZodDate,...De(e)});class mb extends je{_parse(t){if(this._getType(t)!==de.symbol){const r=this._getOrReturnCtx(t);return ae(r,{code:re.invalid_type,expected:de.symbol,received:r.parsedType}),Re}return Tr(t.data)}}mb.create=e=>new mb({typeName:Ie.ZodSymbol,...De(e)});class gb extends je{_parse(t){if(this._getType(t)!==de.undefined){const r=this._getOrReturnCtx(t);return ae(r,{code:re.invalid_type,expected:de.undefined,received:r.parsedType}),Re}return Tr(t.data)}}gb.create=e=>new gb({typeName:Ie.ZodUndefined,...De(e)});class _b extends je{_parse(t){if(this._getType(t)!==de.null){const r=this._getOrReturnCtx(t);return ae(r,{code:re.invalid_type,expected:de.null,received:r.parsedType}),Re}return Tr(t.data)}}_b.create=e=>new _b({typeName:Ie.ZodNull,...De(e)});class ap extends je{constructor(){super(...arguments),this._any=!0}_parse(t){return Tr(t.data)}}ap.create=e=>new ap({typeName:Ie.ZodAny,...De(e)});class yb extends je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Tr(t.data)}}yb.create=e=>new yb({typeName:Ie.ZodUnknown,...De(e)});class Ys extends je{_parse(t){const n=this._getOrReturnCtx(t);return ae(n,{code:re.invalid_type,expected:de.never,received:n.parsedType}),Re}}Ys.create=e=>new Ys({typeName:Ie.ZodNever,...De(e)});class Eb extends je{_parse(t){if(this._getType(t)!==de.undefined){const r=this._getOrReturnCtx(t);return ae(r,{code:re.invalid_type,expected:de.void,received:r.parsedType}),Re}return Tr(t.data)}}Eb.create=e=>new Eb({typeName:Ie.ZodVoid,...De(e)});class ii extends je{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==de.array)return ae(n,{code:re.invalid_type,expected:de.array,received:n.parsedType}),Re;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ae(n,{code:o?re.too_big:re.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ae(n,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ae(n,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new ai(n,o,n.path,a)))).then(o=>An.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new ai(n,o,n.path,a)));return An.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new ii({...this._def,minLength:{value:t,message:me.toString(n)}})}max(t,n){return new ii({...this._def,maxLength:{value:t,message:me.toString(n)}})}length(t,n){return new ii({...this._def,exactLength:{value:t,message:me.toString(n)}})}nonempty(t){return this.min(1,t)}}ii.create=(e,t)=>new ii({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...De(t)});function fa(e){if(e instanceof Pt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Hs.create(fa(r))}return new Pt({...e._def,shape:()=>t})}else return e instanceof ii?new ii({...e._def,type:fa(e.element)}):e instanceof Hs?Hs.create(fa(e.unwrap())):e instanceof _u?_u.create(fa(e.unwrap())):e instanceof Uo?Uo.create(e.items.map(t=>fa(t))):e}class Pt extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Qe.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==de.object){const l=this._getOrReturnCtx(t);return ae(l,{code:re.invalid_type,expected:de.object,received:l.parsedType}),Re}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ys&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const u=[];for(const l of o){const c=s[l],h=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new ai(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Ys){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of a)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")a.length>0&&(ae(i,{code:re.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of a){const h=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new ai(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const h=await c.key,f=await c.value;l.push({key:h,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>An.mergeObjectSync(r,l)):An.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return me.errToObj,new Pt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:me.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ie.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Pt({...this._def,catchall:t})}pick(t){const n={};for(const r of Qe.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Qe.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}deepPartial(){return fa(this)}partial(t){const n={};for(const r of Qe.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new Pt({...this._def,shape:()=>n})}required(t){const n={};for(const r of Qe.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Hs;)s=s._def.innerType;n[r]=s}return new Pt({...this._def,shape:()=>n})}keyof(){return S2(Qe.objectKeys(this.shape))}}Pt.create=(e,t)=>new Pt({shape:()=>e,unknownKeys:"strip",catchall:Ys.create(),typeName:Ie.ZodObject,...De(t)});Pt.strictCreate=(e,t)=>new Pt({shape:()=>e,unknownKeys:"strict",catchall:Ys.create(),typeName:Ie.ZodObject,...De(t)});Pt.lazycreate=(e,t)=>new Pt({shape:e,unknownKeys:"strip",catchall:Ys.create(),typeName:Ie.ZodObject,...De(t)});class up extends je{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Gi(a.ctx.common.issues));return ae(n,{code:re.invalid_union,unionErrors:o}),Re}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const l={...n,common:{...n.common,issues:[]},parent:null},c=u._parseSync({data:n.data,path:n.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new Gi(u));return ae(n,{code:re.invalid_union,unionErrors:a}),Re}}get options(){return this._def.options}}up.create=(e,t)=>new up({options:e,typeName:Ie.ZodUnion,...De(t)});function iy(e,t){const n=ms(e),r=ms(t);if(e===t)return{valid:!0,data:e};if(n===de.object&&r===de.object){const i=Qe.objectKeys(t),s=Qe.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const u=iy(e[a],t[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===de.array&&r===de.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],u=iy(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===de.date&&r===de.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class lp extends je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(hb(s)||hb(o))return Re;const a=iy(s.value,o.value);return a.valid?((fb(s)||fb(o))&&n.dirty(),{status:n.value,value:a.data}):(ae(r,{code:re.invalid_intersection_types}),Re)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lp.create=(e,t,n)=>new lp({left:e,right:t,typeName:Ie.ZodIntersection,...De(n)});class Uo extends je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.array)return ae(r,{code:re.invalid_type,expected:de.array,received:r.parsedType}),Re;if(r.data.length<this._def.items.length)return ae(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&r.data.length>this._def.items.length&&(ae(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new ai(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>An.mergeArray(n,o)):An.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Uo({...this._def,rest:t})}}Uo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Uo({items:e,typeName:Ie.ZodTuple,rest:null,...De(t)})};class cp extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.object)return ae(r,{code:re.invalid_type,expected:de.object,received:r.parsedType}),Re;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new ai(r,a,r.path,a)),value:o._parse(new ai(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?An.mergeObjectAsync(n,i):An.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof je?new cp({keyType:t,valueType:n,typeName:Ie.ZodRecord,...De(r)}):new cp({keyType:Di.create(),valueType:t,typeName:Ie.ZodRecord,...De(n)})}}class vb extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.map)return ae(r,{code:re.invalid_type,expected:de.map,received:r.parsedType}),Re;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,u],l)=>({key:i._parse(new ai(r,a,r.path,[l,"key"])),value:s._parse(new ai(r,u,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return Re;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(l.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return Re;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(l.value,c.value)}return{status:n.value,value:a}}}}vb.create=(e,t,n)=>new vb({valueType:t,keyType:e,typeName:Ie.ZodMap,...De(n)});class Fc extends je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.set)return ae(r,{code:re.invalid_type,expected:de.set,received:r.parsedType}),Re;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ae(r,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ae(r,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const l=new Set;for(const c of u){if(c.status==="aborted")return Re;c.status==="dirty"&&n.dirty(),l.add(c.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((u,l)=>s._parse(new ai(r,u,r.path,l)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(t,n){return new Fc({...this._def,minSize:{value:t,message:me.toString(n)}})}max(t,n){return new Fc({...this._def,maxSize:{value:t,message:me.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Fc.create=(e,t)=>new Fc({valueType:e,minSize:null,maxSize:null,typeName:Ie.ZodSet,...De(t)});class Tb extends je{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Tb.create=(e,t)=>new Tb({getter:e,typeName:Ie.ZodLazy,...De(t)});class wb extends je{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ae(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:t.data}}get value(){return this._def.value}}wb.create=(e,t)=>new wb({value:e,typeName:Ie.ZodLiteral,...De(t)});function S2(e,t){return new mu({values:e,typeName:Ie.ZodEnum,...De(t)})}class mu extends je{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ae(n,{expected:Qe.joinValues(r),received:n.parsedType,code:re.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ae(n,{received:n.data,code:re.invalid_enum_value,options:r}),Re}return Tr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return mu.create(t,{...this._def,...n})}exclude(t,n=this._def){return mu.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}mu.create=S2;class Sb extends je{_parse(t){const n=Qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==de.string&&r.parsedType!==de.number){const i=Qe.objectValues(n);return ae(r,{expected:Qe.joinValues(i),received:r.parsedType,code:re.invalid_type}),Re}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Qe.objectValues(n);return ae(r,{received:r.data,code:re.invalid_enum_value,options:i}),Re}return Tr(t.data)}get enum(){return this._def.values}}Sb.create=(e,t)=>new Sb({values:e,typeName:Ie.ZodNativeEnum,...De(t)});class dp extends je{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.promise&&n.common.async===!1)return ae(n,{code:re.invalid_type,expected:de.promise,received:n.parsedType}),Re;const r=n.parsedType===de.promise?n.data:Promise.resolve(n.data);return Tr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}dp.create=(e,t)=>new dp({type:e,typeName:Ie.ZodPromise,...De(t)});class gu extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{ae(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Re;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?Re:u.status==="dirty"||n.value==="dirty"?Rl(u.value):u});{if(n.value==="aborted")return Re;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Re:a.status==="dirty"||n.value==="dirty"?Rl(a.value):a}}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Re:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Re:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!fu(o))return Re;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>fu(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Re);Qe.assertNever(i)}}gu.create=(e,t,n)=>new gu({schema:e,typeName:Ie.ZodEffects,effect:t,...De(n)});gu.createWithPreprocess=(e,t,n)=>new gu({schema:t,effect:{type:"preprocess",transform:e},typeName:Ie.ZodEffects,...De(n)});class Hs extends je{_parse(t){return this._getType(t)===de.undefined?Tr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hs.create=(e,t)=>new Hs({innerType:e,typeName:Ie.ZodOptional,...De(t)});class _u extends je{_parse(t){return this._getType(t)===de.null?Tr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_u.create=(e,t)=>new _u({innerType:e,typeName:Ie.ZodNullable,...De(t)});class sy extends je{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===de.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}sy.create=(e,t)=>new sy({innerType:e,typeName:Ie.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...De(t)});class oy extends je{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return op(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}oy.create=(e,t)=>new oy({innerType:e,typeName:Ie.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...De(t)});class bb extends je{_parse(t){if(this._getType(t)!==de.nan){const r=this._getOrReturnCtx(t);return ae(r,{code:re.invalid_type,expected:de.nan,received:r.parsedType}),Re}return{status:"valid",value:t.data}}}bb.create=e=>new bb({typeName:Ie.ZodNaN,...De(e)});class ZH extends je{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class zv extends je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Re:s.status==="dirty"?(n.dirty(),Rl(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Re:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new zv({in:t,out:n,typeName:Ie.ZodPipeline})}}class ay extends je{_parse(t){const n=this._def.innerType._parse(t),r=i=>(fu(i)&&(i.value=Object.freeze(i.value)),i);return op(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ay.create=(e,t)=>new ay({innerType:e,typeName:Ie.ZodReadonly,...De(t)});function Un(e,t={},n){return ap.create()}var Ie;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const Xt=Di.create,xa=pu.create,Qs=ry.create,ui=Mc.create;ap.create;Ys.create;const Vc=ii.create,hp=Pt.create;up.create;lp.create;Uo.create;const JH=cp.create,e7=mu.create;dp.create;Hs.create;_u.create;const di=hp({_ref:Un()}),t7=e=>Un().transform(async t=>{if(!(t instanceof tn))return console.log(t),t;const r=await(await i2(t.withConverter(ur(e)))).data();return{_ref:t,data:r}}),ur=e=>({toFirestore:t=>{const n=Object.fromEntries(Object.entries(t).filter(([r,i])=>i!==void 0).map(([r,i])=>[r,i!==void 0&&i._ref instanceof tn?i._ref:i]));return e.omit({_ref:!0}).partial().strict().parse(n)},fromFirestore:async t=>{const n=Object.fromEntries(Object.entries(t.data()).map(([r,i])=>typeof i.toString=="function"&&i.toString().startsWith("Timestamp")?[r,i.toDate()]:[r,i]));return await e.strict().parseAsync({...n,_ref:t.ref})}}),n7=di.extend({ctfName:Xt(),startAt:ui(),finishAt:ui()}),b2=ur(n7),r7=()=>{const{firestore:e}=Vt(),[t,n]=x.useState(null);return x.useEffect(()=>{const r=sp(Mn(e,"system","info").withConverter(b2),n);return()=>{r()}},[]),t},i7=()=>{const[e,t]=x.useState(new Date);return x.useEffect(()=>{const n=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(n)},[]),e},C2=()=>{const{firestore:e}=Vt(),[t,n]=x.useState([]),[r,i]=x.useState(!1);return x.useEffect(()=>((async()=>{const o=["admin","author"];for(const a of o)try{await i2(Mn(e,"roles",a)),n(u=>[...u,a])}catch{}i(!0)})(),()=>{i(!1),n([])}),[]),{roles:t,rolesLoaded:r}},ro=G4()({component:()=>{const{user:e}=Vt(),{roles:t,rolesLoaded:n}=C2(),r=r7(),i=i7(),s=x.useCallback(({children:l})=>e!==null?l:C.jsx(C.Fragment,{}),[e]),o=x.useCallback(({children:l})=>r!=null&&r.startAt&&r.startAt.getTime()<=i.getTime()?l:C.jsx(C.Fragment,{}),[r,i]),a=x.useCallback(({children:l})=>e===null?l:C.jsx(C.Fragment,{}),[e]),u=x.useCallback(({children:l})=>n===!0&&t.includes("admin")?l:C.jsx(C.Fragment,{}),[e,n,t]);return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"wrapper",children:[C.jsxs("div",{className:"p-2 flex",children:[C.jsx("h1",{className:"logo",children:C.jsxs(Qn,{to:"/",children:["IER",C.jsx("span",{className:"accent",children:"A"}),"E CTF 2025"]})}),C.jsxs("div",{className:"header-navigation flex-1 flex gap-4 justify-end tracking-wide",children:[C.jsx(Qn,{to:"/rules",children:"Rules"})," ",C.jsxs(s,{children:[C.jsxs(o,{children:[C.jsx(Qn,{to:"/challenges",children:"Challenges"})," "]}),C.jsx(Qn,{to:"/mypage",children:"Mypage"})," "]}),C.jsxs(o,{children:[C.jsx(Qn,{to:"/scoreboard",children:"Scoreboard"})," "]}),C.jsxs(u,{children:[C.jsx(Qn,{to:"/admin",children:"Admin"})," "]}),C.jsx(a,{children:C.jsx(Qn,{to:"/auth",children:"Register/Login"})}),C.jsx(s,{children:C.jsx(Qn,{to:"/logout",children:"Logout"})})]})]}),C.jsx(KE,{})]}),!1]})}}),s7=1,o7=1e6;let $g=0;function a7(){return $g=($g+1)%Number.MAX_SAFE_INTEGER,$g.toString()}const Wg=new Map,Cb=e=>{if(Wg.has(e))return;const t=setTimeout(()=>{Wg.delete(e),ql({type:"REMOVE_TOAST",toastId:e})},o7);Wg.set(e,t)},u7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,s7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Cb(n):e.toasts.forEach(r=>{Cb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ef=[];let tf={toasts:[]};function ql(e){tf=u7(tf,e),ef.forEach(t=>{t(tf)})}function l7({...e}){const t=a7(),n=i=>ql({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>ql({type:"DISMISS_TOAST",toastId:t});return ql({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function fm(){const[e,t]=x.useState(tf);return x.useEffect(()=>(ef.push(t),()=>{const n=ef.indexOf(t);n>-1&&ef.splice(n,1)}),[e]),{...e,toast:l7,dismiss:n=>ql({type:"DISMISS_TOAST",toastId:n})}}function Ib(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function I2(...e){return t=>{let n=!1;const r=e.map(i=>{const s=Ib(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Ib(e[i],null)}}}}function ir(...e){return x.useCallback(I2(...e),e)}function Bc(e){const t=d7(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),u=a.find(f7);if(u){const l=u.props.children,c=a.map(h=>h===u?x.Children.count(l)>1?x.Children.only(null):x.isValidElement(l)?l.props.children:null:h);return C.jsx(t,{...o,ref:i,children:x.isValidElement(l)?x.cloneElement(l,void 0,c):null})}return C.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var c7=Bc("Slot");function d7(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=m7(i),a=p7(s,i.props);return i.type!==x.Fragment&&(a.ref=r?I2(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var h7=Symbol("radix.slottable");function f7(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===h7}function p7(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const u=s(...a);return i(...a),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function m7(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function A2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=A2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function R2(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=A2(e))&&(r&&(r+=" "),r+=t);return r}const Ab=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rb=R2,fd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Rb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(l=>{const c=n==null?void 0:n[l],h=s==null?void 0:s[l];if(c===null)return null;const f=Ab(c)||Ab(h);return i[l][f]}),a=n&&Object.entries(n).reduce((l,c)=>{let[h,f]=c;return f===void 0||(l[h]=f),l},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,c)=>{let{class:h,className:f,...p}=c;return Object.entries(p).every(_=>{let[E,b]=_;return Array.isArray(b)?b.includes({...s,...a}[E]):{...s,...a}[E]===b})?[...l,h,f]:l},[]);return Rb(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},$v="-",g7=e=>{const t=y7(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split($v);return a[0]===""&&a.length!==1&&a.shift(),x2(a,t)||_7(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},x2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?x2(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join($v);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},xb=/^\[(.+)\]$/,_7=e=>{if(xb.test(e)){const t=xb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},y7=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return v7(Object.entries(e.classGroups),n).forEach(([s,o])=>{uy(o,r,s,t)}),r},uy=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:kb(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(E7(i)){uy(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{uy(o,kb(t,s),n,r)})})},kb=(e,t)=>{let n=e;return t.split($v).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},E7=e=>e.isThemeGetter,v7=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[n,i]}):e,T7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},k2="!",w7=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=a=>{const u=[];let l=0,c=0,h;for(let b=0;b<a.length;b++){let y=a[b];if(l===0){if(y===i&&(r||a.slice(b,b+s)===t)){u.push(a.slice(c,b)),c=b+s;continue}if(y==="/"){h=b;continue}}y==="["?l++:y==="]"&&l--}const f=u.length===0?a:a.substring(c),p=f.startsWith(k2),_=p?f.substring(1):f,E=h&&h>c?h-c:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:_,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},S7=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},b7=e=>({cache:T7(e.cacheSize),parseClassName:w7(e),...g7(e)}),C7=/\s+/,I7=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(C7);let a="";for(let u=o.length-1;u>=0;u-=1){const l=o[u],{modifiers:c,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(l);let _=!!p,E=r(_?f.substring(0,p):f);if(!E){if(!_){a=l+(a.length>0?" "+a:a);continue}if(E=r(f),!E){a=l+(a.length>0?" "+a:a);continue}_=!1}const b=S7(c).join(":"),y=h?b+k2:b,v=y+E;if(s.includes(v))continue;s.push(v);const w=i(E,_);for(let k=0;k<w.length;++k){const U=w[k];s.push(y+U)}a=l+(a.length>0?" "+a:a)}return a};function A7(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=P2(t))&&(r&&(r+=" "),r+=n);return r}const P2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=P2(e[r]))&&(n&&(n+=" "),n+=t);return n};function R7(e,...t){let n,r,i,s=o;function o(u){const l=t.reduce((c,h)=>h(c),e());return n=b7(l),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const l=r(u);if(l)return l;const c=I7(u,n);return i(u,c),c}return function(){return s(A7.apply(null,arguments))}}const dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},N2=/^\[(?:([a-z-]+):)?(.+)\]$/i,x7=/^\d+\/\d+$/,k7=new Set(["px","full","screen"]),P7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=e=>Wa(e)||k7.has(e)||x7.test(e),as=e=>Pu(e,"length",z7),Wa=e=>!!e&&!Number.isNaN(Number(e)),qg=e=>Pu(e,"number",Wa),ul=e=>!!e&&Number.isInteger(Number(e)),M7=e=>e.endsWith("%")&&Wa(e.slice(0,-1)),Ne=e=>N2.test(e),us=e=>P7.test(e),F7=new Set(["length","size","percentage"]),V7=e=>Pu(e,F7,O2),B7=e=>Pu(e,"position",O2),U7=new Set(["image","url"]),H7=e=>Pu(e,U7,W7),j7=e=>Pu(e,"",$7),ll=()=>!0,Pu=(e,t,n)=>{const r=N2.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},z7=e=>N7.test(e)&&!O7.test(e),O2=()=>!1,$7=e=>D7.test(e),W7=e=>L7.test(e),q7=()=>{const e=dt("colors"),t=dt("spacing"),n=dt("blur"),r=dt("brightness"),i=dt("borderColor"),s=dt("borderRadius"),o=dt("borderSpacing"),a=dt("borderWidth"),u=dt("contrast"),l=dt("grayscale"),c=dt("hueRotate"),h=dt("invert"),f=dt("gap"),p=dt("gradientColorStops"),_=dt("gradientColorStopPositions"),E=dt("inset"),b=dt("margin"),y=dt("opacity"),v=dt("padding"),w=dt("saturate"),k=dt("scale"),U=dt("sepia"),L=dt("skew"),A=dt("space"),I=dt("translate"),R=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ne,t],O=()=>[Ne,t],N=()=>["",wi,as],Q=()=>["auto",Wa,Ne],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Ne],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[Wa,Ne];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[wi,as],blur:["none","",us,Ne],brightness:pe(),borderColor:[e],borderRadius:["none","","full",us,Ne],borderSpacing:O(),borderWidth:N(),contrast:pe(),grayscale:oe(),hueRotate:pe(),invert:oe(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[M7,as],inset:D(),margin:D(),opacity:pe(),padding:O(),saturate:pe(),scale:pe(),sepia:oe(),skew:pe(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[us]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Ne]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ul,Ne]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",ul,Ne]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",ul,Ne]},Ne]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[ul,Ne]},Ne]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,t]}],"min-w":[{"min-w":[Ne,t,"min","max","fit"]}],"max-w":[{"max-w":[Ne,t,"none","full","min","max","fit","prose",{screen:[us]},us]}],h:[{h:[Ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",us,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qg]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Wa,qg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,as]}],"underline-offset":[{"underline-offset":["auto",wi,Ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),B7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[wi,Ne]}],"outline-w":[{outline:[wi,as]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[wi,as]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",us,j7]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",us,Ne]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ul,Ne]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wi,as,qg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},G7=R7(q7);function ze(...e){return G7(R2(e))}const K7=fd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),bn=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?c7:"button";return C.jsx(o,{className:ze(K7({variant:t,size:n,className:e})),ref:s,...i})});bn.displayName="Button";const Y7=kn("/init")({component:Q7});function Q7(){const{functions:e}=Vt(),{toast:t}=fm(),n=async()=>{try{await ip(e,"initCtf")({tenantId:Dc}),t({title:"CTF initialized"})}catch(r){t({title:"Failed to initialize CTF",description:r.message})}};return C.jsx("div",{children:C.jsx(bn,{onClick:n,children:"Init CTF"})})}const X7=kn("/_authed")({beforeLoad:({context:e})=>{const{user:t}=e.firebase;if(t===null)throw PR({to:"/auth"})}}),Z7=kn("/")({component:J7});function J7(){return C.jsx("div",{className:"p-2",children:C.jsx("h3",{children:"Welcome Home!"})})}const ej=kn("/_authed/logout")({beforeLoad:async({context:e})=>{const{auth:t}=e.firebase;throw await M9(t),PR({to:"/auth"})}}),tj=kn("/_authed/admin")({component:()=>{const{roles:e,rolesLoaded:t}=C2();return x.useEffect(()=>{t===!0&&!e.includes("admin")&&(location.href="/")},[t,e]),C.jsx(KE,{})}}),Gl=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Gl.displayName="Card";const Kl=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-6",e),...t}));Kl.displayName="CardHeader";const Yl=x.forwardRef(({className:e,...t},n)=>C.jsx("h3",{ref:n,className:ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yl.displayName="CardTitle";const nj=x.forwardRef(({className:e,...t},n)=>C.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));nj.displayName="CardDescription";const Ql=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:ze("p-6 pt-0",e),...t}));Ql.displayName="CardContent";const rj=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:ze("flex items-center p-6 pt-0",e),...t}));rj.displayName="CardFooter";const ij=di.extend({title:Xt(),public:Qs(),description:Xt(),tags:Vc(Xt()),baseScore:xa().min(0),score:xa().min(0).optional(),authors:Vc(Xt()),flagFormat:Xt(),updatedAt:ui(),canonicalName:Xt().regex(/[a-z0-9-]+/),remote:hp({spawner:hp({ttl:xa().min(0)})}).optional(),order:xa().min(0)}),D2=ur(ij),Wv=di.extend({challenge:Un(),team:Un(),public:Qs(),namespace:Xt().optional(),createdAt:ui(),destroyedAt:ui().optional(),services:JH(Xt(),hp({host:Xt(),port:xa()})),state:e7(["waiting","running","terminated","error"]),error:Xt().optional()}),sj=ur(Wv),oj=di.extend({challenge:Un(),user:Un(),team:Un(),flag:Xt(),correct:Qs(),createdAt:ui()}),aj=ur(oj),L2=di.extend({name:Xt(),team:Un(),eligible:Qs(),updatedAt:ui(),locked:Qs().optional()}),uj=di.extend({country:Xt().optional(),student:Qs(),injapan:Qs()}),ly=ur(L2),Pb=ur(uj),lj=di.extend({name:Xt(),members:Vc(t7(L2))}),cj=ur(lj),dj=di.extend({team:Un(),score:xa(),solves:Vc(Un()),updatedAt:ui()}),M2=ur(dj),hj=di.extend({challenge:Un(),team:Un(),user:Un(),createdAt:ui()}),pm=ur(hj),fj=di.extend({name:Xt(),country:Xt().optional(),members:Vc(Un()),locked:Qs(),updatedAt:ui()}),cy=ur(fj),pd=e=>({info:Mn(e,"system","info"),challenges:Ht(e,"challenges"),solves:Ht(e,"solves"),scoreCaches:Ht(e,"scoreCaches"),users:Ht(e,"users"),teams:Ht(e,"teams"),roles:Ht(e,"roles"),instances:Ht(e,"instances"),config:Mn(e,"system","config"),submissionLogs:Ht(e,"system","logs","submission"),loginLogs:Ht(e,"system","logs","login"),spawnLogs:Ht(e,"system","logs","spawn"),k8s:Mn(e,"system","k8s"),usedLBs:Ht(e,"system","k8s","usedLBs")}),F2=e=>{const t=pd(e);return{info:t.info.withConverter(b2),challenges:t.challenges.withConverter(D2),solves:t.solves.withConverter(pm),scoreCaches:t.scoreCaches.withConverter(M2),users:t.users.withConverter(ly),teams:t.teams.withConverter(cy),roles:t.roles.withConverter(cj),instances:t.instances.withConverter(sj),submissionLogs:t.submissionLogs.withConverter(aj)}},V2=(...e)=>{const{firestore:t}=Vt(),[n,r]=x.useState([]),i=s=>n.find(o=>o._ref.id===s);return x.useEffect(()=>{const s=ci(li(F2(t).challenges,...e),r);return()=>{s(),r([])}},[]),{challenges:n,getChallengeById:i}},Nb=(...e)=>{const{firestore:t}=Vt(),[n,r]=x.useState(0);return x.useEffect(()=>(Uv(li(pd(t).challenges,...e)).then(i=>r(i.data().count)),()=>{r(0)}),[]),{challengesCount:n}},B2=()=>{const{firestore:e,user:t}=Vt(),[n,r]=x.useState(null),[i,s]=x.useState(null);return x.useEffect(()=>{if(t===null)return;const u=sp(Mn(e,"users",t.uid).withConverter(ly),r),l=sp(Mn(e,"users",t.uid,"private","info").withConverter(Pb),s);return()=>{u(),l()}},[t,t==null?void 0:t.uid,e]),t===null?{user:null,updateUser:async()=>{},updateUserPrivate:async()=>{}}:{user:n,userPrivate:i,updateUser:async u=>{delete u.locked,delete u.team,await Z_(Mn(e,"users",t.uid).withConverter(ly),u,{merge:!0})},updateUserPrivate:async u=>{await Z_(Mn(e,"users",t.uid,"private","info").withConverter(Pb),u,{merge:!0})}}},pj=(...e)=>{const{firestore:t}=Vt(),[n,r]=x.useState([]),i=s=>n.find(o=>o._ref.id===s);return x.useEffect(()=>{const s=ci(li(pd(t).users,...e),r);return()=>{s()}},[]),{users:n,getUserById:i}},mj=(...e)=>{const{firestore:t}=Vt(),[n,r]=x.useState(0);return x.useEffect(()=>(Uv(li(pd(t).users,...e)).then(i=>r(i.data().count)),()=>{r(0)}),[]),{usersCount:n}},gj=()=>{const{user:e}=B2(),[t,n]=x.useState(null);return x.useEffect(()=>{if(e===null||e.team===void 0)return;const i=sp(e.team.withConverter(cy),n);return()=>{i()}},[e]),{team:t,updateTeam:async i=>{(e==null?void 0:e.team)!==void 0&&(delete i.locked,delete i.members,await Z_(e.team.withConverter(cy),i,{merge:!0}))}}},qv=(...e)=>{const[t,n]=x.useState([]),{firestore:r}=Vt(),i=s=>t.find(o=>o._ref.id===s);return x.useEffect(()=>{const s=ci(li(pd(r).teams,...e),n);return()=>{s(),n([])}},[]),{teams:t,getTeamById:i}},_j=()=>{const{firestore:e}=Vt(),{team:t}=gj(),[n,r]=x.useState([]);return x.useEffect(()=>{if(t===null)return;const i=Ht(e,"solves").withConverter(pm),s=li(i,hd("team","==",t._ref)),o=ci(s,r);return()=>{o(),r([])}},[t]),{solves:n}},yj=()=>{const{firestore:e}=Vt(),[t,n]=x.useState([]);return x.useEffect(()=>{const r=Ht(e,"solves").withConverter(pm),i=ci(r,n);return()=>{i(),n([])}},[]),{solves:t}},Ej=()=>{const{firestore:e}=Vt(),[t,n]=x.useState([]),{teams:r}=qv(),{solves:i}=yj();return x.useEffect(()=>{const s=Ht(e,"scoreCache").withConverter(M2),o=ci(s,n);return()=>{o(),n([])}},[e]),{scoreCaches:t,allTeams:r,allSolves:i}},vj=kn("/_authed/admin/")({component:()=>C.jsx(Tj,{})}),Tj=()=>{const{teams:e,getTeamById:t}=qv(),{scoreCaches:n}=Ej(),{usersCount:r}=mj(),[i,s]=x.useState([]),{challengesCount:o}=Nb(),{challengesCount:a}=Nb(hd("public","==",!0));return x.useEffect(()=>{for(const u of n){const l=t(u.team.id),c=l==null?void 0:l.members.map(h=>h.id);c!==void 0&&s(h=>[...h,...c])}return()=>{s([])}},[n]),C.jsxs("div",{children:[C.jsx("h1",{children:"Dashboard"}),C.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[C.jsxs(Gl,{children:[C.jsx(Kl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:C.jsx(Yl,{className:"text-sm font-medium",children:"Teams"})}),C.jsxs(Ql,{children:[C.jsxs("div",{className:"text-2xl font-bold",children:[e.length," registered"]}),C.jsxs("div",{className:"text-2xl font-bold",children:[n.length," scored"]})]})]}),C.jsxs(Gl,{children:[C.jsx(Kl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:C.jsx(Yl,{className:"text-sm font-medium",children:"Users"})}),C.jsxs(Ql,{children:[C.jsxs("div",{className:"text-2xl font-bold",children:[r," registered"]}),C.jsxs("div",{className:"text-2xl font-bold",children:[i.length," scored"]})]})]}),C.jsxs(Gl,{children:[C.jsx(Kl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:C.jsx(Yl,{className:"text-sm font-medium",children:"Challenges"})}),C.jsxs(Ql,{children:[C.jsxs("div",{className:"text-2xl font-bold",children:[o," registered"]}),C.jsxs("div",{className:"text-2xl font-bold",children:[a," released"]})]})]})]}),C.jsx("div",{children:C.jsx(Qn,{to:"/admin/challenges",children:"/challenges"})}),C.jsx("div",{children:C.jsx(Qn,{to:"/admin/submissions",children:"/submissions"})}),C.jsx("div",{children:C.jsx(Qn,{to:"/admin/challenges_view",children:"/challenges_view"})})]})},Gv=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{className:"relative w-full overflow-auto",children:C.jsx("table",{ref:n,className:ze("w-full caption-bottom text-sm",e),...t})}));Gv.displayName="Table";const Kv=x.forwardRef(({className:e,...t},n)=>C.jsx("thead",{ref:n,className:ze("[&_tr]:border-b",e),...t}));Kv.displayName="TableHeader";const Yv=x.forwardRef(({className:e,...t},n)=>C.jsx("tbody",{ref:n,className:ze("[&_tr:last-child]:border-0",e),...t}));Yv.displayName="TableBody";const wj=x.forwardRef(({className:e,...t},n)=>C.jsx("tfoot",{ref:n,className:ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));wj.displayName="TableFooter";const qa=x.forwardRef(({className:e,...t},n)=>C.jsx("tr",{ref:n,className:ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));qa.displayName="TableRow";const Gr=x.forwardRef(({className:e,...t},n)=>C.jsx("th",{ref:n,className:ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Gr.displayName="TableHead";const Ir=x.forwardRef(({className:e,...t},n)=>C.jsx("td",{ref:n,className:ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ir.displayName="TableCell";const Sj=x.forwardRef(({className:e,...t},n)=>C.jsx("caption",{ref:n,className:ze("mt-4 text-sm text-muted-foreground",e),...t}));Sj.displayName="TableCaption";/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Is(e,t){return typeof e=="function"?e(t):e}function sr(e,t){return n=>{t.setState(r=>({...r,[e]:Is(n,r[e])}))}}function mm(e){return e instanceof Function}function bj(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Cj(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function Se(e,t,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(s);if(!(a.length!==r.length||a.some((c,h)=>r[h]!==c)))return i;r=a;let l;if(n.key&&n.debug&&(l=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-l)*100)/100,f=h/16,p=(_,E)=>{for(_=String(_);_.length<E;)_=" "+_;return _};console.info(`%c ${p(h,5)} /${p(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function be(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function Ij(e,t,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Se(()=>[e,n,t,s],(o,a,u,l)=>({table:o,column:a,row:u,cell:l,getValue:l.getValue,renderValue:l.renderValue}),be(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function Aj(e,t,n,r){var i,s;const a={...e._getDefaultColumnDef(),...t},u=a.accessorKey;let l=(i=(s=a.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:u&&(u.includes(".")?c=f=>{let p=f;for(const E of u.split(".")){var _;p=(_=p)==null?void 0:_[E]}return p}:c=f=>f[a.accessorKey]),!l)throw new Error;let h={id:`${String(l)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Se(()=>[!0],()=>{var f;return[h,...(f=h.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},be(e.options,"debugColumns")),getLeafColumns:Se(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=h.columns)!=null&&p.length){let _=h.columns.flatMap(E=>E.getLeafColumns());return f(_)}return[h]},be(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(h,e);return h}const cn="debugHeaders";function Ob(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),o.push(u)};return a(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const Rj={createTable:e=>{e.getHeaderGroups=Se(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?s:[],u=(o=i==null?void 0:i.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?o:[],l=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(i!=null&&i.includes(h.id)));return mh(t,[...a,...l,...u],e)},be(e.options,cn)),e.getCenterHeaderGroups=Se(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),mh(t,n,e,"center")),be(e.options,cn)),e.getLeftHeaderGroups=Se(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return mh(t,s,e,"left")},be(e.options,cn)),e.getRightHeaderGroups=Se(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return mh(t,s,e,"right")},be(e.options,cn)),e.getFooterGroups=Se(()=>[e.getHeaderGroups()],t=>[...t].reverse(),be(e.options,cn)),e.getLeftFooterGroups=Se(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),be(e.options,cn)),e.getCenterFooterGroups=Se(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),be(e.options,cn)),e.getRightFooterGroups=Se(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),be(e.options,cn)),e.getFlatHeaders=Se(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),be(e.options,cn)),e.getLeftFlatHeaders=Se(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),be(e.options,cn)),e.getCenterFlatHeaders=Se(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),be(e.options,cn)),e.getRightFlatHeaders=Se(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),be(e.options,cn)),e.getCenterLeafHeaders=Se(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),be(e.options,cn)),e.getLeftLeafHeaders=Se(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),be(e.options,cn)),e.getRightLeafHeaders=Se(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),be(e.options,cn)),e.getLeafHeaders=Se(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,o,a,u,l;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(u=(l=r[0])==null?void 0:l.headers)!=null?u:[]].map(c=>c.getLeafHeaders()).flat()},be(e.options,cn))}};function mh(e,t,n,r){var i,s;let o=0;const a=function(f,p){p===void 0&&(p=1),o=Math.max(o,p),f.filter(_=>_.getIsVisible()).forEach(_=>{var E;(E=_.columns)!=null&&E.length&&a(_.columns,p+1)},0)};a(e);let u=[];const l=(f,p)=>{const _={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},E=[];f.forEach(b=>{const y=[...E].reverse()[0],v=b.column.depth===_.depth;let w,k=!1;if(v&&b.column.parent?w=b.column.parent:(w=b.column,k=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(b);else{const U=Ob(n,w,{id:[r,p,w.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${E.filter(L=>L.column===w).length}`:void 0,depth:p,index:E.length});U.subHeaders.push(b),E.push(U)}_.headers.push(b),b.headerGroup=_}),u.push(_),p>0&&l(E,p-1)},c=t.map((f,p)=>Ob(n,f,{depth:o,index:p}));l(c,o-1),u.reverse();const h=f=>f.filter(_=>_.column.getIsVisible()).map(_=>{let E=0,b=0,y=[0];_.subHeaders&&_.subHeaders.length?(y=[],h(_.subHeaders).forEach(w=>{let{colSpan:k,rowSpan:U}=w;E+=k,y.push(U)})):E=1;const v=Math.min(...y);return b=b+v,_.colSpan=E,_.rowSpan=b,{colSpan:E,rowSpan:b}});return h((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const xj=(e,t,n,r,i,s,o)=>{let a={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const l=e.getColumn(u);if(l!=null&&l.accessorFn)return a._valuesCache[u]=l.accessorFn(a.original,r),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const l=e.getColumn(u);if(l!=null&&l.accessorFn)return l.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=l.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var l;return(l=a.getValue(u))!=null?l:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Cj(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],l=a;for(;;){const c=l.getParentRow();if(!c)break;u.push(c),l=c}return u.reverse()},getAllCells:Se(()=>[e.getAllLeafColumns()],u=>u.map(l=>Ij(e,a,l,l.id)),be(e.options,"debugRows")),_getAllCellsByColumnId:Se(()=>[a.getAllCells()],u=>u.reduce((l,c)=>(l[c.column.id]=c,l),{}),be(e.options,"debugRows"))};for(let u=0;u<e._features.length;u++){const l=e._features[u];l==null||l.createRow==null||l.createRow(a,e)}return a},kj={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},U2=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};U2.autoRemove=e=>Dr(e);const H2=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};H2.autoRemove=e=>Dr(e);const j2=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};j2.autoRemove=e=>Dr(e);const z2=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};z2.autoRemove=e=>Dr(e);const $2=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});$2.autoRemove=e=>Dr(e)||!(e!=null&&e.length);const W2=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});W2.autoRemove=e=>Dr(e)||!(e!=null&&e.length);const q2=(e,t,n)=>e.getValue(t)===n;q2.autoRemove=e=>Dr(e);const G2=(e,t,n)=>e.getValue(t)==n;G2.autoRemove=e=>Dr(e);const Qv=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};Qv.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};Qv.autoRemove=e=>Dr(e)||Dr(e[0])&&Dr(e[1]);const bi={includesString:U2,includesStringSensitive:H2,equalsString:j2,arrIncludes:z2,arrIncludesAll:$2,arrIncludesSome:W2,equals:q2,weakEquals:G2,inNumberRange:Qv};function Dr(e){return e==null||e===""}const Pj={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:sr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?bi.includesString:typeof r=="number"?bi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?bi.equals:Array.isArray(r)?bi.arrIncludes:bi.weakEquals},e.getFilterFn=()=>{var n,r;return mm(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:bi[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(c=>c.id===e.id),o=Is(n,s?s.value:void 0);if(Db(i,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const u={id:e.id,value:o};if(s){var l;return(l=r==null?void 0:r.map(c=>c.id===e.id?u:c))!=null?l:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=Is(t,i))==null?void 0:s.filter(o=>{const a=n.find(u=>u.id===o.id);if(a){const u=a.getFilterFn();if(Db(u,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Db(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Nj=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),Oj=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Dj=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Lj=(e,t,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Mj=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Fj=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!bj(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},Vj=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Bj=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Uj=(e,t)=>t.length,Gg={sum:Nj,min:Oj,max:Dj,extent:Lj,mean:Mj,median:Fj,unique:Vj,uniqueCount:Bj,count:Uj},Hj={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:sr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Gg.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Gg.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return mm(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Gg[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function jj(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const zj={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:sr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Se(n=>[Xl(t,n)],n=>n.findIndex(r=>r.id===e.id),be(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Xl(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=Xl(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Se(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const o=[...t],a=[...i];for(;a.length&&o.length;){const u=o.shift(),l=a.findIndex(c=>c.id===u);l>-1&&s.push(a.splice(l,1)[0])}s=[...s,...a]}return jj(s,n,r)},be(e.options,"debugTable"))}},Kg=()=>({left:[],right:[]}),$j={getInitialState:e=>({columnPinning:Kg(),...e}),getDefaultOptions:e=>({onColumnPinningChange:sr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,o;if(n==="right"){var a,u;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((u=i==null?void 0:i.right)!=null?u:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var l,c;return{left:[...((l=i==null?void 0:i.left)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(h=>!(r!=null&&r.includes(h))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Se(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},be(t.options,"debugRows")),e.getLeftVisibleCells=Se(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),be(t.options,"debugRows")),e.getRightVisibleCells=Se(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),be(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Kg():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Kg())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Se(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),be(e.options,"debugColumns")),e.getRightLeafColumns=Se(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),be(e.options,"debugColumns")),e.getCenterLeafColumns=Se(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},be(e.options,"debugColumns"))}};function Wj(e){return e||(typeof document<"u"?document:null)}const gh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Yg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),qj={getDefaultColumnDef:()=>gh,getInitialState:e=>({columnSizing:{},columnSizingInfo:Yg(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:sr("columnSizing",e),onColumnSizingInfoChange:sr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:gh.minSize,(r=s??e.columnDef.size)!=null?r:gh.size),(i=e.columnDef.maxSize)!=null?i:gh.maxSize)},e.getStart=Se(n=>[n,Xl(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),be(t.options,"debugColumns")),e.getAfter=Se(n=>[n,Xl(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),be(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),Qg(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],u=Qg(s)?Math.round(s.touches[0].clientX):s.clientX,l={},c=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var k,U;const L=t.options.columnResizeDirection==="rtl"?-1:1,A=(v-((k=w==null?void 0:w.startOffset)!=null?k:0))*L,I=Math.max(A/((U=w==null?void 0:w.startSize)!=null?U:0),-.999999);return w.columnSizingStart.forEach(R=>{let[S,D]=R;l[S]=Math.round(Math.max(D+D*I,0)*100)/100}),{...w,deltaOffset:A,deltaPercentage:I}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...l})))},h=y=>c("move",y),f=y=>{c("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=Wj(n),_={moveHandler:y=>h(y.clientX),upHandler:y=>{p==null||p.removeEventListener("mousemove",_.moveHandler),p==null||p.removeEventListener("mouseup",_.upHandler),f(y.clientX)}},E={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),h(y.touches[0].clientX),!1),upHandler:y=>{var v;p==null||p.removeEventListener("touchmove",E.moveHandler),p==null||p.removeEventListener("touchend",E.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((v=y.touches[0])==null?void 0:v.clientX)}},b=Gj()?{passive:!1}:!1;Qg(s)?(p==null||p.addEventListener("touchmove",E.moveHandler,b),p==null||p.addEventListener("touchend",E.upHandler,b)):(p==null||p.addEventListener("mousemove",_.moveHandler,b),p==null||p.addEventListener("mouseup",_.upHandler,b)),t.setColumnSizingInfo(y=>({...y,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Yg():(n=e.initialState.columnSizingInfo)!=null?n:Yg())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let _h=null;function Gj(){if(typeof _h=="boolean")return _h;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return _h=e,_h}function Qg(e){return e.type==="touchstart"}const Kj={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:sr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Se(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),be(t.options,"debugRows")),e.getVisibleCells=Se(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],be(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Se(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),be(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Xl(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Yj={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Qj={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:sr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>bi.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return mm(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:bi[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Xj={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:sr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:a,...u}=o;return u}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},dy=0,hy=10,Xg=()=>({pageIndex:dy,pageSize:hy}),Zj={getInitialState:e=>({...e,pagination:{...Xg(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:sr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>Is(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?Xg():(i=e.initialState.pagination)!=null?i:Xg())},e.setPageIndex=r=>{e.setPagination(i=>{let s=Is(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?dy:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:dy)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?hy:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:hy)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,Is(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let o=Is(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Se(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},be(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Zg=()=>({top:[],bottom:[]}),Jj={getInitialState:e=>({rowPinning:Zg(),...e}),getDefaultOptions:e=>({onRowPinningChange:sr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(u=>{let{id:l}=u;return l}):[],o=i?e.getParentRows().map(u=>{let{id:l}=u;return l}):[],a=new Set([...o,e.id,...s]);t.setRowPinning(u=>{var l,c;if(n==="bottom"){var h,f;return{top:((h=u==null?void 0:u.top)!=null?h:[]).filter(E=>!(a!=null&&a.has(E))),bottom:[...((f=u==null?void 0:u.bottom)!=null?f:[]).filter(E=>!(a!=null&&a.has(E))),...Array.from(a)]}}if(n==="top"){var p,_;return{top:[...((p=u==null?void 0:u.top)!=null?p:[]).filter(E=>!(a!=null&&a.has(E))),...Array.from(a)],bottom:((_=u==null?void 0:u.bottom)!=null?_:[]).filter(E=>!(a!=null&&a.has(E)))}}return{top:((l=u==null?void 0:u.top)!=null?l:[]).filter(E=>!(a!=null&&a.has(E))),bottom:((c=u==null?void 0:u.bottom)!=null?c:[]).filter(E=>!(a!=null&&a.has(E)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Zg():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Zg())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=Se(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),be(e.options,"debugRows")),e.getBottomRows=Se(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),be(e.options,"debugRows")),e.getCenterRows=Se(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},be(e.options,"debugRows"))}},ez={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:sr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{fy(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Se(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Jg(e,n):{rows:[],flatRows:[],rowsById:{}},be(e.options,"debugTable")),e.getFilteredSelectedRowModel=Se(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Jg(e,n):{rows:[],flatRows:[],rowsById:{}},be(e.options,"debugTable")),e.getGroupedSelectedRowModel=Se(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Jg(e,n):{rows:[],flatRows:[],rowsById:{}},be(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const a={...s};return fy(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Xv(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return py(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return py(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},fy=(e,t,n,r,i)=>{var s;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>fy(e,a.id,n,r,i))};function Jg(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(u=>{var l;const c=Xv(u,n);if(c&&(r.push(u),i[u.id]=u),(l=u.subRows)!=null&&l.length&&(u={...u,subRows:s(u.subRows)}),c)return u}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function Xv(e,t){var n;return(n=t[e.id])!=null?n:!1}function py(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(Xv(o,t)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=py(o,t);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const my=/([0-9]+)/gm,tz=(e,t,n)=>K2(Xs(e.getValue(n)).toLowerCase(),Xs(t.getValue(n)).toLowerCase()),nz=(e,t,n)=>K2(Xs(e.getValue(n)),Xs(t.getValue(n))),rz=(e,t,n)=>Zv(Xs(e.getValue(n)).toLowerCase(),Xs(t.getValue(n)).toLowerCase()),iz=(e,t,n)=>Zv(Xs(e.getValue(n)),Xs(t.getValue(n))),sz=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},oz=(e,t,n)=>Zv(e.getValue(n),t.getValue(n));function Zv(e,t){return e===t?0:e>t?1:-1}function Xs(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function K2(e,t){const n=e.split(my).filter(Boolean),r=t.split(my).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),u=[o,a].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const cl={alphanumeric:tz,alphanumericCaseSensitive:nz,text:rz,textCaseSensitive:iz,datetime:sz,basic:oz},az={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:sr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return cl.datetime;if(typeof s=="string"&&(r=!0,s.split(my).length>1))return cl.alphanumeric}return r?cl.text:cl.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return mm(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:cl[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(p=>p.id===e.id),u=o==null?void 0:o.findIndex(p=>p.id===e.id);let l=[],c,h=s?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&u!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(s||i||(c="remove")),c==="add"){var f;l=[...o,{id:e.id,desc:h}],l.splice(0,l.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?l=o.map(p=>p.id===e.id?{...p,desc:h}:p):c==="remove"?l=o.filter(p=>p.id!==e.id):l=[{id:e.id,desc:h}];return l})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},uz=[Rj,Kj,zj,$j,kj,Pj,Yj,Qj,az,Hj,Xj,Zj,Jj,ez,qj];function lz(e){var t,n;const r=[...uz,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(s,f):{...s,...f};let u={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var p;u=(p=f.getInitialState==null?void 0:f.getInitialState(u))!=null?p:u});const l=[];let c=!1;const h={_features:r,options:{...s,...e},initialState:u,_queue:f=>{l.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;l.length;)l.shift()();c=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const p=Is(f,i.options);i.options=o(p)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,p,_)=>{var E;return(E=i.options.getRowId==null?void 0:i.options.getRowId(f,p,_))!=null?E:`${_?[_.id,p].join("."):p}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,p)=>{let _=(p?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!_&&(_=i.getCoreRowModel().rowsById[f],!_))throw new Error;return _},_getDefaultColumnDef:Se(()=>[i.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:_=>{const E=_.header.column.columnDef;return E.accessorKey?E.accessorKey:E.accessorFn?E.id:null},cell:_=>{var E,b;return(E=(b=_.renderValue())==null||b.toString==null?void 0:b.toString())!=null?E:null},...i._features.reduce((_,E)=>Object.assign(_,E.getDefaultColumnDef==null?void 0:E.getDefaultColumnDef()),{}),...f}},be(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Se(()=>[i._getColumnDefs()],f=>{const p=function(_,E,b){return b===void 0&&(b=0),_.map(y=>{const v=Aj(i,y,b,E),w=y;return v.columns=w.columns?p(w.columns,v,b+1):[],v})};return p(f)},be(e,"debugColumns")),getAllFlatColumns:Se(()=>[i.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),be(e,"debugColumns")),_getAllFlatColumnsById:Se(()=>[i.getAllFlatColumns()],f=>f.reduce((p,_)=>(p[_.id]=_,p),{}),be(e,"debugColumns")),getAllLeafColumns:Se(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,p)=>{let _=f.flatMap(E=>E.getLeafColumns());return p(_)},be(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,h);for(let f=0;f<i._features.length;f++){const p=i._features[f];p==null||p.createTable==null||p.createTable(i)}return i}function cz(){return e=>Se(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let l=0;l<i.length;l++){const c=xj(e,e._getRowId(i[l],l,o),i[l],l,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var u;c.originalSubRows=e.options.getSubRows(i[l],l),(u=c.originalSubRows)!=null&&u.length&&(c.subRows=r(c.originalSubRows,s+1,c))}}return a};return n.rows=r(t),n},be(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function dz(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function hz(e){return t=>Se(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:u}=r;const l=i*s,c=l+i;o=o.slice(l,c);let h;t.options.paginateExpandedRows?h={rows:o,flatRows:a,rowsById:u}:h=dz({rows:o,flatRows:a,rowsById:u}),h.flatRows=[];const f=p=>{h.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return h.rows.forEach(f),h},be(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Lb(e,t){return e?fz(e)?x.createElement(e,t):e:null}function fz(e){return pz(e)||typeof e=="function"||mz(e)}function pz(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function mz(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function gz(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=x.useState(()=>({current:lz(t)})),[r,i]=x.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const _z=kn("/_authed/admin/submissions")({component:()=>{var c;const{firestore:e}=Vt(),[t,n]=x.useState([]),[r,i]=x.useState([]),{getTeamById:s}=qv(),{getUserById:o}=pj(),{getChallengeById:a}=V2();x.useEffect(()=>{const h=li(F2(e).submissionLogs,...r,ZU("createdAt","desc")),f=ci(h,n);return()=>{f()}},[r]);const u=[{accessorKey:"createdAt",header:()=>"Date",cell:({row:h})=>h.original.createdAt.toString()},{accessorKey:"team",header:()=>"Team",cell:({row:h})=>{var f,p;return((p=s(h.original.team.id??((f=o(h.original.user.id))==null?void 0:f.team.id)))==null?void 0:p.name)??C.jsx("b",{children:"N/A"})}},{accessorKey:"user",header:()=>"User",cell:({row:h})=>{var f;return(f=o(h.original.user.id))==null?void 0:f.name}},{accessorKey:"challenge",header:()=>"Challenge",cell:({row:h})=>{var f;return(f=a(h.original.challenge.id))==null?void 0:f.title}},{accessorKey:"flag",header:()=>"Flag",cell:({row:h})=>h.original.flag},{accessorKey:"correct",header:()=>"Correct",cell:({row:h})=>h.original.correct?"correct":"incorrect"}],l=gz({data:t,columns:u,getCoreRowModel:cz(),getPaginationRowModel:hz()});return C.jsxs("div",{children:[C.jsx("h1",{children:"Submissions"}),C.jsxs(Gv,{children:[C.jsx(Kv,{children:l.getHeaderGroups().map(h=>C.jsx(qa,{children:h.headers.map(f=>C.jsx(Gr,{children:f.isPlaceholder?null:Lb(f.column.columnDef.header,f.getContext())},f.id))},h.id))}),C.jsx(Yv,{children:(c=l.getRowModel().rows)!=null&&c.length?l.getRowModel().rows.map(h=>C.jsx(qa,{"data-state":h.getIsSelected()&&"selected",children:h.getVisibleCells().map(f=>C.jsx(Ir,{children:Lb(f.column.columnDef.cell,f.getContext())},f.id))},h.id)):C.jsx(qa,{children:C.jsx(Ir,{colSpan:u.length,className:"h-24 text-center",children:"No results."})})})]}),C.jsx("div",{className:"flex items-center justify-end space-x-2 py-4",children:C.jsxs("div",{className:"space-x-2",children:[C.jsx(bn,{variant:"outline",size:"sm",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Previous"}),C.jsx(bn,{variant:"outline",size:"sm",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Next"})]})})]})}});function Lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function yz(e,t){const n=x.createContext(t),r=s=>{const{children:o,...a}=s,u=x.useMemo(()=>a,Object.values(a));return C.jsx(n.Provider,{value:u,children:o})};r.displayName=e+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function gm(e,t=[]){let n=[];function r(s,o){const a=x.createContext(o),u=n.length;n=[...n,o];const l=h=>{var y;const{scope:f,children:p,..._}=h,E=((y=f==null?void 0:f[e])==null?void 0:y[u])||a,b=x.useMemo(()=>_,Object.values(_));return C.jsx(E.Provider,{value:b,children:p})};l.displayName=s+"Provider";function c(h,f){var E;const p=((E=f==null?void 0:f[e])==null?void 0:E[u])||a,_=x.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[l,c]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,Ez(i,...t)]}function Ez(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const h=u(s)[`__scope${l}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Ho=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},vz=bI[" useInsertionEffect ".trim().toString()]||Ho;function Jv({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=Tz({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:i;{const c=x.useRef(e!==void 0);x.useEffect(()=>{const h=c.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const l=x.useCallback(c=>{var h;if(a){const f=wz(c)?c(e):c;f!==e&&((h=o.current)==null||h.call(o,f))}else s(c)},[a,e,s,o]);return[u,l]}function Tz({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),s=x.useRef(t);return vz(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function wz(e){return typeof e=="function"}function Sz(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function bz(e){const[t,n]=x.useState(void 0);return Ho(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,l=Array.isArray(u)?u[0]:u;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Cz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=Cz.reduce((e,t)=>{const n=Bc(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Y2(e,t){e&&Yc.flushSync(()=>e.dispatchEvent(t))}var _m="Switch",[Iz,qne]=gm(_m),[Az,Rz]=Iz(_m),Q2=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:l,form:c,...h}=e,[f,p]=x.useState(null),_=ir(t,w=>p(w)),E=x.useRef(!1),b=f?c||!!f.closest("form"):!0,[y,v]=Jv({prop:i,defaultProp:s??!1,onChange:l,caller:_m});return C.jsxs(Az,{scope:n,checked:y,disabled:a,children:[C.jsx(Bt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":eP(y),"data-disabled":a?"":void 0,disabled:a,value:u,...h,ref:_,onClick:Lt(e.onClick,w=>{v(k=>!k),b&&(E.current=w.isPropagationStopped(),E.current||w.stopPropagation())})}),b&&C.jsx(J2,{control:f,bubbles:!E.current,name:r,value:u,checked:y,required:o,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});Q2.displayName=_m;var X2="SwitchThumb",Z2=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=Rz(X2,n);return C.jsx(Bt.span,{"data-state":eP(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});Z2.displayName=X2;var xz="SwitchBubbleInput",J2=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=x.useRef(null),a=ir(o,s),u=Sz(n),l=bz(t);return x.useEffect(()=>{const c=o.current;if(!c)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&p){const _=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(_)}},[u,n,r]),C.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J2.displayName=xz;function eP(e){return e?"checked":"unchecked"}var tP=Q2,kz=Z2;const fp=x.forwardRef(({className:e,...t},n)=>C.jsx(tP,{className:ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:C.jsx(kz,{className:ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fp.displayName=tP.displayName;var Pz="Label",nP=x.forwardRef((e,t)=>C.jsx(Bt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nP.displayName=Pz;var rP=nP;const Nz=fd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gy=x.forwardRef(({className:e,...t},n)=>C.jsx(rP,{ref:n,className:ze(Nz(),e),...t}));gy.displayName=rP.displayName;const Oz=fd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function iP({className:e,variant:t,...n}){return C.jsx("div",{className:ze(Oz({variant:t}),e),...n})}const sP=x.forwardRef(({className:e,type:t,...n},r)=>C.jsx("input",{type:t,className:ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));sP.displayName="Input";var Dz=bI[" useId ".trim().toString()]||(()=>{}),Lz=0;function e0(e){const[t,n]=x.useState(Dz());return Ho(()=>{n(r=>r??String(Lz++))},[e]),e||(t?`radix-${t}`:"")}function Ki(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Mz(e,t=globalThis==null?void 0:globalThis.document){const n=Ki(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Fz="DismissableLayer",_y="dismissableLayer.update",Vz="dismissableLayer.pointerDownOutside",Bz="dismissableLayer.focusOutside",Mb,oP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eT=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=e,l=x.useContext(oP),[c,h]=x.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),_=ir(t,A=>h(A)),E=Array.from(l.layers),[b]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(b),v=c?E.indexOf(c):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,k=v>=y,U=Hz(A=>{const I=A.target,R=[...l.branches].some(S=>S.contains(I));!k||R||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},f),L=jz(A=>{const I=A.target;[...l.branches].some(S=>S.contains(I))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},f);return Mz(A=>{v===l.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},f),x.useEffect(()=>{if(c)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Mb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),Fb(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Mb)}},[c,f,n,l]),x.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),Fb())},[c,l]),x.useEffect(()=>{const A=()=>p({});return document.addEventListener(_y,A),()=>document.removeEventListener(_y,A)},[]),C.jsx(Bt.div,{...u,ref:_,style:{pointerEvents:w?k?"auto":"none":void 0,...e.style},onFocusCapture:Lt(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Lt(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Lt(e.onPointerDownCapture,U.onPointerDownCapture)})});eT.displayName=Fz;var Uz="DismissableLayerBranch",aP=x.forwardRef((e,t)=>{const n=x.useContext(oP),r=x.useRef(null),i=ir(t,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),C.jsx(Bt.div,{...e,ref:i})});aP.displayName=Uz;function Hz(e,t=globalThis==null?void 0:globalThis.document){const n=Ki(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){uP(Vz,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function jz(e,t=globalThis==null?void 0:globalThis.document){const n=Ki(e),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&uP(Bz,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fb(){const e=new CustomEvent(_y);document.dispatchEvent(e)}function uP(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Y2(i,s):i.dispatchEvent(s)}var zz=eT,$z=aP,t0="focusScope.autoFocusOnMount",n0="focusScope.autoFocusOnUnmount",Vb={bubbles:!1,cancelable:!0},Wz="FocusScope",lP=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,u]=x.useState(null),l=Ki(i),c=Ki(s),h=x.useRef(null),f=ir(t,E=>u(E)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let E=function(w){if(p.paused||!a)return;const k=w.target;a.contains(k)?h.current=k:cs(h.current,{select:!0})},b=function(w){if(p.paused||!a)return;const k=w.relatedTarget;k!==null&&(a.contains(k)||cs(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const U of w)U.removedNodes.length>0&&cs(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",b);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,p.paused]),x.useEffect(()=>{if(a){Ub.add(p);const E=document.activeElement;if(!a.contains(E)){const y=new CustomEvent(t0,Vb);a.addEventListener(t0,l),a.dispatchEvent(y),y.defaultPrevented||(qz(Xz(cP(a)),{select:!0}),document.activeElement===E&&cs(a))}return()=>{a.removeEventListener(t0,l),setTimeout(()=>{const y=new CustomEvent(n0,Vb);a.addEventListener(n0,c),a.dispatchEvent(y),y.defaultPrevented||cs(E??document.body,{select:!0}),a.removeEventListener(n0,c),Ub.remove(p)},0)}}},[a,l,c,p]);const _=x.useCallback(E=>{if(!n&&!r||p.paused)return;const b=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,y=document.activeElement;if(b&&y){const v=E.currentTarget,[w,k]=Gz(v);w&&k?!E.shiftKey&&y===k?(E.preventDefault(),n&&cs(w,{select:!0})):E.shiftKey&&y===w&&(E.preventDefault(),n&&cs(k,{select:!0})):y===v&&E.preventDefault()}},[n,r,p.paused]);return C.jsx(Bt.div,{tabIndex:-1,...o,ref:f,onKeyDown:_})});lP.displayName=Wz;function qz(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(cs(r,{select:t}),document.activeElement!==n)return}function Gz(e){const t=cP(e),n=Bb(t,e),r=Bb(t.reverse(),e);return[n,r]}function cP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bb(e,t){for(const n of e)if(!Kz(n,{upTo:t}))return n}function Kz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yz(e){return e instanceof HTMLInputElement&&"select"in e}function cs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Yz(e)&&t&&e.select()}}var Ub=Qz();function Qz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Hb(e,t),e.unshift(t)},remove(t){var n;e=Hb(e,t),(n=e[0])==null||n.resume()}}}function Hb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Xz(e){return e.filter(t=>t.tagName!=="A")}var Zz="Portal",tT=x.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,s]=x.useState(!1);Ho(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?g3.createPortal(C.jsx(Bt.div,{...r,ref:t}),o):null});tT.displayName=Zz;function Jz(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var md=e=>{const{present:t,children:n}=e,r=e$(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=ir(r.ref,t$(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};md.displayName="Presence";function e$(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[a,u]=Jz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const l=yh(r.current);s.current=a==="mounted"?l:"none"},[a]),Ho(()=>{const l=r.current,c=i.current;if(c!==e){const f=s.current,p=yh(l);e?u("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Ho(()=>{if(t){let l;const c=t.ownerDocument.defaultView??window,h=p=>{const E=yh(r.current).includes(p.animationName);if(p.target===t&&E&&(u("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",l=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(s.current=yh(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{c.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function yh(e){return(e==null?void 0:e.animationName)||"none"}function t$(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r0=0;function n$(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jb()),document.body.insertAdjacentElement("beforeend",e[1]??jb()),r0++,()=>{r0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),r0--}},[])}function jb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nf="right-scroll-bar-position",rf="width-before-scroll-bar",r$="with-scroll-bars-hidden",i$="--removed-body-scroll-bar-size";function i0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s$(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var o$=typeof window<"u"?x.useLayoutEffect:x.useEffect,zb=new WeakMap;function a$(e,t){var n=s$(null,function(r){return e.forEach(function(i){return i0(i,r)})});return o$(function(){var r=zb.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||i0(a,null)}),s.forEach(function(a){i.has(a)||i0(a,o)})}zb.set(n,e)},[e]),n}function u$(e){return e}function l$(e,t){t===void 0&&(t=u$);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var c=o;o=[],c.forEach(s)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){o.push(c),l()},filter:function(c){return o=o.filter(c),n}}}};return i}function c$(e){e===void 0&&(e={});var t=l$(null);return t.options=Xr({async:!0,ssr:!1},e),t}var dP=function(e){var t=e.sideCar,n=ed(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Xr({},n))};dP.isSideCarExport=!0;function d$(e,t){return e.useMedium(t),dP}var hP=c$(),s0=function(){},ym=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:s0,onWheelCapture:s0,onTouchMoveCapture:s0}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,_=e.noIsolation,E=e.inert,b=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,k=ed(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=f,L=a$([n,t]),A=Xr(Xr({},k),i);return x.createElement(x.Fragment,null,c&&x.createElement(U,{sideCar:hP,removeScrollBar:l,shards:h,noRelative:p,noIsolation:_,inert:E,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?x.cloneElement(x.Children.only(a),Xr(Xr({},A),{ref:L})):x.createElement(v,Xr({},A,{className:u,ref:L}),a))});ym.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ym.classNames={fullWidth:rf,zeroRight:nf};var h$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=h$();return t&&e.setAttribute("nonce",t),e}function p$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function m$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var g$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=f$())&&(p$(t,n),m$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_$=function(){var e=g$();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fP=function(){var e=_$(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},y$={left:0,top:0,right:0,gap:0},o0=function(e){return parseInt(e||"",10)||0},E$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[o0(n),o0(r),o0(i)]},v$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return y$;var t=E$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},T$=fP(),Ga="data-scroll-locked",w$=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(r$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ga,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ga,`] {
    `).concat(i$,": ").concat(a,`px;
  }
`)},$b=function(){var e=parseInt(document.body.getAttribute(Ga)||"0",10);return isFinite(e)?e:0},S$=function(){x.useEffect(function(){return document.body.setAttribute(Ga,($b()+1).toString()),function(){var e=$b()-1;e<=0?document.body.removeAttribute(Ga):document.body.setAttribute(Ga,e.toString())}},[])},b$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;S$();var s=x.useMemo(function(){return v$(i)},[i]);return x.createElement(T$,{styles:w$(s,!t,i,n?"":"!important")})},yy=!1;if(typeof window<"u")try{var Eh=Object.defineProperty({},"passive",{get:function(){return yy=!0,!0}});window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{yy=!1}var oa=yy?{passive:!1}:!1,C$=function(e){return e.tagName==="TEXTAREA"},pP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!C$(e)&&n[t]==="visible")},I$=function(e){return pP(e,"overflowY")},A$=function(e){return pP(e,"overflowX")},Wb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=mP(e,r);if(i){var s=gP(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},x$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mP=function(e,t){return e==="v"?I$(t):A$(t)},gP=function(e,t){return e==="v"?R$(t):x$(t)},k$=function(e,t){return e==="h"&&t==="rtl"?-1:1},P$=function(e,t,n,r,i){var s=k$(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,u=t.contains(a),l=!1,c=o>0,h=0,f=0;do{if(!a)break;var p=gP(e,a),_=p[0],E=p[1],b=p[2],y=E-b-s*_;(_||y)&&mP(e,a)&&(h+=y,f+=_);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(c&&Math.abs(h)<1||!c&&Math.abs(f)<1)&&(l=!0),l},vh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qb=function(e){return[e.deltaX,e.deltaY]},Gb=function(e){return e&&"current"in e?e.current:e},N$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},O$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},D$=0,aa=[];function L$(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(D$++)[0],s=x.useState(fP)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var E=LF([e.lockRef.current],(e.shards||[]).map(Gb),!0).filter(Boolean);return E.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(E,b){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var y=vh(E),v=n.current,w="deltaX"in E?E.deltaX:v[0]-y[0],k="deltaY"in E?E.deltaY:v[1]-y[1],U,L=E.target,A=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in E&&A==="h"&&L.type==="range")return!1;var I=Wb(A,L);if(!I)return!0;if(I?U=A:(U=A==="v"?"h":"v",I=Wb(A,L)),!I)return!1;if(!r.current&&"changedTouches"in E&&(w||k)&&(r.current=U),!U)return!0;var R=r.current||U;return P$(R,b,E,R==="h"?w:k)},[]),u=x.useCallback(function(E){var b=E;if(!(!aa.length||aa[aa.length-1]!==s)){var y="deltaY"in b?qb(b):vh(b),v=t.current.filter(function(U){return U.name===b.type&&(U.target===b.target||b.target===U.shadowParent)&&N$(U.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(Gb).filter(Boolean).filter(function(U){return U.contains(b.target)}),k=w.length>0?a(b,w[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),l=x.useCallback(function(E,b,y,v){var w={name:E,delta:b,target:y,should:v,shadowParent:M$(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(k){return k!==w})},1)},[]),c=x.useCallback(function(E){n.current=vh(E),r.current=void 0},[]),h=x.useCallback(function(E){l(E.type,qb(E),E.target,a(E,e.lockRef.current))},[]),f=x.useCallback(function(E){l(E.type,vh(E),E.target,a(E,e.lockRef.current))},[]);x.useEffect(function(){return aa.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,oa),document.addEventListener("touchmove",u,oa),document.addEventListener("touchstart",c,oa),function(){aa=aa.filter(function(E){return E!==s}),document.removeEventListener("wheel",u,oa),document.removeEventListener("touchmove",u,oa),document.removeEventListener("touchstart",c,oa)}},[]);var p=e.removeScrollBar,_=e.inert;return x.createElement(x.Fragment,null,_?x.createElement(s,{styles:O$(i)}):null,p?x.createElement(b$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function M$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F$=d$(hP,L$);var _P=x.forwardRef(function(e,t){return x.createElement(ym,Xr({},e,{ref:t,sideCar:F$}))});_P.classNames=ym.classNames;var V$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ua=new WeakMap,Th=new WeakMap,wh={},a0=0,yP=function(e){return e&&(e.host||yP(e.parentNode))},B$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},U$=function(e,t,n,r){var i=B$(t,Array.isArray(e)?e:[e]);wh[n]||(wh[n]=new WeakMap);var s=wh[n],o=[],a=new Set,u=new Set(i),l=function(h){!h||a.has(h)||(a.add(h),l(h.parentNode))};i.forEach(l);var c=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))c(f);else try{var p=f.getAttribute(r),_=p!==null&&p!=="false",E=(ua.get(f)||0)+1,b=(s.get(f)||0)+1;ua.set(f,E),s.set(f,b),o.push(f),E===1&&_&&Th.set(f,!0),b===1&&f.setAttribute(n,"true"),_||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return c(t),a.clear(),a0++,function(){o.forEach(function(h){var f=ua.get(h)-1,p=s.get(h)-1;ua.set(h,f),s.set(h,p),f||(Th.has(h)||h.removeAttribute(r),Th.delete(h)),p||h.removeAttribute(n)}),a0--,a0||(ua=new WeakMap,ua=new WeakMap,Th=new WeakMap,wh={})}},H$=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=V$(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),U$(r,i,n,"aria-hidden")):function(){return null}},Em="Dialog",[EP,Gne]=gm(Em),[j$,Hr]=EP(Em),vP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=x.useRef(null),u=x.useRef(null),[l,c]=Jv({prop:r,defaultProp:i??!1,onChange:s,caller:Em});return C.jsx(j$,{scope:t,triggerRef:a,contentRef:u,contentId:e0(),titleId:e0(),descriptionId:e0(),open:l,onOpenChange:c,onOpenToggle:x.useCallback(()=>c(h=>!h),[c]),modal:o,children:n})};vP.displayName=Em;var TP="DialogTrigger",wP=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Hr(TP,n),s=ir(t,i.triggerRef);return C.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iT(i.open),...r,ref:s,onClick:Lt(e.onClick,i.onOpenToggle)})});wP.displayName=TP;var nT="DialogPortal",[z$,SP]=EP(nT,{forceMount:void 0}),bP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Hr(nT,t);return C.jsx(z$,{scope:t,forceMount:n,children:x.Children.map(r,o=>C.jsx(md,{present:n||s.open,children:C.jsx(tT,{asChild:!0,container:i,children:o})}))})};bP.displayName=nT;var pp="DialogOverlay",CP=x.forwardRef((e,t)=>{const n=SP(pp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Hr(pp,e.__scopeDialog);return s.modal?C.jsx(md,{present:r||s.open,children:C.jsx(W$,{...i,ref:t})}):null});CP.displayName=pp;var $$=Bc("DialogOverlay.RemoveScroll"),W$=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Hr(pp,n);return C.jsx(_P,{as:$$,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(Bt.div,{"data-state":iT(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jo="DialogContent",IP=x.forwardRef((e,t)=>{const n=SP(jo,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Hr(jo,e.__scopeDialog);return C.jsx(md,{present:r||s.open,children:s.modal?C.jsx(q$,{...i,ref:t}):C.jsx(G$,{...i,ref:t})})});IP.displayName=jo;var q$=x.forwardRef((e,t)=>{const n=Hr(jo,e.__scopeDialog),r=x.useRef(null),i=ir(t,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return H$(s)},[]),C.jsx(AP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Lt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Lt(e.onFocusOutside,s=>s.preventDefault())})}),G$=x.forwardRef((e,t)=>{const n=Hr(jo,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return C.jsx(AP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,l;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),AP=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,a=Hr(jo,n),u=x.useRef(null),l=ir(t,u);return n$(),C.jsxs(C.Fragment,{children:[C.jsx(lP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:C.jsx(eT,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":iT(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(K$,{titleId:a.titleId}),C.jsx(Q$,{contentRef:u,descriptionId:a.descriptionId})]})]})}),rT="DialogTitle",RP=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Hr(rT,n);return C.jsx(Bt.h2,{id:i.titleId,...r,ref:t})});RP.displayName=rT;var xP="DialogDescription",kP=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Hr(xP,n);return C.jsx(Bt.p,{id:i.descriptionId,...r,ref:t})});kP.displayName=xP;var PP="DialogClose",NP=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Hr(PP,n);return C.jsx(Bt.button,{type:"button",...r,ref:t,onClick:Lt(e.onClick,()=>i.onOpenChange(!1))})});NP.displayName=PP;function iT(e){return e?"open":"closed"}var OP="DialogTitleWarning",[Kne,DP]=yz(OP,{contentName:jo,titleName:rT,docsSlug:"dialog"}),K$=({titleId:e})=>{const t=DP(OP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Y$="DialogDescriptionWarning",Q$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DP(Y$).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},X$=vP,Z$=wP,J$=bP,LP=CP,MP=IP,FP=RP,VP=kP,eW=NP;/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BP=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>x.createElement("svg",{ref:u,...nW,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:BP("lucide",i),...a},[...o.map(([l,c])=>x.createElement(l,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=(e,t)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(rW,{ref:s,iconNode:t,className:BP(`lucide-${tW(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=gd("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=gd("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=gd("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=gd("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=gd("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uW=X$,lW=Z$,cW=J$,HP=x.forwardRef(({className:e,...t},n)=>C.jsx(LP,{ref:n,className:ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));HP.displayName=LP.displayName;const jP=x.forwardRef(({className:e,children:t,...n},r)=>C.jsxs(cW,{children:[C.jsx(HP,{}),C.jsxs(MP,{ref:r,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,C.jsxs(eW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[C.jsx(UP,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jP.displayName=MP.displayName;const zP=({className:e,...t})=>C.jsx("div",{className:ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zP.displayName="DialogHeader";const $P=({className:e,...t})=>C.jsx("div",{className:ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$P.displayName="DialogFooter";const WP=x.forwardRef(({className:e,...t},n)=>C.jsx(FP,{ref:n,className:ze("text-lg font-semibold leading-none tracking-tight",e),...t}));WP.displayName=FP.displayName;const qP=x.forwardRef(({className:e,...t},n)=>C.jsx(VP,{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));qP.displayName=VP.displayName;const dW=fd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ey=x.forwardRef(({className:e,variant:t,...n},r)=>C.jsx("div",{ref:r,role:"alert",className:ze(dW({variant:t}),e),...n}));Ey.displayName="Alert";const GP=x.forwardRef(({className:e,...t},n)=>C.jsx("h5",{ref:n,className:ze("mb-1 font-medium leading-none tracking-tight",e),...t}));GP.displayName="AlertTitle";const KP=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:ze("text-sm [&_p]:leading-relaxed",e),...t}));KP.displayName="AlertDescription";class YP{constructor(t,n){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var i,s,o;const a=this.state;this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(a)(r):r(a),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(i=>{this._flushing===r&&i()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=t,this.options=n}}function vm(e,t){return typeof e=="function"?e(t):e}function QP(e,t){return sT(t).reduce((r,i)=>{if(r===null)return null;if(typeof r<"u")return r[i]},e)}function u0(e,t,n){const r=sT(t);function i(s){if(!r.length)return vm(n,s);const o=r.shift();if(typeof o=="string")return typeof s=="object"?(s===null&&(s={}),{...s,[o]:i(s[o])}):{[o]:i()};if(Array.isArray(s)&&o!==void 0){const a=s.slice(0,o);return[...a.length?a:new Array(o),i(s[o]),...s.slice(o+1)]}return[...new Array(o),i()]}return i(e)}function hW(e,t){const n=sT(t);function r(i){if(!i)return;if(n.length===1){const o=n[0];if(Array.isArray(i)&&typeof o=="number")return i.filter((l,c)=>c!==o);const{[o]:a,...u}=i;return u}const s=n.shift();if(typeof s=="string"&&typeof i=="object")return{...i,[s]:r(i[s])};if(typeof s=="number"&&Array.isArray(i)){if(s>=i.length)return i;const o=i.slice(0,s);return[...o.length?o:new Array(s),r(i[s]),...i.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const fW=/^(\d*)$/gm,pW=/\.(\d*)\./gm,mW=/^(\d*)\./gm,gW=/\.(\d*$)/gm,_W=/\.{2,}/gm,vy="__int__",Sh=`${vy}$1`;function sT(e){if(typeof e!="string")throw new Error("Path must be a string.");return e.replaceAll("[",".").replaceAll("]","").replace(fW,Sh).replace(pW,`.${Sh}.`).replace(mW,`${Sh}.`).replace(gW,`.${Sh}`).replace(_W,".").split(".").map(t=>t.indexOf(vy)===0?parseInt(t.substring(vy.length),10):t)}function yW(e){return!(Array.isArray(e)&&e.length===0)}function Ty(e,t){const{asyncDebounceMs:n}=t,{onChangeAsync:r,onBlurAsync:i,onSubmitAsync:s,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:a}=t.validators||{},u=n??0,l={cause:"change",validate:r,debounceMs:a??u},c={cause:"blur",validate:i,debounceMs:o??u},h={cause:"submit",validate:s,debounceMs:0},f=p=>({...p,debounceMs:0});switch(e){case"submit":return[f(l),f(c),h];case"blur":return[c];case"change":return[l];case"server":default:return[]}}function wy(e,t){const{onChange:n,onBlur:r,onSubmit:i}=t.validators||{},s={cause:"change",validate:n},o={cause:"blur",validate:r},a={cause:"submit",validate:i},u={cause:"server",validate:()=>{}};switch(e){case"submit":return[s,o,a,u];case"server":return[u];case"blur":return[o,u];case"change":default:return[s,u]}}function l0(e){return{values:e.values??{},errors:e.errors??[],errorMap:e.errorMap??{},fieldMeta:e.fieldMeta??{},canSubmit:e.canSubmit??!0,isFieldsValid:e.isFieldsValid??!1,isFieldsValidating:e.isFieldsValidating??!1,isFormValid:e.isFormValid??!1,isFormValidating:e.isFormValidating??!1,isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isTouched:e.isTouched??!1,isPristine:e.isPristine??!0,isDirty:e.isDirty??!1,isValid:e.isValid??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class EW{constructor(t){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const{onMount:r}=this.options.validators||{};if(!r)return;const i=this.runValidator({validate:r,value:{value:this.state.values,formApi:this},type:"validate"});i&&this.store.setState(s=>({...s,errorMap:{...s.errorMap,onMount:i}}))},this.update=r=>{if(!r)return;const i=this.options;this.options=r,this.store.batch(()=>{const s=r.defaultValues&&r.defaultValues!==i.defaultValues&&!this.state.isTouched,o=r.defaultState!==i.defaultState&&!this.state.isTouched;this.store.setState(()=>l0(Object.assign({},this.state,o?r.defaultState:{},s?{values:r.defaultValues}:{})))})},this.reset=()=>{const{fieldMeta:r}=this.state,i=this.resetFieldMeta(r);this.store.setState(()=>{var s;return l0({...this.options.defaultState,values:this.options.defaultValues??((s=this.options.defaultState)==null?void 0:s.values),fieldMeta:i})})},this.validateAllFields=async r=>{const i=[];return this.store.batch(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;i.push(Promise.resolve().then(()=>a.validate(r))),o.instance.state.meta.isTouched||o.instance.setMeta(u=>({...u,isTouched:!0}))})}),(await Promise.all(i)).flat()},this.validateArrayFieldsStartingFrom=async(r,i,s)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null,u=[`${r}[${i}]`];for(let f=i+1;f<=(a??0);f++)u.push(`${r}[${f}]`);const l=Object.keys(this.fieldInfo).filter(f=>u.some(p=>f.startsWith(p))),c=[];return this.store.batch(()=>{l.forEach(f=>{c.push(Promise.resolve().then(()=>this.validateField(f,s)))})}),(await Promise.all(c)).flat()},this.validateField=(r,i)=>{var s;const o=(s=this.fieldInfo[r])==null?void 0:s.instance;return o?(o.state.meta.isTouched||o.setMeta(a=>({...a,isTouched:!0})),o.validate(i)):[]},this.validateSync=r=>{const i=wy(r,this.options);let s=!1;const o={};this.store.batch(()=>{for(const u of i){if(!u.validate)continue;const l=this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this},type:"validate"}),{formError:c,fieldErrors:h}=Sy(l),f=bh(u.cause);if(h)for(const[p,_]of Object.entries(h)){const b={...o[p]||{},[f]:_};o[p]=b;const y=this.getFieldMeta(p);y&&y.errorMap[f]!==_&&this.setFieldMeta(p,v=>({...v,errorMap:{...v.errorMap,[f]:_}}))}this.state.errorMap[f]!==c&&this.store.setState(p=>({...p,errorMap:{...p.errorMap,[f]:c}})),(c||h)&&(s=!0)}});const a=bh("submit");return this.state.errorMap[a]&&r!=="submit"&&!s&&this.store.setState(u=>({...u,errorMap:{...u.errorMap,[a]:void 0}})),{hasErrored:s,fieldsErrorMap:o}},this.validateAsync=async r=>{const i=Ty(r,this.options);this.state.isFormValidating||this.store.setState(l=>({...l,isFormValidating:!0}));const s=[];let o;for(const l of i){if(!l.validate)continue;const c=bh(l.cause),h=this.state.validationMetaMap[c];h==null||h.lastAbortController.abort();const f=new AbortController;this.state.validationMetaMap[c]={lastAbortController:f},s.push(new Promise(async p=>{let _;try{_=await new Promise((v,w)=>{setTimeout(async()=>{if(f.signal.aborted)return v(void 0);try{v(await this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,signal:f.signal},type:"validateAsync"}))}catch(k){w(k)}},l.debounceMs)})}catch(v){_=v}const{formError:E,fieldErrors:b}=Sy(_);b&&(o=o?{...o,...b}:b);const y=bh(l.cause);if(o)for(const[v,w]of Object.entries(o)){const k=this.getFieldMeta(v);k&&k.errorMap[y]!==w&&this.setFieldMeta(v,U=>({...U,errorMap:{...U.errorMap,[y]:w}}))}this.store.setState(v=>({...v,errorMap:{...v.errorMap,[y]:E}})),p(o?{fieldErrors:o,errorMapKey:y}:void 0)}))}let a=[];const u={};if(s.length){a=await Promise.all(s);for(const l of a)if(l!=null&&l.fieldErrors){const{errorMapKey:c}=l;for(const[h,f]of Object.entries(l.fieldErrors)){const _={...u[h]||{},[c]:f};u[h]=_}}}return this.store.setState(l=>({...l,isFormValidating:!1})),u},this.validate=r=>{const{hasErrored:i,fieldsErrorMap:s}=this.validateSync(r);return i&&!this.options.asyncAlways?s:this.validateAsync(r)},this.handleSubmit=async()=>{var r,i,s,o,a,u;if(this.store.setState(c=>({...c,isSubmitted:!1,submissionAttempts:c.submissionAttempts+1})),!this.state.canSubmit)return;this.store.setState(c=>({...c,isSubmitting:!0}));const l=()=>{this.store.setState(c=>({...c,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){l(),(i=(r=this.options).onSubmitInvalid)==null||i.call(r,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){l(),(o=(s=this.options).onSubmitInvalid)==null||o.call(s,{value:this.state.values,formApi:this});return}try{await((u=(a=this.options).onSubmit)==null?void 0:u.call(a,{value:this.state.values,formApi:this})),this.store.batch(()=>{this.store.setState(c=>({...c,isSubmitted:!0})),l()})}catch(c){throw l(),c}},this.getFieldValue=r=>QP(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var i;return(i=this.fieldInfo)[r]||(i[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,i)=>{this.store.setState(s=>({...s,fieldMeta:{...s.fieldMeta,[r]:vm(i,s.fieldMeta[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((i,s)=>{const o=s;return i[o]={isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}},i},{}),this.setFieldValue=(r,i,s)=>{const o=(s==null?void 0:s.dontUpdateMeta)??!1;this.store.batch(()=>{o||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0})),this.store.setState(a=>({...a,values:u0(a.values,r,i)}))})},this.deleteField=r=>{this.store.setState(i=>{const s={...i};return s.values=hW(s.values,r),delete s.fieldMeta[r],s}),delete this.fieldInfo[r]},this.pushFieldValue=(r,i,s)=>{this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],i],s),this.validateField(r,"change")},this.insertFieldValue=async(r,i,s,o)=>{this.setFieldValue(r,a=>[...a.slice(0,i),s,...a.slice(i)],o),await this.validateField(r,"change")},this.replaceFieldValue=async(r,i,s,o)=>{this.setFieldValue(r,a=>a.map((u,l)=>l===i?s:u),o),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.removeFieldValue=async(r,i,s)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,u=>u.filter((l,c)=>c!==i),s),a!==null){const u=`${r}[${a}]`;Object.keys(this.fieldInfo).filter(c=>c.startsWith(u)).forEach(c=>this.deleteField(c))}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.swapFieldValues=(r,i,s,o)=>{this.setFieldValue(r,a=>{const u=a[i],l=a[s];return u0(u0(a,`${i}`,l),`${s}`,u)},o),this.validateField(r,"change"),this.validateField(`${r}[${i}]`,"change"),this.validateField(`${r}[${s}]`,"change")},this.moveFieldValues=(r,i,s,o)=>{this.setFieldValue(r,a=>(a.splice(s,0,a.splice(i,1)[0]),a),o),this.validateField(r,"change"),this.validateField(`${r}[${i}]`,"change"),this.validateField(`${r}[${s}]`,"change")},this.store=new YP(l0({...t==null?void 0:t.defaultState,values:(t==null?void 0:t.defaultValues)??((n=t==null?void 0:t.defaultState)==null?void 0:n.values),isFormValid:!0}),{onUpdate:()=>{var r,i;let{state:s}=this.store;const o=Object.values(s.fieldMeta),a=o.some(v=>v==null?void 0:v.isValidating),u=!o.some(v=>(v==null?void 0:v.errorMap)&&yW(Object.values(v.errorMap).filter(Boolean))),l=o.some(v=>v==null?void 0:v.isTouched),c=o.some(v=>v==null?void 0:v.isDirty),h=!c,f=a||s.isFormValidating;s.errors=Object.values(s.errorMap).filter(v=>v!==void 0);const p=s.errors.length===0,_=u&&p,E=s.submissionAttempts===0&&!l||!f&&!s.isSubmitting&&_;s={...s,isFieldsValidating:a,isFieldsValid:u,isFormValid:p,isValid:_,canSubmit:E,isTouched:l,isPristine:h,isDirty:c},this.state=s,this.store.state=this.state;const b=((r=this.options.transform)==null?void 0:r.deps)??[];(b.length!==this.prevTransformArray.length||b.some((v,w)=>v!==this.prevTransformArray[w]))&&((i=this.options.transform)==null||i.fn(this),this.store.state=this.state,this.prevTransformArray=b)}}),this.state=this.store.state,this.update(t||{})}runValidator(t){const n=this.options.validatorAdapter;return n&&typeof t.validate!="function"?n()[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.store.setState(n=>({...n,errorMap:{...n.errorMap,...t}}))}}function Sy(e){if(e){if(typeof e=="object"){const t=Sy(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return typeof e!="string"?{formError:"Invalid Form Values"}:{formError:e}}return{formError:void 0}}function bh(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class vW{constructor(t){this.options={},this.mount=()=>{const n=this.getInfo();n.instance=this;const r=this.form.store.subscribe(()=>{this.store.batch(()=>{const s=this.getValue(),o=this.getMeta();s!==this.state.value&&this.store.setState(a=>({...a,value:s})),o!==this.state.meta&&this.store.setState(a=>({...a,meta:o}))})});this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const s=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this},type:"validate"});s&&this.setMeta(o=>({...o,errorMap:{...o==null?void 0:o.errorMap,onMount:s}}))}return()=>{r()}},this.update=n=>{if(this.state.value===void 0){const r=QP(n.form.options.defaultValues,n.name);n.defaultValue!==void 0?this.setValue(n.defaultValue,{dontUpdateMeta:!0}):r!==void 0&&this.setValue(r,{dontUpdateMeta:!0})}this._getMeta()===void 0&&this.setMeta(this.state.meta),this.options=n},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,r),this.validate("change")},this._getMeta=()=>this.form.getFieldMeta(this.name),this.getMeta=()=>this._getMeta()??{isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...this.options.defaultMeta},this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>this.form.pushFieldValue(this.name,n,r),this.insertValue=(n,r,i)=>this.form.insertFieldValue(this.name,n,r,i),this.replaceValue=(n,r,i)=>this.form.replaceFieldValue(this.name,n,r,i),this.removeValue=(n,r)=>this.form.removeFieldValue(this.name,n,r),this.swapValues=(n,r,i)=>this.form.swapFieldValues(this.name,n,r,i),this.moveValue=(n,r,i)=>this.form.moveFieldValues(this.name,n,r,i),this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),i=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=s.instance.options.validators||{};n==="change"&&(o!=null&&o.includes(this.name))&&i.push(s.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&i.push(s.instance)}return i},this.validateSync=(n,r)=>{const i=wy(n,this.options),o=this.getLinkedFields(n).reduce((l,c)=>{const h=wy(n,c.options);return h.forEach(f=>{f.field=c}),l.concat(h)},[]);let a=!1;this.form.store.batch(()=>{const l=(c,h)=>{const f=dl(h.cause),p=h.validate?Kb(c.runValidator({validate:h.validate,value:{value:c.getValue(),fieldApi:c},type:"validate"})):r[f];c.state.meta.errorMap[f]!==p&&c.setMeta(_=>({..._,errorMap:{..._.errorMap,[dl(h.cause)]:p||r[f]}})),(p||r[f])&&(a=!0)};for(const c of i)l(this,c);for(const c of o)c.validate&&l(c.field,c)});const u=dl("submit");return this.state.meta.errorMap[u]&&n!=="submit"&&!a&&this.setMeta(l=>({...l,errorMap:{...l.errorMap,[u]:void 0}})),{hasErrored:a}},this.validateAsync=async(n,r)=>{const i=Ty(n,this.options),s=await r,o=this.getLinkedFields(n),a=o.reduce((f,p)=>{const _=Ty(n,p.options);return _.forEach(E=>{E.field=p}),f.concat(_)},[]);this.state.meta.isValidating||this.setMeta(f=>({...f,isValidating:!0}));for(const f of o)f.setMeta(p=>({...p,isValidating:!0}));const u=[],l=[],c=(f,p,_)=>{const E=dl(p.cause),b=f.getInfo().validationMetaMap[E];b==null||b.lastAbortController.abort();const y=new AbortController;this.getInfo().validationMetaMap[E]={lastAbortController:y},_.push(new Promise(async v=>{var w;let k;try{k=await new Promise((I,R)=>{setTimeout(async()=>{if(y.signal.aborted)return I(void 0);try{I(await this.runValidator({validate:p.validate,value:{value:f.getValue(),fieldApi:f,signal:y.signal},type:"validateAsync"}))}catch(S){R(S)}},p.debounceMs)})}catch(I){k=I}if(y.signal.aborted)return v(void 0);const U=Kb(k),L=(w=s[this.name])==null?void 0:w[E],A=U||L;f.setMeta(I=>({...I,errorMap:{...I==null?void 0:I.errorMap,[E]:A}})),v(A)}))};for(const f of i)f.validate&&c(this,f,u);for(const f of a)f.validate&&c(f.field,f,l);let h=[];(u.length||l.length)&&(h=await Promise.all(u),await Promise.all(l)),this.setMeta(f=>({...f,isValidating:!1}));for(const f of o)f.setMeta(p=>({...p,isValidating:!1}));return h.filter(Boolean)},this.validate=n=>{var r;if(!this.state.meta.isTouched)return[];let i={},s=Promise.resolve({});try{const a=this.form.validate(n);if(a instanceof Promise)s=a;else{const u=a[this.name];u&&(i=u)}}catch{}const{hasErrored:o}=this.validateSync(n,i);return o&&!this.options.asyncAlways?((r=this.getInfo().validationMetaMap[dl(n)])==null||r.lastAbortController.abort(),this.state.meta.errors):this.validateAsync(n,s)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(r=>({...r,isTouched:!0})),this.validate("change")),this.validate("blur")},this.form=t.form,this.name=t.name,t.defaultValue!==void 0&&this.form.setFieldValue(this.name,t.defaultValue,{dontUpdateMeta:!0}),this.store=new YP({value:this.getValue(),meta:this._getMeta()??{isValidating:!1,isTouched:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...t.defaultMeta}},{onUpdate:()=>{const n=this.store.state;n.meta.errors=Object.values(n.meta.errorMap).filter(r=>r!==void 0),n.meta.isPristine=!n.meta.isDirty,this.prevState=n,this.state=n}}),this.state=this.store.state,this.prevState=this.state,this.options=t}runValidator(t){const n=[this.form.options.validatorAdapter,this.options.validatorAdapter];for(const r of n)if(r&&typeof t.validate!="function")return r()[t.type](t.value,t.validate);return t.validate(t.value)}setErrorMap(t){this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))}}function Kb(e){if(e)return typeof e!="string"?"Invalid Form Values":e}function dl(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}function by(e,t=n=>n){return VR.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,TW)}function TW(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const mp=typeof window<"u"?x.useLayoutEffect:x.useEffect;function XP(e){const[t]=x.useState(()=>{const r=new vW({...e,form:e.form,name:e.name});return r.Field=ZP,r});return mp(t.mount,[t]),mp(()=>{t.update(e)}),by(t.store,e.mode==="array"?n=>[n.meta,Object.keys(n.value??[]).length]:void 0),t}const ZP=({children:e,...t})=>{const n=XP(t);return C.jsx(C.Fragment,{children:vm(e,n)})};function wW(e){const[t]=x.useState(()=>{const n=new EW(e),r=n;return r.Field=function(s){return C.jsx(ZP,{...s,form:n})},r.useField=i=>XP({...i,form:n}),r.useStore=i=>by(n.store,i),r.Subscribe=i=>vm(i.children,by(n.store,i.selector)),r});return mp(t.mount,[]),t.useStore(n=>n.isSubmitting),mp(()=>{t.update(e)}),t}function Yb(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function JP(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const SW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CW={};function Qb(e,t){return(CW.jsx?bW:SW).test(e)}const IW=/[ \t\n\f\r]/g;function AW(e){return typeof e=="object"?e.type==="text"?Xb(e.value):!1:Xb(e)}function Xb(e){return e.replace(IW,"")===""}let _d=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};_d.prototype.normal={};_d.prototype.property={};_d.prototype.space=void 0;function eN(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new _d(n,r,t)}function Uc(e){return e.toLowerCase()}let Hn=class{constructor(t,n){this.attribute=n,this.property=t}};Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let RW=0;const Oe=Qo(),xt=Qo(),Cy=Qo(),te=Qo(),it=Qo(),Ka=Qo(),Gn=Qo();function Qo(){return 2**++RW}const Iy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Oe,booleanish:xt,commaOrSpaceSeparated:Gn,commaSeparated:Ka,number:te,overloadedBoolean:Cy,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),c0=Object.keys(Iy);let oT=class extends Hn{constructor(t,n,r,i){let s=-1;if(super(t,n),Zb(this,"space",i),typeof r=="number")for(;++s<c0.length;){const o=c0[s];Zb(this,c0[s],(r&Iy[o])===Iy[o])}}};oT.prototype.defined=!0;function Zb(e,t,n){n&&(e[t]=n)}function Nu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new oT(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Uc(r)]=r,n[Uc(s.attribute)]=r}return new _d(t,n,e.space)}const tN=Nu({properties:{ariaActiveDescendant:null,ariaAtomic:xt,ariaAutoComplete:null,ariaBusy:xt,ariaChecked:xt,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:xt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:xt,ariaFlowTo:it,ariaGrabbed:xt,ariaHasPopup:null,ariaHidden:xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:te,ariaLive:null,ariaModal:xt,ariaMultiLine:xt,ariaMultiSelectable:xt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:xt,ariaReadOnly:xt,ariaRelevant:null,ariaRequired:xt,ariaRoleDescription:it,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:xt,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function nN(e,t){return t in e?e[t]:t}function rN(e,t){return nN(e,t.toLowerCase())}const xW=Nu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ka,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:Oe,allowPaymentRequest:Oe,allowUserMedia:Oe,alt:null,as:null,async:Oe,autoCapitalize:null,autoComplete:it,autoFocus:Oe,autoPlay:Oe,blocking:it,capture:null,charSet:null,checked:Oe,cite:null,className:it,cols:te,colSpan:null,content:null,contentEditable:xt,controls:Oe,controlsList:it,coords:te|Ka,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Oe,defer:Oe,dir:null,dirName:null,disabled:Oe,download:Cy,draggable:xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Oe,formTarget:null,headers:it,height:te,hidden:Cy,high:te,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:Oe,inputMode:null,integrity:null,is:null,isMap:Oe,itemId:null,itemProp:it,itemRef:it,itemScope:Oe,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Oe,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:Oe,muted:Oe,name:null,nonce:null,noModule:Oe,noValidate:Oe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Oe,optimum:te,pattern:null,ping:it,placeholder:null,playsInline:Oe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Oe,referrerPolicy:null,rel:it,required:Oe,reversed:Oe,rows:te,rowSpan:te,sandbox:it,scope:null,scoped:Oe,seamless:Oe,selected:Oe,shadowRootClonable:Oe,shadowRootDelegatesFocus:Oe,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:Oe,useMap:null,value:xt,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Oe,declare:Oe,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:Oe,noHref:Oe,noShade:Oe,noWrap:Oe,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:xt,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Oe,disableRemotePlayback:Oe,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:rN}),kW=Nu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gn,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:Oe,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ka,g2:Ka,glyphName:Ka,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:Gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gn,rev:Gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gn,requiredFeatures:Gn,requiredFonts:Gn,requiredFormats:Gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:Gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gn,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:nN}),iN=Nu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),sN=Nu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:rN}),oN=Nu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),PW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},NW=/[A-Z]/g,Jb=/-[a-z]/g,OW=/^data[-\w.:]+$/i;function aT(e,t){const n=Uc(t);let r=t,i=Hn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&OW.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Jb,LW);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Jb.test(s)){let o=s.replace(NW,DW);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=oT}return new i(r,t)}function DW(e){return"-"+e.toLowerCase()}function LW(e){return e.charAt(1).toUpperCase()}const Tm=eN([tN,xW,iN,sN,oN],"html"),Ou=eN([tN,kW,iN,sN,oN],"svg");function eC(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function aN(e){return e.join(" ").trim()}var uT={},tC=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,MW=/\n/g,FW=/^\s*/,VW=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,BW=/^:\s*/,UW=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,HW=/^[;\s]*/,jW=/^\s+|\s+$/g,zW=`
`,nC="/",rC="*",go="",$W="comment",WW="declaration",qW=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(_){var E=_.match(MW);E&&(n+=E.length);var b=_.lastIndexOf(zW);r=~b?_.length-b:r+_.length}function s(){var _={line:n,column:r};return function(E){return E.position=new o(_),l(),E}}function o(_){this.start=_,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(_){var E=new Error(t.source+":"+n+":"+r+": "+_);if(E.reason=_,E.filename=t.source,E.line=n,E.column=r,E.source=e,!t.silent)throw E}function u(_){var E=_.exec(e);if(E){var b=E[0];return i(b),e=e.slice(b.length),E}}function l(){u(FW)}function c(_){var E;for(_=_||[];E=h();)E!==!1&&_.push(E);return _}function h(){var _=s();if(!(nC!=e.charAt(0)||rC!=e.charAt(1))){for(var E=2;go!=e.charAt(E)&&(rC!=e.charAt(E)||nC!=e.charAt(E+1));)++E;if(E+=2,go===e.charAt(E-1))return a("End of comment missing");var b=e.slice(2,E-2);return r+=2,i(b),e=e.slice(E),r+=2,_({type:$W,comment:b})}}function f(){var _=s(),E=u(VW);if(E){if(h(),!u(BW))return a("property missing ':'");var b=u(UW),y=_({type:WW,property:iC(E[0].replace(tC,go)),value:b?iC(b[0].replace(tC,go)):go});return u(HW),y}}function p(){var _=[];c(_);for(var E;E=f();)E!==!1&&(_.push(E),c(_));return _}return l(),p()};function iC(e){return e?e.replace(jW,go):go}var GW=lf&&lf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uT,"__esModule",{value:!0});uT.default=YW;var KW=GW(qW);function YW(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,KW.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?t(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var wm={};Object.defineProperty(wm,"__esModule",{value:!0});wm.camelCase=void 0;var QW=/^--[a-zA-Z0-9_-]+$/,XW=/-([a-z])/g,ZW=/^[^-]+$/,JW=/^-(webkit|moz|ms|o|khtml)-/,eq=/^-(ms)-/,tq=function(e){return!e||ZW.test(e)||QW.test(e)},nq=function(e,t){return t.toUpperCase()},sC=function(e,t){return"".concat(t,"-")},rq=function(e,t){return t===void 0&&(t={}),tq(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(eq,sC):e=e.replace(JW,sC),e.replace(XW,nq))};wm.camelCase=rq;var iq=lf&&lf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},sq=iq(uT),oq=wm;function Ay(e,t){var n={};return!e||typeof e!="string"||(0,sq.default)(e,function(r,i){r&&i&&(n[(0,oq.camelCase)(r,t)]=i)}),n}Ay.default=Ay;var aq=Ay;const uq=wp(aq),Sm=uN("end"),hi=uN("start");function uN(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function lq(e){const t=hi(e),n=Sm(e);if(t&&n)return{start:t,end:n}}function Zl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?oC(e.position):"start"in e||"end"in e?oC(e):"line"in e||"column"in e?Ry(e):""}function Ry(e){return aC(e&&e.line)+":"+aC(e&&e.column)}function oC(e){return Ry(e&&e.start)+"-"+Ry(e&&e.end)}function aC(e){return e&&typeof e=="number"?e:1}class yn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Zl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}yn.prototype.file="";yn.prototype.name="";yn.prototype.reason="";yn.prototype.message="";yn.prototype.stack="";yn.prototype.column=void 0;yn.prototype.line=void 0;yn.prototype.ancestors=void 0;yn.prototype.cause=void 0;yn.prototype.fatal=void 0;yn.prototype.place=void 0;yn.prototype.ruleId=void 0;yn.prototype.source=void 0;const lT={}.hasOwnProperty,cq=new Map,dq=/[A-Z]/g,hq=new Set(["table","tbody","thead","tfoot","tr"]),fq=new Set(["td","th"]),lN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function pq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=wq(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Tq(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ou:Tm,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=cN(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function cN(e,t,n){if(t.type==="element")return mq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return gq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return yq(e,t,n);if(t.type==="mdxjsEsm")return _q(e,t);if(t.type==="root")return Eq(e,t,n);if(t.type==="text")return vq(e,t)}function mq(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ou,e.schema=i),e.ancestors.push(t);const s=hN(e,t.tagName,!1),o=Sq(e,t);let a=dT(e,t);return hq.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!AW(u):!0})),dN(e,o,s,t),cT(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function gq(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Hc(e,t.position)}function _q(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hc(e,t.position)}function yq(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ou,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:hN(e,t.name,!0),o=bq(e,t),a=dT(e,t);return dN(e,o,s,t),cT(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Eq(e,t,n){const r={};return cT(r,dT(e,t)),e.create(t,e.Fragment,r,n)}function vq(e,t){return t.value}function dN(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function cT(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Tq(e,t,n){return r;function r(i,s,o,a){const l=Array.isArray(o.children)?n:t;return a?l(s,o,a):l(s,o)}}function wq(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=hi(r);return t(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Sq(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&lT.call(t.properties,i)){const s=Cq(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&fq.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function bq(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Hc(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Hc(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function dT(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:cq;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const l=i.get(u)||0;o=u+"-"+l,i.set(u,l+1)}}const a=cN(e,s,o);a!==void 0&&n.push(a)}return n}function Cq(e,t,n){const r=aT(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?JP(n):aN(n)),r.property==="style"){let i=typeof n=="object"?n:Iq(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Aq(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?PW[r.property]||r.property:r.attribute,n]}}function Iq(e,t){try{return uq(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new yn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=lN+"#cannot-parse-style-attribute",i}}function hN(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Qb(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Qb(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return lT.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Hc(e)}function Hc(e,t){const n=new yn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=lN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Aq(e){const t={};let n;for(n in e)lT.call(e,n)&&(t[Rq(n)]=e[n]);return t}function Rq(e){let t=e.replace(dq,xq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function xq(e){return"-"+e.toLowerCase()}const d0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kq={};function hT(e,t){const n=kq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fN(e,r,i)}function fN(e,t,n){if(Pq(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return uC(e.children,t,n)}return Array.isArray(e)?uC(e,t,n):""}function uC(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=fN(e[i],t,n);return r.join("")}function Pq(e){return!!(e&&typeof e=="object")}const lC=document.createElement("i");function fT(e){const t="&"+e+";";lC.innerHTML=t;const n=lC.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function nr(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function pr(e,t){return e.length>0?(nr(e,e.length,0,t),e):t}const cC={}.hasOwnProperty;function pN(e){const t={};let n=-1;for(;++n<e.length;)Nq(t,e[n]);return t}function Nq(e,t){let n;for(n in t){const i=(cC.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){cC.call(i,o)||(i[o]=[]);const a=s[o];Oq(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Oq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);nr(e,0,0,r)}function mN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Lr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=io(/[A-Za-z]/),pn=io(/[\dA-Za-z]/),Dq=io(/[#-'*+\--9=?A-Z^-~]/);function gp(e){return e!==null&&(e<32||e===127)}const xy=io(/\d/),Lq=io(/[\dA-Fa-f]/),Mq=io(/[!-/:-@[-`{-~]/);function Te(e){return e!==null&&e<-2}function nt(e){return e!==null&&(e<0||e===32)}function Ve(e){return e===-2||e===-1||e===32}const bm=io(new RegExp("\\p{P}|\\p{S}","u")),zo=io(/\s/);function io(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Du(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&pn(e.charCodeAt(n+1))&&pn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function We(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Ve(u)?(e.enter(n),a(u)):t(u)}function a(u){return Ve(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Fq={tokenize:Vq};function Vq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),We(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Te(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Bq={tokenize:Uq},dC={tokenize:Hq};function Uq(e){const t=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,u,l)(w)}return l(w)}function u(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const k=t.events.length;let U=k,L;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){L=t.events[U][1].end;break}y(r);let A=k;for(;A<t.events.length;)t.events[A][1].end={...L},A++;return nr(t.events,U+1,0,t.events.slice(k)),t.events.length=A,l(w)}return a(w)}function l(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return _(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dC,c,h)(w)}function c(w){return i&&v(),y(r),f(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,_(w)}function f(w){return t.containerState={},e.attempt(dC,p,_)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function _(w){if(w===null){i&&v(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),E(w)}function E(w){if(w===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Te(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),E)}function b(w,k){const U=t.sliceStream(w);if(k&&U.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(U),t.parser.lazy[w.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<o&&(!i.events[L][1].end||i.events[L][1].end.offset>o))return;const A=t.events.length;let I=A,R,S;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(R){S=t.events[I][1].end;break}R=!0}for(y(r),L=A;L<t.events.length;)t.events[L][1].end={...S},L++;nr(t.events,I+1,0,t.events.slice(A)),t.events.length=L}}function y(w){let k=n.length;for(;k-- >w;){const U=n[k];t.containerState=U[1],U[0].exit.call(t,e)}n.length=w}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Hq(e,t,n){return We(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yu(e){if(e===null||nt(e)||zo(e))return 1;if(bm(e))return 2}function Cm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const ky={name:"attention",resolveAll:jq,tokenize:zq};function jq(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};hC(h,-u),hC(f,u),o={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=pr(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=pr(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=pr(l,Cm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=pr(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=pr(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,nr(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yu(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=yu(u),h=!c||c===2&&i||n.includes(u),f=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?h:h&&(i||!f)),l._close=!!(s===42?f:f&&(c||!h)),t(u)}}function hC(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const $q={name:"autolink",tokenize:Wq};function Wq(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Cn(p)?(e.consume(p),o):p===64?n(p):l(p)}function o(p){return p===43||p===45||p===46||pn(p)?(r=1,a(p)):l(p)}function a(p){return p===58?(e.consume(p),r=0,u):(p===43||p===45||p===46||pn(p))&&r++<32?(e.consume(p),a):(r=0,l(p))}function u(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||gp(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),c):Dq(p)?(e.consume(p),l):n(p)}function c(p){return pn(p)?h(p):n(p)}function h(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||pn(p))&&r++<63){const _=p===45?f:h;return e.consume(p),_}return n(p)}}const yd={partial:!0,tokenize:qq};function qq(e,t,n){return r;function r(s){return Ve(s)?We(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Te(s)?t(s):n(s)}}const gN={continuation:{tokenize:Kq},exit:Yq,name:"blockQuote",tokenize:Gq};function Gq(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ve(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Kq(e,t,n){const r=this;return i;function i(o){return Ve(o)?We(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(gN,t,n)(o)}}function Yq(e){e.exit("blockQuote")}const _N={name:"characterEscape",tokenize:Qq};function Qq(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Mq(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const yN={name:"characterReference",tokenize:Xq};function Xq(e,t,n){const r=this;let i=0,s,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),u}function u(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=pn,c(h))}function l(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Lq,c):(e.enter("characterReferenceValue"),s=7,o=xy,c(h))}function c(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return o===pn&&!fT(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),c):n(h)}}const fC={partial:!0,tokenize:Jq},pC={concrete:!0,name:"codeFenced",tokenize:Zq};function Zq(e,t,n){const r=this,i={partial:!0,tokenize:U};let s=0,o=0,a;return u;function u(L){return l(L)}function l(L){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,a=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(L)}function c(L){return L===a?(o++,e.consume(L),c):o<3?n(L):(e.exit("codeFencedFenceSequence"),Ve(L)?We(e,h,"whitespace")(L):h(L))}function h(L){return L===null||Te(L)?(e.exit("codeFencedFence"),r.interrupt?t(L):e.check(fC,E,k)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(L))}function f(L){return L===null||Te(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(L)):Ve(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),We(e,p,"whitespace")(L)):L===96&&L===a?n(L):(e.consume(L),f)}function p(L){return L===null||Te(L)?h(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(L))}function _(L){return L===null||Te(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(L)):L===96&&L===a?n(L):(e.consume(L),_)}function E(L){return e.attempt(i,k,b)(L)}function b(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),y}function y(L){return s>0&&Ve(L)?We(e,v,"linePrefix",s+1)(L):v(L)}function v(L){return L===null||Te(L)?e.check(fC,E,k)(L):(e.enter("codeFlowValue"),w(L))}function w(L){return L===null||Te(L)?(e.exit("codeFlowValue"),v(L)):(e.consume(L),w)}function k(L){return e.exit("codeFenced"),t(L)}function U(L,A,I){let R=0;return S;function S(ie){return L.enter("lineEnding"),L.consume(ie),L.exit("lineEnding"),D}function D(ie){return L.enter("codeFencedFence"),Ve(ie)?We(L,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):O(ie)}function O(ie){return ie===a?(L.enter("codeFencedFenceSequence"),N(ie)):I(ie)}function N(ie){return ie===a?(R++,L.consume(ie),N):R>=o?(L.exit("codeFencedFenceSequence"),Ve(ie)?We(L,Q,"whitespace")(ie):Q(ie)):I(ie)}function Q(ie){return ie===null||Te(ie)?(L.exit("codeFencedFence"),A(ie)):I(ie)}}}function Jq(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const h0={name:"codeIndented",tokenize:tG},eG={partial:!0,tokenize:nG};function tG(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),We(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Te(l)?e.attempt(eG,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Te(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function nG(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Te(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):We(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Te(o)?i(o):n(o)}}const rG={name:"codeText",previous:sG,resolve:iG,tokenize:oG};function iG(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function sG(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oG(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),u(h))}function u(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),u):h===96?(s=e.enter("codeTextSequence"),i=0,c(h)):Te(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(h))}function l(h){return h===null||h===32||h===96||Te(h)?(e.exit("codeTextData"),u(h)):(e.consume(h),l)}function c(h){return h===96?(e.consume(h),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",l(h))}}class aG{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&hl(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),hl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),hl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);hl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);hl(this.left,n.reverse())}}}function hl(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function EN(e){const t={};let n=-1,r,i,s,o,a,u,l;const c=new aG(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,uG(c,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return nr(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function uG(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],l={};let c,h,f=-1,p=n,_=0,E=0;const b=[E];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(E=f+1,b.push(E),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const y=a.slice(b[f],b[f+1]),v=s.pop();u.push([v,v+y.length-1]),e.splice(v,2,y)}for(u.reverse(),f=-1;++f<u.length;)l[_+u[f][0]]=_+u[f][1],_+=u[f][1]-u[f][0]-1;return l}const lG={resolve:dG,tokenize:hG},cG={partial:!0,tokenize:fG};function dG(e){return EN(e),e}function hG(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Te(a)?e.check(cG,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function fG(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),We(e,s,"linePrefix")}function s(o){if(o===null||Te(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function vN(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return h;function h(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||gp(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),E(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||Te(y)?n(y):(e.consume(y),y===92?_:p)}function _(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function E(y){return!c&&(y===null||y===41||nt(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<l&&y===40?(e.consume(y),c++,E):y===41?(e.consume(y),c--,E):y===null||y===32||y===40||gp(y)?n(y):(e.consume(y),y===92?b:E)}function b(y){return y===40||y===41||y===92?(e.consume(y),E):E(y)}}function TN(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!u||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Te(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Te(p)||a++>999?(e.exit("chunkString"),c(p)):(e.consume(p),u||(u=!Ve(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(e.consume(p),a++,h):h(p)}}function wN(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,u):n(f)}function u(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),l(f))}function l(f){return f===o?(e.exit(s),u(o)):f===null?n(f):Te(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),We(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||Te(f)?(e.exit("chunkString"),l(f)):(e.consume(f),f===92?h:c)}function h(f){return f===o||f===92?(e.consume(f),c):c(f)}}function Jl(e,t){let n;return r;function r(i){return Te(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ve(i)?We(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const pG={name:"definition",tokenize:gG},mG={partial:!0,tokenize:_G};function gG(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),o(p)}function o(p){return TN.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Lr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),u):n(p)}function u(p){return nt(p)?Jl(e,l)(p):l(p)}function l(p){return vN(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return e.attempt(mG,h,h)(p)}function h(p){return Ve(p)?We(e,f,"whitespace")(p):f(p)}function f(p){return p===null||Te(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function _G(e,t,n){return r;function r(a){return nt(a)?Jl(e,i)(a):n(a)}function i(a){return wN(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ve(a)?We(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Te(a)?t(a):n(a)}}const yG={name:"hardBreakEscape",tokenize:EG};function EG(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Te(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const vG={name:"headingAtx",resolve:TG,tokenize:wG};function TG(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},nr(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function wG(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||nt(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Te(c)?(e.exit("atxHeading"),t(c)):Ve(c)?We(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||nt(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const SG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mC=["pre","script","style","textarea"],bG={concrete:!0,name:"htmlFlow",resolveTo:AG,tokenize:RG},CG={partial:!0,tokenize:kG},IG={partial:!0,tokenize:xG};function AG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function RG(e,t,n){const r=this;let i,s,o,a,u;return l;function l(B){return c(B)}function c(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),h}function h(B){return B===33?(e.consume(B),f):B===47?(e.consume(B),s=!0,E):B===63?(e.consume(B),i=3,r.interrupt?t:F):Cn(B)?(e.consume(B),o=String.fromCharCode(B),b):n(B)}function f(B){return B===45?(e.consume(B),i=2,p):B===91?(e.consume(B),i=5,a=0,_):Cn(B)?(e.consume(B),i=4,r.interrupt?t:F):n(B)}function p(B){return B===45?(e.consume(B),r.interrupt?t:F):n(B)}function _(B){const ge="CDATA[";return B===ge.charCodeAt(a++)?(e.consume(B),a===ge.length?r.interrupt?t:O:_):n(B)}function E(B){return Cn(B)?(e.consume(B),o=String.fromCharCode(B),b):n(B)}function b(B){if(B===null||B===47||B===62||nt(B)){const ge=B===47,xe=o.toLowerCase();return!ge&&!s&&mC.includes(xe)?(i=1,r.interrupt?t(B):O(B)):SG.includes(o.toLowerCase())?(i=6,ge?(e.consume(B),y):r.interrupt?t(B):O(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):s?v(B):w(B))}return B===45||pn(B)?(e.consume(B),o+=String.fromCharCode(B),b):n(B)}function y(B){return B===62?(e.consume(B),r.interrupt?t:O):n(B)}function v(B){return Ve(B)?(e.consume(B),v):S(B)}function w(B){return B===47?(e.consume(B),S):B===58||B===95||Cn(B)?(e.consume(B),k):Ve(B)?(e.consume(B),w):S(B)}function k(B){return B===45||B===46||B===58||B===95||pn(B)?(e.consume(B),k):U(B)}function U(B){return B===61?(e.consume(B),L):Ve(B)?(e.consume(B),U):w(B)}function L(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),u=B,A):Ve(B)?(e.consume(B),L):I(B)}function A(B){return B===u?(e.consume(B),u=null,R):B===null||Te(B)?n(B):(e.consume(B),A)}function I(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||nt(B)?U(B):(e.consume(B),I)}function R(B){return B===47||B===62||Ve(B)?w(B):n(B)}function S(B){return B===62?(e.consume(B),D):n(B)}function D(B){return B===null||Te(B)?O(B):Ve(B)?(e.consume(B),D):n(B)}function O(B){return B===45&&i===2?(e.consume(B),le):B===60&&i===1?(e.consume(B),fe):B===62&&i===4?(e.consume(B),pe):B===63&&i===3?(e.consume(B),F):B===93&&i===5?(e.consume(B),oe):Te(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(CG,ve,N)(B)):B===null||Te(B)?(e.exit("htmlFlowData"),N(B)):(e.consume(B),O)}function N(B){return e.check(IG,Q,ve)(B)}function Q(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),ie}function ie(B){return B===null||Te(B)?N(B):(e.enter("htmlFlowData"),O(B))}function le(B){return B===45?(e.consume(B),F):O(B)}function fe(B){return B===47?(e.consume(B),o="",K):O(B)}function K(B){if(B===62){const ge=o.toLowerCase();return mC.includes(ge)?(e.consume(B),pe):O(B)}return Cn(B)&&o.length<8?(e.consume(B),o+=String.fromCharCode(B),K):O(B)}function oe(B){return B===93?(e.consume(B),F):O(B)}function F(B){return B===62?(e.consume(B),pe):B===45&&i===2?(e.consume(B),F):O(B)}function pe(B){return B===null||Te(B)?(e.exit("htmlFlowData"),ve(B)):(e.consume(B),pe)}function ve(B){return e.exit("htmlFlow"),t(B)}}function xG(e,t,n){const r=this;return i;function i(o){return Te(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function kG(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(yd,t,n)}}const PG={name:"htmlText",tokenize:NG};function NG(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),u}function u(F){return F===33?(e.consume(F),l):F===47?(e.consume(F),U):F===63?(e.consume(F),w):Cn(F)?(e.consume(F),I):n(F)}function l(F){return F===45?(e.consume(F),c):F===91?(e.consume(F),s=0,_):Cn(F)?(e.consume(F),v):n(F)}function c(F){return F===45?(e.consume(F),p):n(F)}function h(F){return F===null?n(F):F===45?(e.consume(F),f):Te(F)?(o=h,fe(F)):(e.consume(F),h)}function f(F){return F===45?(e.consume(F),p):h(F)}function p(F){return F===62?le(F):F===45?f(F):h(F)}function _(F){const pe="CDATA[";return F===pe.charCodeAt(s++)?(e.consume(F),s===pe.length?E:_):n(F)}function E(F){return F===null?n(F):F===93?(e.consume(F),b):Te(F)?(o=E,fe(F)):(e.consume(F),E)}function b(F){return F===93?(e.consume(F),y):E(F)}function y(F){return F===62?le(F):F===93?(e.consume(F),y):E(F)}function v(F){return F===null||F===62?le(F):Te(F)?(o=v,fe(F)):(e.consume(F),v)}function w(F){return F===null?n(F):F===63?(e.consume(F),k):Te(F)?(o=w,fe(F)):(e.consume(F),w)}function k(F){return F===62?le(F):w(F)}function U(F){return Cn(F)?(e.consume(F),L):n(F)}function L(F){return F===45||pn(F)?(e.consume(F),L):A(F)}function A(F){return Te(F)?(o=A,fe(F)):Ve(F)?(e.consume(F),A):le(F)}function I(F){return F===45||pn(F)?(e.consume(F),I):F===47||F===62||nt(F)?R(F):n(F)}function R(F){return F===47?(e.consume(F),le):F===58||F===95||Cn(F)?(e.consume(F),S):Te(F)?(o=R,fe(F)):Ve(F)?(e.consume(F),R):le(F)}function S(F){return F===45||F===46||F===58||F===95||pn(F)?(e.consume(F),S):D(F)}function D(F){return F===61?(e.consume(F),O):Te(F)?(o=D,fe(F)):Ve(F)?(e.consume(F),D):R(F)}function O(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,N):Te(F)?(o=O,fe(F)):Ve(F)?(e.consume(F),O):(e.consume(F),Q)}function N(F){return F===i?(e.consume(F),i=void 0,ie):F===null?n(F):Te(F)?(o=N,fe(F)):(e.consume(F),N)}function Q(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||nt(F)?R(F):(e.consume(F),Q)}function ie(F){return F===47||F===62||nt(F)?R(F):n(F)}function le(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function fe(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),K}function K(F){return Ve(F)?We(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):oe(F)}function oe(F){return e.enter("htmlTextData"),o(F)}}const pT={name:"labelEnd",resolveAll:MG,resolveTo:FG,tokenize:VG},OG={tokenize:BG},DG={tokenize:UG},LG={tokenize:HG};function MG(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&nr(e,0,e.length,n),e}function FG(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",l,t]],a=pr(a,e.slice(s+1,s+r+3)),a=pr(a,[["enter",c,t]]),a=pr(a,Cm(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=pr(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=pr(a,e.slice(o+1)),a=pr(a,[["exit",u,t]]),nr(e,s,e.length,a),e}function VG(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(Lr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),u):n(f)}function u(f){return f===40?e.attempt(OG,c,o?c:h)(f):f===91?e.attempt(DG,c,o?l:h)(f):o?c(f):h(f)}function l(f){return e.attempt(LG,c,h)(f)}function c(f){return t(f)}function h(f){return s._balanced=!0,n(f)}}function BG(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return nt(h)?Jl(e,s)(h):s(h)}function s(h){return h===41?c(h):vN(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return nt(h)?Jl(e,u)(h):c(h)}function a(h){return n(h)}function u(h){return h===34||h===39||h===40?wN(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function l(h){return nt(h)?Jl(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function UG(e,t,n){const r=this;return i;function i(a){return TN.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Lr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function HG(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const jG={name:"labelStartImage",resolveAll:pT.resolveAll,tokenize:zG};function zG(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const $G={name:"labelStartLink",resolveAll:pT.resolveAll,tokenize:WG};function WG(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const f0={name:"lineEnding",tokenize:qG};function qG(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),We(e,t,"linePrefix")}}const sf={name:"thematicBreak",tokenize:GG};function GG(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Te(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),Ve(l)?We(e,a,"whitespace")(l):a(l))}}const Nn={continuation:{tokenize:XG},exit:JG,name:"list",tokenize:QG},KG={partial:!0,tokenize:eK},YG={partial:!0,tokenize:ZG};function QG(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const _=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:xy(p)){if(r.containerState.type||(r.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(sf,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(p)}return n(p)}function u(p){return xy(p)&&++o<10?(e.consume(p),u):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(yd,r.interrupt?n:c,e.attempt(KG,f,h))}function c(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function h(p){return Ve(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function XG(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(yd,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,We(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ve(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(YG,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,We(e,e.attempt(Nn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function ZG(e,t,n){const r=this;return We(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function JG(e){e.exit(this.containerState.type)}function eK(e,t,n){const r=this;return We(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ve(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const gC={name:"setextUnderline",resolveTo:tK,tokenize:nK};function tK(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function nK(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),Ve(l)?We(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Te(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const rK={tokenize:iK};function iK(e){const t=this,n=e.attempt(yd,r,e.attempt(this.parser.constructs.flowInitial,i,We(e,e.attempt(this.parser.constructs.flow,i,e.attempt(lG,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const sK={resolveAll:bN()},oK=SN("string"),aK=SN("text");function SN(e){return{resolveAll:bN(e==="text"?uK:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function bN(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function uK(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}const lK={42:Nn,43:Nn,45:Nn,48:Nn,49:Nn,50:Nn,51:Nn,52:Nn,53:Nn,54:Nn,55:Nn,56:Nn,57:Nn,62:gN},cK={91:pG},dK={[-2]:h0,[-1]:h0,32:h0},hK={35:vG,42:sf,45:[gC,sf],60:bG,61:gC,95:sf,96:pC,126:pC},fK={38:yN,92:_N},pK={[-5]:f0,[-4]:f0,[-3]:f0,33:jG,38:yN,42:ky,60:[$q,PG],91:$G,92:[yG,_N],93:pT,95:ky,96:rG},mK={null:[ky,sK]},gK={null:[42,95]},_K={null:[]},yK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gK,contentInitial:cK,disable:_K,document:lK,flow:hK,flowInitial:dK,insideSpan:mK,string:fK,text:pK},Symbol.toStringTag,{value:"Module"}));function EK(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const u={attempt:A(U),check:A(L),consume:v,enter:w,exit:k,interrupt:A(L,{interrupt:!0})},l={code:null,containerState:{},defineSkip:E,events:[],now:_,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:h};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function h(D){return o=pr(o,D),b(),o[o.length-1]!==null?[]:(I(t,0),l.events=Cm(s,l.events,l),l.events)}function f(D,O){return TK(p(D),O)}function p(D){return vK(o,D)}function _(){const{_bufferIndex:D,_index:O,line:N,column:Q,offset:ie}=r;return{_bufferIndex:D,_index:O,line:N,column:Q,offset:ie}}function E(D){i[D.line]=D.column,S()}function b(){let D;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(D){c=c(D)}function v(D){Te(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,S()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=D}function w(D,O){const N=O||{};return N.type=D,N.start=_(),l.events.push(["enter",N,l]),a.push(N),N}function k(D){const O=a.pop();return O.end=_(),l.events.push(["exit",O,l]),O}function U(D,O){I(D,O.from)}function L(D,O){O.restore()}function A(D,O){return N;function N(Q,ie,le){let fe,K,oe,F;return Array.isArray(Q)?ve(Q):"tokenize"in Q?ve([Q]):pe(Q);function pe(Ee){return Fe;function Fe(ut){const rt=ut!==null&&Ee[ut],Ge=ut!==null&&Ee.null,Tt=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(Ge)?Ge:Ge?[Ge]:[]];return ve(Tt)(ut)}}function ve(Ee){return fe=Ee,K=0,Ee.length===0?le:B(Ee[K])}function B(Ee){return Fe;function Fe(ut){return F=R(),oe=Ee,Ee.partial||(l.currentConstruct=Ee),Ee.name&&l.parser.constructs.disable.null.includes(Ee.name)?xe():Ee.tokenize.call(O?Object.assign(Object.create(l),O):l,u,ge,xe)(ut)}}function ge(Ee){return D(oe,F),ie}function xe(Ee){return F.restore(),++K<fe.length?B(fe[K]):le}}}function I(D,O){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&nr(l.events,O,l.events.length-O,D.resolve(l.events.slice(O),l)),D.resolveTo&&(l.events=D.resolveTo(l.events,l))}function R(){const D=_(),O=l.previous,N=l.currentConstruct,Q=l.events.length,ie=Array.from(a);return{from:Q,restore:le};function le(){r=D,l.previous=O,l.currentConstruct=N,l.events.length=Q,a=ie,S()}}function S(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function vK(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function TK(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function wK(e){const r={constructs:pN([yK,...(e||{}).extensions||[]]),content:i(Fq),defined:[],document:i(Bq),flow:i(rK),lazy:{},string:i(oK),text:i(aK)};return r;function i(s){return o;function o(a){return EK(r,s,a)}}}function SK(e){for(;!EN(e););return e}const _C=/[\0\t\n\r]/g;function bK(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,h,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(_C.lastIndex=h,l=_C.exec(s),f=l&&l.index!==void 0?l.index:s.length,p=s.charCodeAt(f),!l){t=s.slice(h);break}if(p===10&&h===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<f&&(u.push(s.slice(h,f)),e+=f-h),p){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const CK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IK(e){return e.replace(CK,AK)}function AK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return mN(n.slice(s?2:1),s?16:10)}return fT(n)||e}const CN={}.hasOwnProperty;function RK(e,t,n){return typeof t!="string"&&(n=t,t=void 0),xK(n)(SK(wK(n).document().write(bK()(e,t,!0))))}function xK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Zi),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(zr),blockQuote:s(Ge),characterEscape:R,characterReference:R,codeFenced:s(Tt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Tt,o),codeText:s(At,o),codeTextData:R,data:R,codeFlowValue:R,definition:s(pi),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(mi),hardBreakEscape:s(jn),hardBreakTrailing:s(jn),htmlFlow:s($r,o),htmlFlowData:R,htmlText:s($r,o),htmlTextData:R,image:s(gi),label:o,link:s(Zi),listItem:s(Xe),listItemValue:f,listOrdered:s(_i,h),listUnordered:s(_i),paragraph:s(lt),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(zr),strong:s(yi),thematicBreak:s(Jo)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:rt,autolinkProtocol:ut,blockQuote:u(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:Ee,characterReference:Fe,codeFenced:u(b),codeFencedFence:E,codeFencedFenceInfo:p,codeFencedFenceMeta:_,codeFlowValue:S,codeIndented:u(y),codeText:u(ie),codeTextData:S,data:S,definition:u(),definitionDestinationString:k,definitionLabelString:v,definitionTitleString:w,emphasis:u(),hardBreakEscape:u(O),hardBreakTrailing:u(O),htmlFlow:u(N),htmlFlowData:S,htmlText:u(Q),htmlTextData:S,image:u(fe),label:oe,labelText:K,lineEnding:D,link:u(le),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ge,resourceDestinationString:F,resourceTitleString:pe,resource:ve,setextHeading:u(I),setextHeadingLineSequence:A,setextHeadingText:L,strong:u(),thematicBreak:u()}};IN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r($){let J={type:"root",children:[]};const we={stack:[J],tokenStack:[],config:t,enter:a,exit:l,buffer:o,resume:c,data:n},Le=[];let Ze=-1;for(;++Ze<$.length;)if($[Ze][1].type==="listOrdered"||$[Ze][1].type==="listUnordered")if($[Ze][0]==="enter")Le.push(Ze);else{const zn=Le.pop();Ze=i($,zn,Ze)}for(Ze=-1;++Ze<$.length;){const zn=t[$[Ze][0]];CN.call(zn,$[Ze][1].type)&&zn[$[Ze][1].type].call(Object.assign({sliceSerialize:$[Ze][2].sliceSerialize},we),$[Ze][1])}if(we.tokenStack.length>0){const zn=we.tokenStack[we.tokenStack.length-1];(zn[1]||yC).call(we,void 0,zn[0])}for(J.position={start:ls($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:ls($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<t.transforms.length;)J=t.transforms[Ze](J)||J;return J}function i($,J,we){let Le=J-1,Ze=-1,zn=!1,$n,lr,es,Ei;for(;++Le<=we;){const vn=$[Le];switch(vn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vn[0]==="enter"?Ze++:Ze--,Ei=void 0;break}case"lineEndingBlank":{vn[0]==="enter"&&($n&&!Ei&&!Ze&&!es&&(es=Le),Ei=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ei=void 0}if(!Ze&&vn[0]==="enter"&&vn[1].type==="listItemPrefix"||Ze===-1&&vn[0]==="exit"&&(vn[1].type==="listUnordered"||vn[1].type==="listOrdered")){if($n){let ts=Le;for(lr=void 0;ts--;){const Wn=$[ts];if(Wn[1].type==="lineEnding"||Wn[1].type==="lineEndingBlank"){if(Wn[0]==="exit")continue;lr&&($[lr][1].type="lineEndingBlank",zn=!0),Wn[1].type="lineEnding",lr=ts}else if(!(Wn[1].type==="linePrefix"||Wn[1].type==="blockQuotePrefix"||Wn[1].type==="blockQuotePrefixWhitespace"||Wn[1].type==="blockQuoteMarker"||Wn[1].type==="listItemIndent"))break}es&&(!lr||es<lr)&&($n._spread=!0),$n.end=Object.assign({},lr?$[lr][1].start:vn[1].end),$.splice(lr||Le,0,["exit",$n,vn[2]]),Le++,we++}if(vn[1].type==="listItemPrefix"){const ts={type:"listItem",_spread:!1,start:Object.assign({},vn[1].start),end:void 0};$n=ts,$.splice(Le,0,["enter",ts,vn[2]]),Le++,we++,es=void 0,Ei=!0}}}return $[J][1]._spread=zn,we}function s($,J){return we;function we(Le){a.call(this,$(Le),Le),J&&J.call(this,Le)}}function o(){this.stack.push({type:"fragment",children:[]})}function a($,J,we){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([J,we||void 0]),$.position={start:ls(J.start),end:void 0}}function u($){return J;function J(we){$&&$.call(this,we),l.call(this,we)}}function l($,J){const we=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==$.type&&(J?J.call(this,$,Le[0]):(Le[1]||yC).call(this,$,Le[0]));else throw new Error("Cannot close `"+$.type+"` ("+Zl({start:$.start,end:$.end})+"): its not open");we.position.end=ls($.end)}function c(){return hT(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f($){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];J.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function p(){const $=this.resume(),J=this.stack[this.stack.length-1];J.lang=$}function _(){const $=this.resume(),J=this.stack[this.stack.length-1];J.meta=$}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$.replace(/(\r?\n|\r)$/g,"")}function v($){const J=this.resume(),we=this.stack[this.stack.length-1];we.label=J,we.identifier=Lr(this.sliceSerialize($)).toLowerCase()}function w(){const $=this.resume(),J=this.stack[this.stack.length-1];J.title=$}function k(){const $=this.resume(),J=this.stack[this.stack.length-1];J.url=$}function U($){const J=this.stack[this.stack.length-1];if(!J.depth){const we=this.sliceSerialize($).length;J.depth=we}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function A($){const J=this.stack[this.stack.length-1];J.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function R($){const we=this.stack[this.stack.length-1].children;let Le=we[we.length-1];(!Le||Le.type!=="text")&&(Le=Ji(),Le.position={start:ls($.start),end:void 0},we.push(Le)),this.stack.push(Le)}function S($){const J=this.stack.pop();J.value+=this.sliceSerialize($),J.position.end=ls($.end)}function D($){const J=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=J.children[J.children.length-1];we.position.end=ls($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(J.type)&&(R.call(this,$),S.call(this,$))}function O(){this.data.atHardBreak=!0}function N(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$}function Q(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$}function ie(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$}function le(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=J,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function fe(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=J,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function K($){const J=this.sliceSerialize($),we=this.stack[this.stack.length-2];we.label=IK(J),we.identifier=Lr(J).toLowerCase()}function oe(){const $=this.stack[this.stack.length-1],J=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Le=$.children;we.children=Le}else we.alt=J}function F(){const $=this.resume(),J=this.stack[this.stack.length-1];J.url=$}function pe(){const $=this.resume(),J=this.stack[this.stack.length-1];J.title=$}function ve(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function ge($){const J=this.resume(),we=this.stack[this.stack.length-1];we.label=J,we.identifier=Lr(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function xe($){this.data.characterReferenceType=$.type}function Ee($){const J=this.sliceSerialize($),we=this.data.characterReferenceType;let Le;we?(Le=mN(J,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=fT(J);const Ze=this.stack[this.stack.length-1];Ze.value+=Le}function Fe($){const J=this.stack.pop();J.position.end=ls($.end)}function ut($){S.call(this,$);const J=this.stack[this.stack.length-1];J.url=this.sliceSerialize($)}function rt($){S.call(this,$);const J=this.stack[this.stack.length-1];J.url="mailto:"+this.sliceSerialize($)}function Ge(){return{type:"blockquote",children:[]}}function Tt(){return{type:"code",lang:null,meta:null,value:""}}function At(){return{type:"inlineCode",value:""}}function pi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mi(){return{type:"emphasis",children:[]}}function zr(){return{type:"heading",depth:0,children:[]}}function jn(){return{type:"break"}}function $r(){return{type:"html",value:""}}function gi(){return{type:"image",title:null,url:"",alt:null}}function Zi(){return{type:"link",title:null,url:"",children:[]}}function _i($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function Xe($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function lt(){return{type:"paragraph",children:[]}}function yi(){return{type:"strong",children:[]}}function Ji(){return{type:"text",value:""}}function Jo(){return{type:"thematicBreak"}}}function ls(e){return{line:e.line,column:e.column,offset:e.offset}}function IN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?IN(e,r):kK(e,r)}}function kK(e,t){let n;for(n in t)if(CN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function yC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zl({start:t.start,end:t.end})+") is still open")}function PK(e){const t=this;t.parser=n;function n(r){return RK(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function NK(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function OK(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function DK(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function LK(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MK(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function FK(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Du(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function VK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function AN(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function UK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AN(e,t);const i={src:Du(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function HK(e,t){const n={src:Du(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function jK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function zK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AN(e,t);const i={href:Du(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function $K(e,t){const n={href:Du(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function WK(e,t,n){const r=e.all(t),i=n?qK(n):RN(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function qK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=RN(n[r])}return t}function RN(e){const t=e.spread;return t??e.children.length>1}function GK(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function KK(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YK(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function QK(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XK(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=hi(t.children[1]),u=Sm(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function ZK(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const h=t.children[u],f={},p=o?o[u]:void 0;p&&(f.align=p);let _={type:"element",tagName:s,properties:f,children:[]};h&&(_.children=e.all(h),e.patch(h,_),_=e.applyData(h,_)),l.push(_)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function JK(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const EC=9,vC=32;function eY(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(TC(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(TC(t.slice(i),i>0,!1)),s.join("")}function TC(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===EC||s===vC;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===EC||s===vC;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function tY(e,t){const n={type:"text",value:eY(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function nY(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const rY={blockquote:NK,break:OK,code:DK,delete:LK,emphasis:MK,footnoteReference:FK,heading:VK,html:BK,imageReference:UK,image:HK,inlineCode:jK,linkReference:zK,link:$K,listItem:WK,list:GK,paragraph:KK,root:YK,strong:QK,table:XK,tableCell:JK,tableRow:ZK,text:tY,thematicBreak:nY,toml:Ch,yaml:Ch,definition:Ch,footnoteDefinition:Ch};function Ch(){}const xN=-1,Im=0,ec=1,_p=2,mT=3,gT=4,_T=5,yT=6,kN=7,PN=8,wC=typeof self=="object"?self:globalThis,iY=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Im:case xN:return n(o,i);case ec:{const a=n([],i);for(const u of o)a.push(r(u));return a}case _p:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case mT:return n(new Date(o),i);case gT:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case _T:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case yT:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case kN:{const{name:a,message:u}=o;return n(new wC[a](u),i)}case PN:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new wC[s](o),i)};return r},SC=e=>iY(new Map,e)(0),la="",{toString:sY}={},{keys:oY}=Object,fl=e=>{const t=typeof e;if(t!=="object"||!e)return[Im,t];const n=sY.call(e).slice(8,-1);switch(n){case"Array":return[ec,la];case"Object":return[_p,la];case"Date":return[mT,la];case"RegExp":return[gT,la];case"Map":return[_T,la];case"Set":return[yT,la];case"DataView":return[ec,n]}return n.includes("Array")?[ec,n]:n.includes("Error")?[kN,n]:[_p,n]},Ih=([e,t])=>e===Im&&(t==="function"||t==="symbol"),aY=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=fl(o);switch(a){case Im:{let c=o;switch(u){case"bigint":a=PN,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([xN],o)}return i([a,c],o)}case ec:{if(u){let f=o;return u==="DataView"?f=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(o)),i([u,[...f]],o)}const c=[],h=i([a,c],o);for(const f of o)c.push(s(f));return h}case _p:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],h=i([a,c],o);for(const f of oY(o))(e||!Ih(fl(o[f])))&&c.push([s(f),s(o[f])]);return h}case mT:return i([a,o.toISOString()],o);case gT:{const{source:c,flags:h}=o;return i([a,{source:c,flags:h}],o)}case _T:{const c=[],h=i([a,c],o);for(const[f,p]of o)(e||!(Ih(fl(f))||Ih(fl(p))))&&c.push([s(f),s(p)]);return h}case yT:{const c=[],h=i([a,c],o);for(const f of o)(e||!Ih(fl(f)))&&c.push(s(f));return h}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},bC=(e,{json:t,lossy:n}={})=>{const r=[];return aY(!(t||n),!!t,new Map,r)(e),r},Eu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?SC(bC(e,t)):structuredClone(e):(e,t)=>SC(bC(e,t));function uY(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lY(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cY(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||uY,r=e.options.footnoteBackLabel||lY,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),h=String(l.identifier).toUpperCase(),f=Du(h.toLowerCase());let p=0;const _=[],E=e.footnoteCounts.get(h);for(;E!==void 0&&++p<=E;){_.length>0&&_.push({type:"text",value:" "});let v=typeof n=="string"?n:n(u,p);typeof v=="string"&&(v={type:"text",value:v}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(..._)}else c.push(..._);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(l,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Eu(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Am=function(e){if(e==null)return pY;if(typeof e=="function")return Rm(e);if(typeof e=="object")return Array.isArray(e)?dY(e):hY(e);if(typeof e=="string")return fY(e);throw new Error("Expected function, string, or object as test")};function dY(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Am(e[n]);return Rm(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function hY(e){const t=e;return Rm(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function fY(e){return Rm(t);function t(n){return n&&n.type===e}}function Rm(e){return t;function t(n,r,i){return!!(mY(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pY(){return!0}function mY(e){return e!==null&&typeof e=="object"&&"type"in e}const NN=[],gY=!0,Py=!1,_Y="skip";function ON(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Am(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=NN,_,E,b;if((!t||s(u,l,c[c.length-1]||void 0))&&(p=yY(n(u,c)),p[0]===Py))return p;if("children"in u&&u.children){const y=u;if(y.children&&p[0]!==_Y)for(E=(r?y.children.length:-1)+o,b=c.concat(y);E>-1&&E<y.children.length;){const v=y.children[E];if(_=a(v,E,b)(),_[0]===Py)return _;E=typeof _[1]=="number"?_[1]:E+o}}return p}}}function yY(e){return Array.isArray(e)?e:typeof e=="number"?[gY,e]:e==null?NN:[e]}function xm(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),ON(e,s,a,i);function a(u,l){const c=l[l.length-1],h=c?c.children.indexOf(u):void 0;return o(u,h,c)}}const Ny={}.hasOwnProperty,EY={};function vY(e,t){const n=t||EY,r=new Map,i=new Map,s=new Map,o={...rY,...n.handlers},a={all:l,applyData:wY,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:TY,wrap:bY};return xm(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();h.has(f)||h.set(f,c)}}),a;function u(c,h){const f=c.type,p=a.handlers[f];if(Ny.call(a.handlers,f)&&p)return p(a,c,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:E,...b}=c,y=Eu(b);return y.children=a.all(c),y}return Eu(c)}return(a.options.unknownHandler||SY)(a,c,h)}function l(c){const h=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const _=a.one(f[p],c);if(_){if(p&&f[p-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=CC(_.value)),!Array.isArray(_)&&_.type==="element")){const E=_.children[0];E&&E.type==="text"&&(E.value=CC(E.value))}Array.isArray(_)?h.push(..._):h.push(_)}}}return h}}function TY(e,t){e.position&&(t.position=lq(e))}function wY(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Eu(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function SY(e,t){const n=t.data||{},r="value"in t&&!(Ny.call(n,"hProperties")||Ny.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bY(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function CC(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function IC(e,t){const n=vY(e,t),r=n.one(e,void 0),i=cY(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function CY(e,t){return e&&"run"in e?async function(n,r){const i=IC(n,{file:r,...t});await e.run(i,r)}:function(n,r){return IC(n,{file:r,...e||t})}}function AC(e){if(e)throw e}var of=Object.prototype.hasOwnProperty,DN=Object.prototype.toString,RC=Object.defineProperty,xC=Object.getOwnPropertyDescriptor,kC=function(t){return typeof Array.isArray=="function"?Array.isArray(t):DN.call(t)==="[object Array]"},PC=function(t){if(!t||DN.call(t)!=="[object Object]")return!1;var n=of.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&of.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||of.call(t,i)},NC=function(t,n){RC&&n.name==="__proto__"?RC(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},OC=function(t,n){if(n==="__proto__")if(of.call(t,n)){if(xC)return xC(t,n).value}else return;return t[n]},IY=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=OC(a,n),i=OC(t,n),a!==i&&(c&&i&&(PC(i)||(s=kC(i)))?(s?(s=!1,o=r&&kC(r)?r:[]):o=r&&PC(r)?r:{},NC(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&NC(a,{name:n,newValue:i}));return a};const p0=wp(IY);function Oy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function AY(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let h=-1;if(u){o(u);return}for(;++h<i.length;)(l[h]===null||l[h]===void 0)&&(l[h]=i[h]);i=l,c?RY(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function RY(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Kr={basename:xY,dirname:kY,extname:PY,join:NY,sep:"/"};function xY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ed(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function kY(e){if(Ed(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function PY(e){Ed(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function NY(...e){let t=-1,n;for(;++t<e.length;)Ed(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":OY(n)}function OY(e){Ed(e);const t=e.codePointAt(0)===47;let n=DY(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function DY(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ed(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LY={cwd:MY};function MY(){return"/"}function Dy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function FY(e){if(typeof e=="string")e=new URL(e);else if(!Dy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return VY(e)}function VY(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const m0=["history","path","basename","stem","extname","dirname"];class LN{constructor(t){let n;t?Dy(t)?n={path:t}:typeof t=="string"||BY(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":LY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<m0.length;){const s=m0[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)m0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Kr.basename(this.path):void 0}set basename(t){_0(t,"basename"),g0(t,"basename"),this.path=Kr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Kr.dirname(this.path):void 0}set dirname(t){DC(this.basename,"dirname"),this.path=Kr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Kr.extname(this.path):void 0}set extname(t){if(g0(t,"extname"),DC(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Dy(t)&&(t=FY(t)),_0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Kr.basename(this.path,this.extname):void 0}set stem(t){_0(t,"stem"),g0(t,"stem"),this.path=Kr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new yn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function g0(e,t){if(e&&e.includes(Kr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Kr.sep+"`")}function _0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function DC(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function BY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const UY=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},HY={}.hasOwnProperty;class ET extends UY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=AY()}copy(){const t=new ET;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(p0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(v0("data",this.frozen),this.namespace[t]=n,this):HY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(v0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ah(t),r=this.parser||this.Parser;return y0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),y0("process",this.parser||this.Parser),E0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Ah(t),u=r.parse(a);r.run(u,a,function(c,h,f){if(c||!h||!f)return l(c);const p=h,_=r.stringify(p,f);$Y(_)?f.value=_:f.result=_,l(c,f)});function l(c,h){c||!h?o(c):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),y0("processSync",this.parser||this.Parser),E0("processSync",this.compiler||this.Compiler),this.process(t,i),MC("processSync","process",n),r;function i(s,o){n=!0,AC(s),r=o}}run(t,n,r){LC(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=Ah(n);i.run(t,u,l);function l(c,h,f){const p=h||t;c?a(c):o?o(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),MC("runSync","run",r),i;function s(o,a){AC(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Ah(n),i=this.compiler||this.Compiler;return E0("stringify",i),LC(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(v0("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...h]=l;u(c,h)}else o(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function o(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(l.plugins),l.settings&&(i.settings=p0(!0,i.settings,l.settings))}function a(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const h=l[c];s(h)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===l){f=h;break}if(f===-1)r.push([l,...c]);else if(c.length>0){let[p,..._]=c;const E=r[f][1];Oy(E)&&Oy(p)&&(p=p0(!0,E,p)),r[f]=[l,p,..._]}}}}const jY=new ET().freeze();function y0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function E0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function v0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LC(e){if(!Oy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function MC(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ah(e){return zY(e)?e:new LN(e)}function zY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $Y(e){return typeof e=="string"||WY(e)}function WY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",FC=[],VC={allowDangerousHtml:!0},GY=/^(https?|ircs?|mailto|xmpp)$/i,KY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function YY(e){const t=QY(e),n=XY(e);return ZY(t.runSync(t.parse(n),n),e)}function QY(e){const t=e.rehypePlugins||FC,n=e.remarkPlugins||FC,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...VC}:VC;return jY().use(PK).use(n).use(CY,r).use(t)}function XY(e){const t=e.children||"",n=new LN;return typeof t=="string"&&(n.value=t),n}function ZY(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||JY;for(const c of KY)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+qY+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),xm(e,l),pq(e,{Fragment:C.Fragment,components:i,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function l(c,h,f){if(c.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:c.value},h;if(c.type==="element"){let p;for(p in d0)if(Object.hasOwn(d0,p)&&Object.hasOwn(c.properties,p)){const _=c.properties[p],E=d0[p];(E===null||E.includes(c.tagName))&&(c.properties[p]=u(String(_||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(c,h,f)),p&&f&&typeof h=="number")return a&&c.children?f.children.splice(h,1,...c.children):f.children.splice(h,1),h}}}function JY(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||GY.test(e.slice(0,t))?e:""}function BC(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function eQ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tQ(e,t,n){const i=Am((n||{}).ignore||[]),s=nQ(t);let o=-1;for(;++o<s.length;)ON(e,"text",a);function a(l,c){let h=-1,f;for(;++h<c.length;){const p=c[h],_=f?f.children:void 0;if(i(p,_?_.indexOf(p):void 0,f))return;f=p}if(f)return u(l,c)}function u(l,c){const h=c[c.length-1],f=s[o][0],p=s[o][1];let _=0;const b=h.children.indexOf(l);let y=!1,v=[];f.lastIndex=0;let w=f.exec(l.value);for(;w;){const k=w.index,U={index:w.index,input:w.input,stack:[...c,l]};let L=p(...w,U);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?f.lastIndex=k+1:(_!==k&&v.push({type:"text",value:l.value.slice(_,k)}),Array.isArray(L)?v.push(...L):L&&v.push(L),_=k+w[0].length,y=!0),!f.global)break;w=f.exec(l.value)}return y?(_<l.value.length&&v.push({type:"text",value:l.value.slice(_)}),h.children.splice(b,1,...v)):v=[l],b+v.length}}function nQ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([rQ(i[0]),iQ(i[1])])}return t}function rQ(e){return typeof e=="string"?new RegExp(eQ(e),"g"):e}function iQ(e){return typeof e=="function"?e:function(){return e}}const T0="phrasing",w0=["autolink","link","image","label"];function sQ(){return{transforms:[hQ],enter:{literalAutolink:aQ,literalAutolinkEmail:S0,literalAutolinkHttp:S0,literalAutolinkWww:S0},exit:{literalAutolink:dQ,literalAutolinkEmail:cQ,literalAutolinkHttp:uQ,literalAutolinkWww:lQ}}}function oQ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:T0,notInConstruct:w0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:T0,notInConstruct:w0},{character:":",before:"[ps]",after:"\\/",inConstruct:T0,notInConstruct:w0}]}}function aQ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function S0(e){this.config.enter.autolinkProtocol.call(this,e)}function uQ(e){this.config.exit.autolinkProtocol.call(this,e)}function lQ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function cQ(e){this.config.exit.autolinkEmail.call(this,e)}function dQ(e){this.exit(e)}function hQ(e){tQ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fQ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),pQ]],{ignore:["link","linkReference"]})}function fQ(e,t,n,r,i){let s="";if(!MN(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!mQ(n)))return!1;const o=gQ(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function pQ(e,t,n,r){return!MN(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mQ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gQ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=BC(e,"(");let s=BC(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function MN(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||zo(n)||bm(n))&&(!t||n!==47)}FN.peek=CQ;function _Q(){this.buffer()}function yQ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function EQ(){this.buffer()}function vQ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function TQ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Lr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wQ(e){this.exit(e)}function SQ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Lr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bQ(e){this.exit(e)}function CQ(){return"["}function FN(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function IQ(){return{enter:{gfmFootnoteCallString:_Q,gfmFootnoteCall:yQ,gfmFootnoteDefinitionLabelString:EQ,gfmFootnoteDefinition:vQ},exit:{gfmFootnoteCallString:TQ,gfmFootnoteCall:wQ,gfmFootnoteDefinitionLabelString:SQ,gfmFootnoteDefinition:bQ}}}function AQ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:FN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let u=a.move("[^");const l=s.enter("footnoteDefinition"),c=s.enter("label");return u+=a.move(s.safe(s.associationId(r),{before:u,after:"]"})),c(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?VN:RQ))),l(),u}}function RQ(e,t,n){return t===0?e:VN(e,t,n)}function VN(e,t,n){return(n?"":"    ")+e}const xQ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BN.peek=DQ;function kQ(){return{canContainEols:["delete"],enter:{strikethrough:NQ},exit:{strikethrough:OQ}}}function PQ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:xQ}],handlers:{delete:BN}}}function NQ(e){this.enter({type:"delete",children:[]},e)}function OQ(e){this.exit(e)}function BN(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function DQ(){return"~"}function LQ(e){return e.length}function MQ(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||LQ,s=[],o=[],a=[],u=[];let l=0,c=-1;for(;++c<e.length;){const E=[],b=[];let y=-1;for(e[c].length>l&&(l=e[c].length);++y<e[c].length;){const v=FQ(e[c][y]);if(n.alignDelimiters!==!1){const w=i(v);b[y]=w,(u[y]===void 0||w>u[y])&&(u[y]=w)}E.push(v)}o[c]=E,a[c]=b}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<l;)s[h]=UC(r[h]);else{const E=UC(r);for(;++h<l;)s[h]=E}h=-1;const f=[],p=[];for(;++h<l;){const E=s[h];let b="",y="";E===99?(b=":",y=":"):E===108?b=":":E===114&&(y=":");let v=n.alignDelimiters===!1?1:Math.max(1,u[h]-b.length-y.length);const w=b+"-".repeat(v)+y;n.alignDelimiters!==!1&&(v=b.length+v+y.length,v>u[h]&&(u[h]=v),p[h]=v),f[h]=w}o.splice(1,0,f),a.splice(1,0,p),c=-1;const _=[];for(;++c<o.length;){const E=o[c],b=a[c];h=-1;const y=[];for(;++h<l;){const v=E[h]||"";let w="",k="";if(n.alignDelimiters!==!1){const U=u[h]-(b[h]||0),L=s[h];L===114?w=" ".repeat(U):L===99?U%2?(w=" ".repeat(U/2+.5),k=" ".repeat(U/2-.5)):(w=" ".repeat(U/2),k=w):k=" ".repeat(U)}n.delimiterStart!==!1&&!h&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||h)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(v),n.alignDelimiters!==!1&&y.push(k),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||h!==l-1)&&y.push("|")}_.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return _.join(`
`)}function FQ(e){return e==null?"":String(e)}function UC(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const HC={}.hasOwnProperty;function UN(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&HC.call(i,e)){const u=String(i[e]);o=HC.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function VQ(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),BQ);return i(),o}function BQ(e,t,n){return">"+(n?"":" ")+e}function UQ(e,t){return jC(e,t.inConstruct,!0)&&!jC(e,t.notInConstruct,!1)}function jC(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function zC(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&UQ(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function HQ(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function jQ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function zQ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function $Q(e,t,n,r){const i=zQ(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(jQ(e,n)){const h=n.enter("codeIndented"),f=n.indentLines(s,WQ);return h(),f}const a=n.createTracker(r),u=i.repeat(Math.max(HQ(s,i)+1,3)),l=n.enter("codeFenced");let c=a.move(u);if(e.lang){const h=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),h()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(u),l(),c}function WQ(e,t,n){return(n?"":"    ")+e}function vT(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function qQ(e,t,n,r){const i=vT(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let l=u.move("[");return l+=u.move(n.safe(n.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(a=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),a()),o(),l}function GQ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function jc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function yp(e,t,n){const r=yu(e),i=yu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}HN.peek=KQ;function HN(e,t,n,r){const i=GQ(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const l=u.charCodeAt(0),c=yp(r.before.charCodeAt(r.before.length-1),l,i);c.inside&&(u=jc(l)+u.slice(1));const h=u.charCodeAt(u.length-1),f=yp(r.after.charCodeAt(0),h,i);f.inside&&(u=u.slice(0,-1)+jc(h));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+u+p}function KQ(e,t,n){return n.options.emphasis||"*"}function YQ(e,t){let n=!1;return xm(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Py}),!!((!e.depth||e.depth<3)&&hT(e)&&(t.options.setext||n))}function QQ(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(YQ(e,n)){const c=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let l=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(l)&&(l=jc(l.charCodeAt(0))+l.slice(1)),l=l?o+" "+l:o,n.options.closeAtx&&(l+=" "+o),u(),a(),l}jN.peek=XQ;function jN(e){return e.value||""}function XQ(){return"<"}zN.peek=ZQ;function zN(e,t,n,r){const i=vT(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let l=u.move("![");return l+=u.move(n.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(a=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),a()),l+=u.move(")"),o(),l}function ZQ(){return"!"}$N.peek=JQ;function $N(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const l=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(l+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!l||l!==h?u+=a.move(h+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function JQ(){return"!"}WN.peek=eX;function WN(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function eX(){return"`"}function qN(e,t){const n=hT(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}GN.peek=tX;function GN(e,t,n,r){const i=vT(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(qN(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=c,h}a=n.enter("link"),u=n.enter("label");let l=o.move("[");return l+=o.move(n.containerPhrasing(e,{before:l,after:"](",...o.current()})),l+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),l+=o.move("<"),l+=o.move(n.safe(e.url,{before:l,after:">",...o.current()})),l+=o.move(">")):(u=n.enter("destinationRaw"),l+=o.move(n.safe(e.url,{before:l,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${s}`),l+=o.move(" "+i),l+=o.move(n.safe(e.title,{before:l,after:i,...o.current()})),l+=o.move(i),u()),l+=o.move(")"),a(),l}function tX(e,t,n){return qN(e,n)?"<":"["}KN.peek=nX;function KN(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const l=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(l+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!l||l!==h?u+=a.move(h+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function nX(){return"["}function TT(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rX(e){const t=TT(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function iX(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function YN(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function sX(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?iX(n):TT(n);const a=e.ordered?o==="."?")":".":rX(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),YN(n)===o&&c){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),l}function oX(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function aX(e,t,n,r){const i=oX(n);let s=n.bulletCurrent||TT(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,a.current()),c);return u(),l;function c(h,f,p){return f?(p?"":" ".repeat(o))+h:(p?s:s+" ".repeat(o-s.length))+h}}function uX(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const lX=Am(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cX(e,t,n,r){return(e.children.some(function(o){return lX(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function dX(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}QN.peek=hX;function QN(e,t,n,r){const i=dX(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let u=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const l=u.charCodeAt(0),c=yp(r.before.charCodeAt(r.before.length-1),l,i);c.inside&&(u=jc(l)+u.slice(1));const h=u.charCodeAt(u.length-1),f=yp(r.after.charCodeAt(0),h,i);f.inside&&(u=u.slice(0,-1)+jc(h));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+u+p}function hX(e,t,n){return n.options.strong||"*"}function fX(e,t,n,r){return n.safe(e.value,r)}function pX(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mX(e,t,n){const r=(YN(n)+(n.options.ruleSpaces?" ":"")).repeat(pX(n));return n.options.ruleSpaces?r.slice(0,-1):r}const XN={blockquote:VQ,break:zC,code:$Q,definition:qQ,emphasis:HN,hardBreak:zC,heading:QQ,html:jN,image:zN,imageReference:$N,inlineCode:WN,link:GN,linkReference:KN,list:sX,listItem:aX,paragraph:uX,root:cX,strong:QN,text:fX,thematicBreak:mX};function gX(){return{enter:{table:_X,tableData:$C,tableHeader:$C,tableRow:EX},exit:{codeText:vX,table:yX,tableData:b0,tableHeader:b0,tableRow:b0}}}function _X(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yX(e){this.exit(e),this.data.inTable=void 0}function EX(e){this.enter({type:"tableRow",children:[]},e)}function b0(e){this.exit(e)}function $C(e){this.enter({type:"tableCell",children:[]},e)}function vX(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,TX));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function TX(e,t){return t==="|"?t:e}function wX(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:u,tableRow:a}};function o(p,_,E,b){return l(c(p,E,b),p.align)}function a(p,_,E,b){const y=h(p,E,b),v=l([y]);return v.slice(0,v.indexOf(`
`))}function u(p,_,E,b){const y=E.enter("tableCell"),v=E.enter("phrasing"),w=E.containerPhrasing(p,{...b,before:s,after:s});return v(),y(),w}function l(p,_){return MQ(p,{align:_,alignDelimiters:r,padding:n,stringLength:i})}function c(p,_,E){const b=p.children;let y=-1;const v=[],w=_.enter("table");for(;++y<b.length;)v[y]=h(b[y],_,E);return w(),v}function h(p,_,E){const b=p.children;let y=-1;const v=[],w=_.enter("tableRow");for(;++y<b.length;)v[y]=u(b[y],p,_,E);return w(),v}function f(p,_,E){let b=XN.inlineCode(p,_,E);return E.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function SX(){return{exit:{taskListCheckValueChecked:WC,taskListCheckValueUnchecked:WC,paragraph:CX}}}function bX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:IX}}}function WC(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function CX(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function IX(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=XN.listItem(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(c){return c+o}}function AX(){return[sQ(),IQ(),kQ(),gX(),SX()]}function RX(e){return{extensions:[oQ(),AQ(e),PQ(),wX(e),bX()]}}const xX={tokenize:LX,partial:!0},ZN={tokenize:MX,partial:!0},JN={tokenize:FX,partial:!0},eO={tokenize:VX,partial:!0},kX={tokenize:BX,partial:!0},tO={name:"wwwAutolink",tokenize:OX,previous:rO},nO={name:"protocolAutolink",tokenize:DX,previous:iO},Xi={name:"emailAutolink",tokenize:NX,previous:sO},fi={};function PX(){return{text:fi}}let lo=48;for(;lo<123;)fi[lo]=Xi,lo++,lo===58?lo=65:lo===91&&(lo=97);fi[43]=Xi;fi[45]=Xi;fi[46]=Xi;fi[95]=Xi;fi[72]=[Xi,nO];fi[104]=[Xi,nO];fi[87]=[Xi,tO];fi[119]=[Xi,tO];function NX(e,t,n){const r=this;let i,s;return o;function o(h){return!Ly(h)||!sO.call(r,r.previous)||wT(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(h))}function a(h){return Ly(h)?(e.consume(h),a):h===64?(e.consume(h),u):n(h)}function u(h){return h===46?e.check(kX,c,l)(h):h===45||h===95||pn(h)?(s=!0,e.consume(h),u):c(h)}function l(h){return e.consume(h),i=!0,u}function c(h){return s&&i&&Cn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function OX(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!rO.call(r,r.previous)||wT(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(xX,e.attempt(ZN,e.attempt(JN,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function DX(e,t,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&iO.call(r,r.previous)&&!wT(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),a):n(h)}function a(h){if(Cn(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),a;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),u}return n(h)}function u(h){return h===47?(e.consume(h),s?l:(s=!0,u)):n(h)}function l(h){return h===null||gp(h)||nt(h)||zo(h)||bm(h)?n(h):e.attempt(ZN,e.attempt(JN,c),n)(h)}function c(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function LX(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function MX(e,t,n){let r,i,s;return o;function o(l){return l===46||l===95?e.check(eO,u,a)(l):l===null||nt(l)||zo(l)||l!==45&&bm(l)?u(l):(s=!0,e.consume(l),o)}function a(l){return l===95?r=!0:(i=r,r=void 0),e.consume(l),o}function u(l){return i||r||!s?n(l):t(l)}}function FX(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(eO,t,s)(o):o===null||nt(o)||zo(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function VX(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||nt(a)||zo(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||nt(a)||zo(a)?t(a):r(a)}function s(a){return Cn(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Cn(a)?(e.consume(a),o):n(a)}}function BX(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return pn(s)?n(s):t(s)}}function rO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||nt(e)}function iO(e){return!Cn(e)}function sO(e){return!(e===47||Ly(e))}function Ly(e){return e===43||e===45||e===46||e===95||pn(e)}function wT(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const UX={tokenize:KX,partial:!0};function HX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:WX,continuation:{tokenize:qX},exit:GX}},text:{91:{name:"gfmFootnoteCall",tokenize:$X},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:jX,resolveTo:zX}}}}function jX(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const l=Lr(r.sliceSerialize({start:o.end,end:r.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function zX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function $X(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),u}function u(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(h){if(s>999||h===93&&!o||h===null||h===91||nt(h))return n(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Lr(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return nt(h)||(o=!0),s++,e.consume(h),h===92?c:l}function c(h){return h===91||h===92||h===93?(e.consume(h),s++,l):l(h)}}function WX(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(_){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(_){return _===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(_)}function c(_){if(o>999||_===93&&!a||_===null||_===91||nt(_))return n(_);if(_===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return s=Lr(r.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return nt(_)||(a=!0),o++,e.consume(_),_===92?h:c}function h(_){return _===91||_===92||_===93?(e.consume(_),o++,c):c(_)}function f(_){return _===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),i.includes(s)||i.push(s),We(e,p,"gfmFootnoteDefinitionWhitespace")):n(_)}function p(_){return t(_)}}function qX(e,t,n){return e.check(yd,t,e.attempt(UX,t,n))}function GX(e){e.exit("gfmFootnoteDefinition")}function KX(e,t,n){const r=this;return We(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function YX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let l=u;for(;l--;)if(o[l][0]==="exit"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[l][1].end.offset-o[l][1].start.offset){o[u][1].type="strikethroughSequence",o[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[l][1].start),end:Object.assign({},o[u][1].end)},h={type:"strikethroughText",start:Object.assign({},o[l][1].end),end:Object.assign({},o[u][1].start)},f=[["enter",c,a],["enter",o[l][1],a],["exit",o[l][1],a],["enter",h,a]],p=a.parser.constructs.insideSpan.null;p&&nr(f,f.length,0,Cm(p,o.slice(l+1,u),a)),nr(f,f.length,0,[["exit",h,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",c,a]]),nr(o,l-1,u-l+3,f),u=l+f.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const l=this.previous,c=this.events;let h=0;return f;function f(_){return l===126&&c[c.length-1][1].type!=="characterEscape"?u(_):(o.enter("strikethroughSequenceTemporary"),p(_))}function p(_){const E=yu(l);if(_===126)return h>1?u(_):(o.consume(_),h++,p);if(h<2&&!n)return u(_);const b=o.exit("strikethroughSequenceTemporary"),y=yu(_);return b._open=!y||y===2&&!!E,b._close=!E||E===2&&!!y,a(_)}}}class QX{constructor(){this.map=[]}add(t,n,r){XX(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function XX(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function ZX(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function JX(){return{flow:{null:{name:"table",tokenize:eZ,resolveAll:tZ}}}}function eZ(e,t,n){const r=this;let i=0,s=0,o;return a;function a(S){let D=r.events.length-1;for(;D>-1;){const Q=r.events[D][1].type;if(Q==="lineEnding"||Q==="linePrefix")D--;else break}const O=D>-1?r.events[D][1].type:null,N=O==="tableHead"||O==="tableRow"?L:u;return N===L&&r.parser.lazy[r.now().line]?n(S):N(S)}function u(S){return e.enter("tableHead"),e.enter("tableRow"),l(S)}function l(S){return S===124||(o=!0,s+=1),c(S)}function c(S){return S===null?n(S):Te(S)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),p):n(S):Ve(S)?We(e,c,"whitespace")(S):(s+=1,o&&(o=!1,i+=1),S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),h(S)))}function h(S){return S===null||S===124||nt(S)?(e.exit("data"),c(S)):(e.consume(S),S===92?f:h)}function f(S){return S===92||S===124?(e.consume(S),h):h(S)}function p(S){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(S):(e.enter("tableDelimiterRow"),o=!1,Ve(S)?We(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):_(S))}function _(S){return S===45||S===58?b(S):S===124?(o=!0,e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),E):U(S)}function E(S){return Ve(S)?We(e,b,"whitespace")(S):b(S)}function b(S){return S===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),y):S===45?(s+=1,y(S)):S===null||Te(S)?k(S):U(S)}function y(S){return S===45?(e.enter("tableDelimiterFiller"),v(S)):U(S)}function v(S){return S===45?(e.consume(S),v):S===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(S))}function w(S){return Ve(S)?We(e,k,"whitespace")(S):k(S)}function k(S){return S===124?_(S):S===null||Te(S)?!o||i!==s?U(S):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(S)):U(S)}function U(S){return n(S)}function L(S){return e.enter("tableRow"),A(S)}function A(S){return S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),A):S===null||Te(S)?(e.exit("tableRow"),t(S)):Ve(S)?We(e,A,"whitespace")(S):(e.enter("data"),I(S))}function I(S){return S===null||S===124||nt(S)?(e.exit("data"),A(S)):(e.consume(S),S===92?R:I)}function R(S){return S===92||S===124?(e.consume(S),I):I(S)}}function tZ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,l,c,h;const f=new QX;for(;++n<e.length;){const p=e[n],_=p[1];p[0]==="enter"?_.type==="tableHead"?(a=!1,u!==0&&(qC(f,t,u,l,c),c=void 0,u=0),l={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},f.add(n,0,[["enter",l,t]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},f.add(n,0,[["enter",c,t]])),i=_.type==="tableDelimiterRow"?2:c?3:1):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=Rh(f,t,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=Rh(f,t,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):_.type==="tableHead"?(a=!0,u=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],h=Rh(f,t,s,i,n,h)):o[1]!==0&&(h=Rh(f,t,o,i,n,h)),i=0):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&qC(f,t,u,l,c),f.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=ZX(t.events,n))}return e}function Rh(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},pa(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=pa(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const l=pa(t.events,n[2]),c=pa(t.events,n[3]),h={type:a,start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const f=t.events[n[2]],p=t.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,E=n[3]-n[2]-1;e.add(_,E,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},pa(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function qC(e,t,n,r,i){const s=[],o=pa(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function pa(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nZ={name:"tasklistCheck",tokenize:iZ};function rZ(){return{text:{91:nZ}}}function iZ(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return nt(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return Te(u)?t(u):Ve(u)?e.check({tokenize:sZ},t,n)(u):n(u)}}function sZ(e,t,n){return We(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function oZ(e){return pN([PX(),HX(),YX(e),JX(),rZ()])}const aZ={};function uZ(e){const t=this,n=e||aZ,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(oZ(n)),s.push(AX()),o.push(RX(n))}const GC=/[#.]/g;function lZ(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){GC.lastIndex=i;const a=GC.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function oO(e,t,n){const r=n?fZ(n):void 0;function i(s,o,...a){let u;if(s==null){u={type:"root",children:[]};const l=o;a.unshift(l)}else{u=lZ(s,t);const l=u.tagName.toLowerCase(),c=r?r.get(l):void 0;if(u.tagName=c||l,cZ(o))a.unshift(o);else for(const[h,f]of Object.entries(o))dZ(e,u.properties,h,f)}for(const l of a)My(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function cZ(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function dZ(e,t,n,r){const i=aT(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=eC(r):i.commaSeparated?s=Yb(r):i.commaOrSpaceSeparated?s=eC(Yb(r).join(" ")):s=KC(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?hZ(r):String(r);if(Array.isArray(s)){const o=[];for(const a of s)o.push(KC(i,i.property,a));s=o}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function My(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)My(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?My(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function KC(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Uc(n)===Uc(t)))return!0}return n}function hZ(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function fZ(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const pZ=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mZ=oO(Tm,"div"),gZ=oO(Ou,"g",pZ);function _Z(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const u=YC(t,n[o-1]);a=u===-1?t.length+1:u+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],u=YC(t,a),l=u===-1?t.length+1:u+1;if(a===l)break;n.push(l)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function YC(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const So={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},aO={}.hasOwnProperty,yZ=Object.prototype;function EZ(e,t){const n=t||{};return ST({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ou:Tm,verbose:n.verbose||!1},e)}function ST(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},af(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:uO(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=_Z(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},af(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},af(e,r,n),n}default:return n=vZ(e,t),n}}function uO(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=ST(e,t[n]);r.push(i)}return r}function vZ(e,t){const n=e.schema;e.schema=t.namespaceURI===So.svg?Ou:Tm;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;aO.call(yZ,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?gZ:mZ)(t.tagName,i,uO(e,t.childNodes));if(af(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&ka(u.startTag),c=u&&u.endTag&&ka(u.endTag),h=ST(e,a.content);l&&c&&e.file&&(h.position={start:l.end,end:c.start}),o.content=h}return e.schema=n,o}function af(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=TZ(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function TZ(e,t,n){const r=ka(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)aO.call(n.attrs,o)&&(s[aT(e.schema,o).property]=ka(n.attrs[o]));n.startTag;const a=ka(n.startTag),u=n.endTag?ka(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function ka(e){const t=QC({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=QC({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function QC(e){return e.line&&e.column?e:void 0}class vd{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}vd.prototype.property={};vd.prototype.normal={};vd.prototype.space=null;function lO(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new vd(n,r,t)}function Fy(e){return e.toLowerCase()}class wr{constructor(t,n){this.property=t,this.attribute=n}}wr.prototype.space=null;wr.prototype.boolean=!1;wr.prototype.booleanish=!1;wr.prototype.overloadedBoolean=!1;wr.prototype.number=!1;wr.prototype.commaSeparated=!1;wr.prototype.spaceSeparated=!1;wr.prototype.commaOrSpaceSeparated=!1;wr.prototype.mustUseProperty=!1;wr.prototype.defined=!1;let wZ=0;const Pe=Xo(),kt=Xo(),cO=Xo(),ne=Xo(),st=Xo(),Ya=Xo(),Kn=Xo();function Xo(){return 2**++wZ}const Vy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:kt,commaOrSpaceSeparated:Kn,commaSeparated:Ya,number:ne,overloadedBoolean:cO,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),C0=Object.keys(Vy);class bT extends wr{constructor(t,n,r,i){let s=-1;if(super(t,n),XC(this,"space",i),typeof r=="number")for(;++s<C0.length;){const o=C0[s];XC(this,C0[s],(r&Vy[o])===Vy[o])}}}bT.prototype.defined=!0;function XC(e,t,n){n&&(e[t]=n)}const SZ={}.hasOwnProperty;function Lu(e){const t={},n={};let r;for(r in e.properties)if(SZ.call(e.properties,r)){const i=e.properties[r],s=new bT(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Fy(r)]=r,n[Fy(s.attribute)]=r}return new vd(t,n,e.space)}const dO=Lu({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),hO=Lu({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function fO(e,t){return t in e?e[t]:t}function pO(e,t){return fO(e,t.toLowerCase())}const mO=Lu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:pO,properties:{xmlns:null,xmlnsXLink:null}}),gO=Lu({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:kt,ariaAutoComplete:null,ariaBusy:kt,ariaChecked:kt,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:kt,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:kt,ariaFlowTo:st,ariaGrabbed:kt,ariaHasPopup:null,ariaHidden:kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:ne,ariaLive:null,ariaModal:kt,ariaMultiLine:kt,ariaMultiSelectable:kt,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:kt,ariaReadOnly:kt,ariaRelevant:null,ariaRequired:kt,ariaRoleDescription:st,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:kt,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null}}),bZ=Lu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:pO,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ya,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:st,autoFocus:Pe,autoPlay:Pe,blocking:st,capture:null,charSet:null,checked:Pe,cite:null,className:st,cols:ne,colSpan:null,content:null,contentEditable:kt,controls:Pe,controlsList:st,coords:ne|Ya,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:cO,draggable:kt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:st,height:ne,hidden:Pe,high:ne,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:st,itemRef:st,itemScope:Pe,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:ne,pattern:null,ping:st,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:st,required:Pe,reversed:Pe,rows:ne,rowSpan:ne,sandbox:st,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:kt,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:kt,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:ne,security:null,unselectable:null}}),CZ=Lu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:fO,properties:{about:Kn,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ya,g2:Ya,glyphName:Ya,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:Kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kn,rev:Kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kn,requiredFeatures:Kn,requiredFonts:Kn,requiredFormats:Kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:Kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kn,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),IZ=/^data[-\w.:]+$/i,ZC=/-[a-z]/g,AZ=/[A-Z]/g;function RZ(e,t){const n=Fy(t);let r=t,i=wr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&IZ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(ZC,kZ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!ZC.test(s)){let o=s.replace(AZ,xZ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=bT}return new i(r,t)}function xZ(e){return"-"+e.toLowerCase()}function kZ(e){return e.charAt(1).toUpperCase()}const PZ=lO([hO,dO,mO,gO,bZ],"html"),_O=lO([hO,dO,mO,gO,CZ],"svg"),NZ={},OZ={}.hasOwnProperty,yO=UN("type",{handlers:{root:LZ,element:UZ,text:VZ,comment:BZ,doctype:FZ}});function DZ(e,t){const r=(t||NZ).space;return yO(e,r==="svg"?_O:PZ)}function LZ(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=CT(e.children,n,t),Mu(e,n),n}function MZ(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=CT(e.children,n,t),Mu(e,n),n}function FZ(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Mu(e,t),t}function VZ(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Mu(e,t),t}function BZ(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Mu(e,t),t}function UZ(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=_O);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&OZ.call(e.properties,s)){const u=HZ(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:So[o],childNodes:[],parentNode:null};return a.childNodes=CT(e.children,a,r),Mu(e,a),e.tagName==="template"&&e.content&&(a.content=MZ(e.content,r)),a}function HZ(e,t,n){const r=RZ(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?JP(n):aN(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=So[r.space]}return i}function CT(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=yO(e[r],n);s.parentNode=t,i.push(s)}return i}function Mu(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const jZ=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],zZ=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),mt="";var M;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(M||(M={}));const Pn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function EO(e){return e>=55296&&e<=57343}function $Z(e){return e>=56320&&e<=57343}function WZ(e,t){return(e-55296)*1024+9216+t}function vO(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function TO(e){return e>=64976&&e<=65007||zZ.has(e)}var q;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(q||(q={}));const qZ=65536;class GZ{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qZ,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,o=i+n,a=s+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if($Z(n))return this.pos++,this._addGap(),WZ(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,M.EOF;return this._err(q.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;const r=this.html.charCodeAt(n);return r===M.CARRIAGE_RETURN?M.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let t=this.html.charCodeAt(this.pos);return t===M.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,M.LINE_FEED):t===M.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,EO(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===M.LINE_FEED||t===M.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){vO(t)?this._err(q.controlCharacterInInputStream):TO(t)&&this._err(q.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Me;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Me||(Me={}));function wO(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const KZ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),YZ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function QZ(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=YZ.get(e))!==null&&t!==void 0?t:e}var $t;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})($t||($t={}));const XZ=32;var As;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(As||(As={}));function By(e){return e>=$t.ZERO&&e<=$t.NINE}function ZZ(e){return e>=$t.UPPER_A&&e<=$t.UPPER_F||e>=$t.LOWER_A&&e<=$t.LOWER_F}function JZ(e){return e>=$t.UPPER_A&&e<=$t.UPPER_Z||e>=$t.LOWER_A&&e<=$t.LOWER_Z||By(e)}function eJ(e){return e===$t.EQUALS||JZ(e)}var Ut;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ut||(Ut={}));var Ii;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ii||(Ii={}));class tJ{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ut.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ii.Strict}startEntity(t){this.decodeMode=t,this.state=Ut.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ut.EntityStart:return t.charCodeAt(n)===$t.NUM?(this.state=Ut.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ut.NamedEntity,this.stateNamedEntity(t,n));case Ut.NumericStart:return this.stateNumericStart(t,n);case Ut.NumericDecimal:return this.stateNumericDecimal(t,n);case Ut.NumericHex:return this.stateNumericHex(t,n);case Ut.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|XZ)===$t.LOWER_X?(this.state=Ut.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ut.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(By(i)||ZZ(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(By(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===$t.SEMI)this.consumed+=1;else if(this.decodeMode===Ii.Strict)return 0;return this.emitCodePoint(QZ(this.result),this.consumed),this.errors&&(t!==$t.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&As.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=nJ(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ii.Attribute&&(s===0||eJ(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&As.VALUE_LENGTH)>>14,s!==0){if(o===$t.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ii.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&As.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~As.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ut.NamedEntity:return this.result!==0&&(this.decodeMode!==Ii.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ut.NumericDecimal:return this.emitNumericEntity(0,2);case Ut.NumericHex:return this.emitNumericEntity(0,3);case Ut.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ut.EntityStart:return 0}}}function nJ(e,t,n,r){const i=(t&As.BRANCH_LENGTH)>>7,s=t&As.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var xo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(xo||(xo={}));var mr;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(mr||(mr={}));var z;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(z||(z={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const rJ=new Map([[z.A,m.A],[z.ADDRESS,m.ADDRESS],[z.ANNOTATION_XML,m.ANNOTATION_XML],[z.APPLET,m.APPLET],[z.AREA,m.AREA],[z.ARTICLE,m.ARTICLE],[z.ASIDE,m.ASIDE],[z.B,m.B],[z.BASE,m.BASE],[z.BASEFONT,m.BASEFONT],[z.BGSOUND,m.BGSOUND],[z.BIG,m.BIG],[z.BLOCKQUOTE,m.BLOCKQUOTE],[z.BODY,m.BODY],[z.BR,m.BR],[z.BUTTON,m.BUTTON],[z.CAPTION,m.CAPTION],[z.CENTER,m.CENTER],[z.CODE,m.CODE],[z.COL,m.COL],[z.COLGROUP,m.COLGROUP],[z.DD,m.DD],[z.DESC,m.DESC],[z.DETAILS,m.DETAILS],[z.DIALOG,m.DIALOG],[z.DIR,m.DIR],[z.DIV,m.DIV],[z.DL,m.DL],[z.DT,m.DT],[z.EM,m.EM],[z.EMBED,m.EMBED],[z.FIELDSET,m.FIELDSET],[z.FIGCAPTION,m.FIGCAPTION],[z.FIGURE,m.FIGURE],[z.FONT,m.FONT],[z.FOOTER,m.FOOTER],[z.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[z.FORM,m.FORM],[z.FRAME,m.FRAME],[z.FRAMESET,m.FRAMESET],[z.H1,m.H1],[z.H2,m.H2],[z.H3,m.H3],[z.H4,m.H4],[z.H5,m.H5],[z.H6,m.H6],[z.HEAD,m.HEAD],[z.HEADER,m.HEADER],[z.HGROUP,m.HGROUP],[z.HR,m.HR],[z.HTML,m.HTML],[z.I,m.I],[z.IMG,m.IMG],[z.IMAGE,m.IMAGE],[z.INPUT,m.INPUT],[z.IFRAME,m.IFRAME],[z.KEYGEN,m.KEYGEN],[z.LABEL,m.LABEL],[z.LI,m.LI],[z.LINK,m.LINK],[z.LISTING,m.LISTING],[z.MAIN,m.MAIN],[z.MALIGNMARK,m.MALIGNMARK],[z.MARQUEE,m.MARQUEE],[z.MATH,m.MATH],[z.MENU,m.MENU],[z.META,m.META],[z.MGLYPH,m.MGLYPH],[z.MI,m.MI],[z.MO,m.MO],[z.MN,m.MN],[z.MS,m.MS],[z.MTEXT,m.MTEXT],[z.NAV,m.NAV],[z.NOBR,m.NOBR],[z.NOFRAMES,m.NOFRAMES],[z.NOEMBED,m.NOEMBED],[z.NOSCRIPT,m.NOSCRIPT],[z.OBJECT,m.OBJECT],[z.OL,m.OL],[z.OPTGROUP,m.OPTGROUP],[z.OPTION,m.OPTION],[z.P,m.P],[z.PARAM,m.PARAM],[z.PLAINTEXT,m.PLAINTEXT],[z.PRE,m.PRE],[z.RB,m.RB],[z.RP,m.RP],[z.RT,m.RT],[z.RTC,m.RTC],[z.RUBY,m.RUBY],[z.S,m.S],[z.SCRIPT,m.SCRIPT],[z.SEARCH,m.SEARCH],[z.SECTION,m.SECTION],[z.SELECT,m.SELECT],[z.SOURCE,m.SOURCE],[z.SMALL,m.SMALL],[z.SPAN,m.SPAN],[z.STRIKE,m.STRIKE],[z.STRONG,m.STRONG],[z.STYLE,m.STYLE],[z.SUB,m.SUB],[z.SUMMARY,m.SUMMARY],[z.SUP,m.SUP],[z.TABLE,m.TABLE],[z.TBODY,m.TBODY],[z.TEMPLATE,m.TEMPLATE],[z.TEXTAREA,m.TEXTAREA],[z.TFOOT,m.TFOOT],[z.TD,m.TD],[z.TH,m.TH],[z.THEAD,m.THEAD],[z.TITLE,m.TITLE],[z.TR,m.TR],[z.TRACK,m.TRACK],[z.TT,m.TT],[z.U,m.U],[z.UL,m.UL],[z.SVG,m.SVG],[z.VAR,m.VAR],[z.WBR,m.WBR],[z.XMP,m.XMP]]);function Fu(e){var t;return(t=rJ.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const Z=m,iJ={[Y.HTML]:new Set([Z.ADDRESS,Z.APPLET,Z.AREA,Z.ARTICLE,Z.ASIDE,Z.BASE,Z.BASEFONT,Z.BGSOUND,Z.BLOCKQUOTE,Z.BODY,Z.BR,Z.BUTTON,Z.CAPTION,Z.CENTER,Z.COL,Z.COLGROUP,Z.DD,Z.DETAILS,Z.DIR,Z.DIV,Z.DL,Z.DT,Z.EMBED,Z.FIELDSET,Z.FIGCAPTION,Z.FIGURE,Z.FOOTER,Z.FORM,Z.FRAME,Z.FRAMESET,Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6,Z.HEAD,Z.HEADER,Z.HGROUP,Z.HR,Z.HTML,Z.IFRAME,Z.IMG,Z.INPUT,Z.LI,Z.LINK,Z.LISTING,Z.MAIN,Z.MARQUEE,Z.MENU,Z.META,Z.NAV,Z.NOEMBED,Z.NOFRAMES,Z.NOSCRIPT,Z.OBJECT,Z.OL,Z.P,Z.PARAM,Z.PLAINTEXT,Z.PRE,Z.SCRIPT,Z.SECTION,Z.SELECT,Z.SOURCE,Z.STYLE,Z.SUMMARY,Z.TABLE,Z.TBODY,Z.TD,Z.TEMPLATE,Z.TEXTAREA,Z.TFOOT,Z.TH,Z.THEAD,Z.TITLE,Z.TR,Z.TRACK,Z.UL,Z.WBR,Z.XMP]),[Y.MATHML]:new Set([Z.MI,Z.MO,Z.MN,Z.MS,Z.MTEXT,Z.ANNOTATION_XML]),[Y.SVG]:new Set([Z.TITLE,Z.FOREIGN_OBJECT,Z.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},Uy=new Set([Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6]);z.STYLE,z.SCRIPT,z.XMP,z.IFRAME,z.NOEMBED,z.NOFRAMES,z.PLAINTEXT;var V;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(V||(V={}));const It={DATA:V.DATA,RCDATA:V.RCDATA,RAWTEXT:V.RAWTEXT,SCRIPT_DATA:V.SCRIPT_DATA,PLAINTEXT:V.PLAINTEXT,CDATA_SECTION:V.CDATA_SECTION};function sJ(e){return e>=M.DIGIT_0&&e<=M.DIGIT_9}function xl(e){return e>=M.LATIN_CAPITAL_A&&e<=M.LATIN_CAPITAL_Z}function oJ(e){return e>=M.LATIN_SMALL_A&&e<=M.LATIN_SMALL_Z}function ds(e){return oJ(e)||xl(e)}function JC(e){return ds(e)||sJ(e)}function xh(e){return e+32}function SO(e){return e===M.SPACE||e===M.LINE_FEED||e===M.TABULATION||e===M.FORM_FEED}function eI(e){return SO(e)||e===M.SOLIDUS||e===M.GREATER_THAN_SIGN}function aJ(e){return e===M.NULL?q.nullCharacterReference:e>1114111?q.characterReferenceOutsideUnicodeRange:EO(e)?q.surrogateCharacterReference:TO(e)?q.noncharacterCharacterReference:vO(e)||e===M.CARRIAGE_RETURN?q.controlCharacterReference:null}class uJ{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=V.DATA,this.returnState=V.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new GZ(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new tJ(KZ,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(q.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(q.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=aJ(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Me.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Me.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Me.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Me.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(wO(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(q.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Fu(t.tagName),t.type===Me.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(q.endTagWithAttributes),t.selfClosing&&this._err(q.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Me.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Me.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Me.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Me.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=SO(t)?Me.WHITESPACE_CHARACTER:t===M.NULL?Me.NULL_CHARACTER:Me.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Me.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=V.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ii.Attribute:Ii.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===V.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case V.DATA:{this._stateData(t);break}case V.RCDATA:{this._stateRcdata(t);break}case V.RAWTEXT:{this._stateRawtext(t);break}case V.SCRIPT_DATA:{this._stateScriptData(t);break}case V.PLAINTEXT:{this._statePlaintext(t);break}case V.TAG_OPEN:{this._stateTagOpen(t);break}case V.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case V.TAG_NAME:{this._stateTagName(t);break}case V.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case V.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case V.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case V.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case V.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case V.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case V.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case V.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case V.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case V.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case V.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case V.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case V.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case V.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case V.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case V.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case V.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case V.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case V.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case V.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case V.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case V.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case V.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case V.BOGUS_COMMENT:{this._stateBogusComment(t);break}case V.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case V.COMMENT_START:{this._stateCommentStart(t);break}case V.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case V.COMMENT:{this._stateComment(t);break}case V.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case V.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case V.COMMENT_END:{this._stateCommentEnd(t);break}case V.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case V.DOCTYPE:{this._stateDoctype(t);break}case V.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case V.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case V.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case V.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case V.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case V.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case V.CDATA_SECTION:{this._stateCdataSection(t);break}case V.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case V.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case V.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case V.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=V.TAG_OPEN;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitCodePoint(t);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case M.AMPERSAND:{this._startCharacterReference();break}case M.LESS_THAN_SIGN:{this.state=V.RCDATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(mt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case M.LESS_THAN_SIGN:{this.state=V.RAWTEXT_LESS_THAN_SIGN;break}case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(mt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(mt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(mt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ds(t))this._createStartTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case M.EXCLAMATION_MARK:{this.state=V.MARKUP_DECLARATION_OPEN;break}case M.SOLIDUS:{this.state=V.END_TAG_OPEN;break}case M.QUESTION_MARK:{this._err(q.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t);break}case M.EOF:{this._err(q.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=V.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ds(t))this._createEndTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case M.GREATER_THAN_SIGN:{this._err(q.missingEndTagName),this.state=V.DATA;break}case M.EOF:{this._err(q.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=V.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.tagName+=mt;break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(xl(t)?xh(t):t)}}_stateRcdataLessThanSign(t){t===M.SOLIDUS?this.state=V.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ds(t)?(this.state=V.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=V.BEFORE_ATTRIBUTE_NAME,!1;case M.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=V.SELF_CLOSING_START_TAG,!1;case M.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=V.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===M.SOLIDUS?this.state=V.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ds(t)?(this.state=V.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case M.SOLIDUS:{this.state=V.SCRIPT_DATA_END_TAG_OPEN;break}case M.EXCLAMATION_MARK:{this.state=V.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=V.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ds(t)?(this.state=V.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===M.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===M.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(mt);break}case M.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(mt);break}case M.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(mt);break}case M.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===M.SOLIDUS?this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ds(t)?(this._emitChars("<"),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ds(t)?(this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Pn.SCRIPT,!1)&&eI(this.preprocessor.peek(Pn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Pn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(mt);break}case M.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mt);break}case M.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mt);break}case M.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===M.SOLIDUS?(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Pn.SCRIPT,!1)&&eI(this.preprocessor.peek(Pn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Pn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._err(q.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=V.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this._leaveAttrName(),this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._leaveAttrName(),this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:{this._err(q.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.name+=mt;break}default:this.currentAttr.name+=String.fromCodePoint(xl(t)?xh(t):t)}}_stateAfterAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case M.EQUALS_SIGN:{this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{this.state=V.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this.state=V.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(q.missingAttributeValue),this.state=V.DATA,this.emitCurrentTagToken();break}default:this.state=V.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case M.QUOTATION_MARK:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=mt;break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case M.APOSTROPHE:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=mt;break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=mt;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:case M.EQUALS_SIGN:case M.GRAVE_ACCENT:{this._err(q.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this._leaveAttrValue(),this.state=V.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBetweenAttributes),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case M.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=V.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.unexpectedSolidusInTag),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case M.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.data+=mt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Pn.DASH_DASH,!0)?(this._createCommentToken(Pn.DASH_DASH.length+1),this.state=V.COMMENT_START):this._consumeSequenceIfMatch(Pn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Pn.DOCTYPE.length+1),this.state=V.DOCTYPE):this._consumeSequenceIfMatch(Pn.CDATA_START,!0)?this.inForeignNode?this.state=V.CDATA_SECTION:(this._err(q.cdataInHtmlContent),this._createCommentToken(Pn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=V.BOGUS_COMMENT):this._ensureHibernation()||(this._err(q.incorrectlyOpenedComment),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case M.HYPHEN_MINUS:{this.state=V.COMMENT_START_DASH;break}case M.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=V.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case M.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=V.DATA,this.emitCurrentComment(n);break}case M.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=V.COMMENT_END_DASH;break}case M.LESS_THAN_SIGN:{n.data+="<",this.state=V.COMMENT_LESS_THAN_SIGN;break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.data+=mt;break}case M.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case M.EXCLAMATION_MARK:{n.data+="!",this.state=V.COMMENT_LESS_THAN_SIGN_BANG;break}case M.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===M.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=V.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===M.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=V.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==M.GREATER_THAN_SIGN&&t!==M.EOF&&this._err(q.nestedComment),this.state=V.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case M.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case M.EXCLAMATION_MARK:{this.state=V.COMMENT_END_BANG;break}case M.HYPHEN_MINUS:{n.data+="-";break}case M.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{n.data+="--!",this.state=V.COMMENT_END_DASH;break}case M.GREATER_THAN_SIGN:{this._err(q.incorrectlyClosedComment),this.state=V.DATA,this.emitCurrentComment(n);break}case M.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=V.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case M.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBeforeDoctypeName),this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(xl(t))this._createDoctypeToken(String.fromCharCode(xh(t))),this.state=V.DOCTYPE_NAME;else switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.NULL:{this._err(q.unexpectedNullCharacter),this._createDoctypeToken(mt),this.state=V.DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this._err(q.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=V.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=V.AFTER_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.name+=mt;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(xl(t)?xh(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Pn.PUBLIC,!1)?this.state=V.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Pn.SYSTEM,!1)?this.state=V.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(q.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=mt;break}case M.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=mt;break}case M.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case M.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.QUOTATION_MARK:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=mt;break}case M.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=mt;break}case M.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case M.NULL:{this._err(q.unexpectedNullCharacter);break}case M.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case M.RIGHT_SQUARE_BRACKET:{this.state=V.CDATA_SECTION_BRACKET;break}case M.EOF:{this._err(q.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===M.RIGHT_SQUARE_BRACKET?this.state=V.CDATA_SECTION_END:(this._emitChars("]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case M.GREATER_THAN_SIGN:{this.state=V.DATA;break}case M.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(M.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&JC(this.preprocessor.peek(1))?V.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){JC(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===M.SEMICOLON&&this._err(q.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const bO=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),tI=new Set([...bO,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),Ep=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),lJ=new Set([...Ep,m.OL,m.UL]),cJ=new Set([...Ep,m.BUTTON]),nI=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),rI=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),dJ=new Set([m.TR,m.TEMPLATE,m.HTML]),hJ=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),fJ=new Set([m.TABLE,m.TEMPLATE,m.HTML]),pJ=new Set([m.TD,m.TH]);class mJ{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Uy,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pJ,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(fJ,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(hJ,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(dJ,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case Y.SVG:{if(rI.has(i))return!1;break}case Y.MATHML:{if(nI.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Ep)}hasInListItemScope(t){return this.hasInDynamicScope(t,lJ)}hasInButtonScope(t){return this.hasInDynamicScope(t,cJ)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(Uy.has(n))return!0;if(Ep.has(n))return!1;break}case Y.SVG:{if(rI.has(n))return!1;break}case Y.MATHML:{if(nI.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&bO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&tI.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&tI.has(this.currentTagId);)this.pop()}}const I0=3;var Yr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Yr||(Yr={}));const iI={type:Yr.Marker};class gJ{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Yr.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<I0)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<I0)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=I0&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(iI)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Yr.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Yr.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(iI);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Yr.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Yr.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Yr.Element&&n.element===t)}}const hs={createDocument(){return{nodeName:"#document",mode:mr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};hs.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(hs.isTextNode(n)){n.value+=t;return}}hs.appendChild(e,hs.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&hs.isTextNode(r)?r.value+=t:hs.insertBefore(e,hs.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},CO="html",_J="about:legacy-compat",yJ="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",IO=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],EJ=[...IO,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],vJ=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),AO=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],TJ=[...AO,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function sI(e,t){return t.some(n=>e.startsWith(n))}function wJ(e){return e.name===CO&&e.publicId===null&&(e.systemId===null||e.systemId===_J)}function SJ(e){if(e.name!==CO)return mr.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===yJ)return mr.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),vJ.has(n))return mr.QUIRKS;let r=t===null?EJ:IO;if(sI(n,r))return mr.QUIRKS;if(r=t===null?AO:TJ,sI(n,r))return mr.LIMITED_QUIRKS}return mr.NO_QUIRKS}const oI={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},bJ="definitionurl",CJ="definitionURL",IJ=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),AJ=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),RJ=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),xJ=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function kJ(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===xo.COLOR||r===xo.SIZE||r===xo.FACE)||xJ.has(t)}function RO(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===bJ){e.attrs[t].name=CJ;break}}function xO(e){for(let t=0;t<e.attrs.length;t++){const n=IJ.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function IT(e){for(let t=0;t<e.attrs.length;t++){const n=AJ.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function PJ(e){const t=RJ.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Fu(e.tagName))}function NJ(e,t){return t===Y.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function OJ(e,t,n){if(t===Y.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===xo.ENCODING){const i=n[r].value.toLowerCase();return i===oI.TEXT_HTML||i===oI.APPLICATION_XML}}return t===Y.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function DJ(e,t,n,r){return(!r||r===Y.HTML)&&OJ(e,t,n)||(!r||r===Y.MATHML)&&NJ(e,t)}const LJ="hidden",MJ=8,FJ=3;var H;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(H||(H={}));const VJ={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},kO=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),aI={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:hs,onParseError:null};class uI{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=H.INITIAL,this.originalInsertionMode=H.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...aI,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new uJ(this.options,this),this.activeFormattingElements=new gJ(this.treeAdapter),this.fragmentContextID=r?Fu(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new mJ(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...aI,...n};t??(t=r.treeAdapter.createElement(z.TEMPLATE,Y.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Y.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===m.TEMPLATE&&s.tmplInsertionModeStack.unshift(H.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:VJ,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=H.TEXT}switchToPlaintextParsing(){this.insertionMode=H.TEXT,this.originalInsertionMode=H.IN_BODY,this.tokenizer.state=It.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===z.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=It.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=It.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=It.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=It.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(z.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Me.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(n)===z.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Me.CHARACTER:{this.onCharacter(t);break}case Me.NULL_CHARACTER:{this.onNullCharacter(t);break}case Me.COMMENT:{this.onComment(t);break}case Me.DOCTYPE:{this.onDoctype(t);break}case Me.START_TAG:{this._processStartTag(t);break}case Me.END_TAG:{this.onEndTag(t);break}case Me.EOF:{this.onEof(t);break}case Me.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return DJ(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Yr.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=H.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=H.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=H.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=H.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=H.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=H.IN_TABLE;return}case m.BODY:{this.insertionMode=H.IN_BODY;return}case m.FRAMESET:{this.insertionMode=H.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?H.AFTER_HEAD:H.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=H.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=H.IN_HEAD;return}break}}this.insertionMode=H.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=H.IN_SELECT_IN_TABLE;return}}this.insertionMode=H.IN_SELECT}_isElementCausesFosterParenting(t){return kO.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return iJ[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pte(this,t);return}switch(this.insertionMode){case H.INITIAL:{pl(this,t);break}case H.BEFORE_HTML:{tc(this,t);break}case H.BEFORE_HEAD:{nc(this,t);break}case H.IN_HEAD:{rc(this,t);break}case H.IN_HEAD_NO_SCRIPT:{ic(this,t);break}case H.AFTER_HEAD:{sc(this,t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:{NO(this,t);break}case H.TEXT:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{A0(this,t);break}case H.IN_TABLE_TEXT:{VO(this,t);break}case H.IN_COLUMN_GROUP:{vp(this,t);break}case H.AFTER_BODY:{Tp(this,t);break}case H.AFTER_AFTER_BODY:{uf(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){fte(this,t);return}switch(this.insertionMode){case H.INITIAL:{pl(this,t);break}case H.BEFORE_HTML:{tc(this,t);break}case H.BEFORE_HEAD:{nc(this,t);break}case H.IN_HEAD:{rc(this,t);break}case H.IN_HEAD_NO_SCRIPT:{ic(this,t);break}case H.AFTER_HEAD:{sc(this,t);break}case H.TEXT:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{A0(this,t);break}case H.IN_COLUMN_GROUP:{vp(this,t);break}case H.AFTER_BODY:{Tp(this,t);break}case H.AFTER_AFTER_BODY:{uf(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Hy(this,t);return}switch(this.insertionMode){case H.INITIAL:case H.BEFORE_HTML:case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_TEMPLATE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{Hy(this,t);break}case H.IN_TABLE_TEXT:{ml(this,t);break}case H.AFTER_BODY:{WJ(this,t);break}case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{qJ(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case H.INITIAL:{GJ(this,t);break}case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:{this._err(t,q.misplacedDoctype);break}case H.IN_TABLE_TEXT:{ml(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,q.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mte(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{pl(this,t);break}case H.BEFORE_HTML:{KJ(this,t);break}case H.BEFORE_HEAD:{QJ(this,t);break}case H.IN_HEAD:{jr(this,t);break}case H.IN_HEAD_NO_SCRIPT:{JJ(this,t);break}case H.AFTER_HEAD:{tee(this,t);break}case H.IN_BODY:{En(this,t);break}case H.IN_TABLE:{vu(this,t);break}case H.IN_TABLE_TEXT:{ml(this,t);break}case H.IN_CAPTION:{Xee(this,t);break}case H.IN_COLUMN_GROUP:{xT(this,t);break}case H.IN_TABLE_BODY:{Nm(this,t);break}case H.IN_ROW:{Om(this,t);break}case H.IN_CELL:{ete(this,t);break}case H.IN_SELECT:{HO(this,t);break}case H.IN_SELECT_IN_TABLE:{nte(this,t);break}case H.IN_TEMPLATE:{ite(this,t);break}case H.AFTER_BODY:{ote(this,t);break}case H.IN_FRAMESET:{ate(this,t);break}case H.AFTER_FRAMESET:{lte(this,t);break}case H.AFTER_AFTER_BODY:{dte(this,t);break}case H.AFTER_AFTER_FRAMESET:{hte(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gte(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{pl(this,t);break}case H.BEFORE_HTML:{YJ(this,t);break}case H.BEFORE_HEAD:{XJ(this,t);break}case H.IN_HEAD:{ZJ(this,t);break}case H.IN_HEAD_NO_SCRIPT:{eee(this,t);break}case H.AFTER_HEAD:{nee(this,t);break}case H.IN_BODY:{Pm(this,t);break}case H.TEXT:{Hee(this,t);break}case H.IN_TABLE:{zc(this,t);break}case H.IN_TABLE_TEXT:{ml(this,t);break}case H.IN_CAPTION:{Zee(this,t);break}case H.IN_COLUMN_GROUP:{Jee(this,t);break}case H.IN_TABLE_BODY:{jy(this,t);break}case H.IN_ROW:{UO(this,t);break}case H.IN_CELL:{tte(this,t);break}case H.IN_SELECT:{jO(this,t);break}case H.IN_SELECT_IN_TABLE:{rte(this,t);break}case H.IN_TEMPLATE:{ste(this,t);break}case H.AFTER_BODY:{$O(this,t);break}case H.IN_FRAMESET:{ute(this,t);break}case H.AFTER_FRAMESET:{cte(this,t);break}case H.AFTER_AFTER_BODY:{uf(this,t);break}}}onEof(t){switch(this.insertionMode){case H.INITIAL:{pl(this,t);break}case H.BEFORE_HTML:{tc(this,t);break}case H.BEFORE_HEAD:{nc(this,t);break}case H.IN_HEAD:{rc(this,t);break}case H.IN_HEAD_NO_SCRIPT:{ic(this,t);break}case H.AFTER_HEAD:{sc(this,t);break}case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{MO(this,t);break}case H.TEXT:{jee(this,t);break}case H.IN_TABLE_TEXT:{ml(this,t);break}case H.IN_TEMPLATE:{zO(this,t);break}case H.AFTER_BODY:case H.IN_FRAMESET:case H.AFTER_FRAMESET:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{RT(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===M.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.TEXT:case H.IN_COLUMN_GROUP:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{this._insertCharacters(t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:case H.AFTER_BODY:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{PO(this,t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{A0(this,t);break}case H.IN_TABLE_TEXT:{FO(this,t);break}}}}function BJ(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):LO(e,t),n}function UJ(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function HJ(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=FJ;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=jJ(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function jJ(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function zJ(e,t,n){const r=e.treeAdapter.getTagName(t),i=Fu(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===m.TEMPLATE&&s===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function $J(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function AT(e,t){for(let n=0;n<MJ;n++){const r=BJ(e,t);if(!r)break;const i=UJ(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=HJ(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&zJ(e,o,s),$J(e,i,r)}}function Hy(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function WJ(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qJ(e,t){e._appendCommentNode(t,e.document)}function RT(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function GJ(e,t){e._setDocumentType(t);const n=t.forceQuirks?mr.QUIRKS:SJ(t);wJ(t)||e._err(t,q.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=H.BEFORE_HTML}function pl(e,t){e._err(t,q.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,mr.QUIRKS),e.insertionMode=H.BEFORE_HTML,e._processToken(t)}function KJ(e,t){t.tagID===m.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=H.BEFORE_HEAD):tc(e,t)}function YJ(e,t){const n=t.tagID;(n===m.HTML||n===m.HEAD||n===m.BODY||n===m.BR)&&tc(e,t)}function tc(e,t){e._insertFakeRootElement(),e.insertionMode=H.BEFORE_HEAD,e._processToken(t)}function QJ(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD;break}default:nc(e,t)}}function XJ(e,t){const n=t.tagID;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?nc(e,t):e._err(t,q.endTagWithoutMatchingOpenElement)}function nc(e,t){e._insertFakeElement(z.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD,e._processToken(t)}function jr(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,It.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,It.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=H.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,It.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,It.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=H.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(H.IN_TEMPLATE);break}case m.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:rc(e,t)}}function ZJ(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=H.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{rc(e,t);break}case m.TEMPLATE:{Zo(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function Zo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,q.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,q.endTagWithoutMatchingOpenElement)}function rc(e,t){e.openElements.pop(),e.insertionMode=H.AFTER_HEAD,e._processToken(t)}function JJ(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{jr(e,t);break}case m.NOSCRIPT:{e._err(t,q.nestedNoscriptInHead);break}default:ic(e,t)}}function eee(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=H.IN_HEAD;break}case m.BR:{ic(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ic(e,t){const n=t.type===Me.EOF?q.openElementsLeftAfterEof:q.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=H.IN_HEAD,e._processToken(t)}function tee(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=H.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=H.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,q.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),jr(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:sc(e,t)}}function nee(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{sc(e,t);break}case m.TEMPLATE:{Zo(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function sc(e,t){e._insertFakeElement(z.BODY,m.BODY),e.insertionMode=H.IN_BODY,km(e,t)}function km(e,t){switch(t.type){case Me.CHARACTER:{NO(e,t);break}case Me.WHITESPACE_CHARACTER:{PO(e,t);break}case Me.COMMENT:{Hy(e,t);break}case Me.START_TAG:{En(e,t);break}case Me.END_TAG:{Pm(e,t);break}case Me.EOF:{MO(e,t);break}}}function PO(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function NO(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ree(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function iee(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function see(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=H.IN_FRAMESET)}function oee(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function aee(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Uy.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function uee(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lee(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function cee(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===m.LI&&i===m.LI||(n===m.DD||n===m.DT)&&(i===m.DD||i===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==m.ADDRESS&&i!==m.DIV&&i!==m.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function dee(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=It.PLAINTEXT}function hee(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function fee(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(z.A);n&&(AT(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pee(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mee(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(AT(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gee(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function _ee(e,t){e.treeAdapter.getDocumentMode(e.document)!==mr.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=H.IN_TABLE}function OO(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function DO(e){const t=wO(e,xo.TYPE);return t!=null&&t.toLowerCase()===LJ}function yee(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),DO(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Eee(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function vee(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Tee(e,t){t.tagName=z.IMG,t.tagID=m.IMG,OO(e,t)}function wee(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=It.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=H.TEXT}function See(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,It.RAWTEXT)}function bee(e,t){e.framesetOk=!1,e._switchToTextParsing(t,It.RAWTEXT)}function lI(e,t){e._switchToTextParsing(t,It.RAWTEXT)}function Cee(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===H.IN_TABLE||e.insertionMode===H.IN_CAPTION||e.insertionMode===H.IN_TABLE_BODY||e.insertionMode===H.IN_ROW||e.insertionMode===H.IN_CELL?H.IN_SELECT_IN_TABLE:H.IN_SELECT}function Iee(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Aee(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function Ree(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,Y.HTML)}function xee(e,t){e._reconstructActiveFormattingElements(),RO(t),IT(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function kee(e,t){e._reconstructActiveFormattingElements(),xO(t),IT(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function cI(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function En(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{pee(e,t);break}case m.A:{fee(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{aee(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{oee(e,t);break}case m.LI:case m.DD:case m.DT:{cee(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{OO(e,t);break}case m.HR:{vee(e,t);break}case m.RB:case m.RTC:{Aee(e,t);break}case m.RT:case m.RP:{Ree(e,t);break}case m.PRE:case m.LISTING:{uee(e,t);break}case m.XMP:{See(e,t);break}case m.SVG:{kee(e,t);break}case m.HTML:{ree(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{jr(e,t);break}case m.BODY:{iee(e,t);break}case m.FORM:{lee(e,t);break}case m.NOBR:{mee(e,t);break}case m.MATH:{xee(e,t);break}case m.TABLE:{_ee(e,t);break}case m.INPUT:{yee(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{Eee(e,t);break}case m.IMAGE:{Tee(e,t);break}case m.BUTTON:{hee(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{gee(e,t);break}case m.IFRAME:{bee(e,t);break}case m.SELECT:{Cee(e,t);break}case m.OPTION:case m.OPTGROUP:{Iee(e,t);break}case m.NOEMBED:case m.NOFRAMES:{lI(e,t);break}case m.FRAMESET:{see(e,t);break}case m.TEXTAREA:{wee(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?lI(e,t):cI(e,t);break}case m.PLAINTEXT:{dee(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:cI(e,t)}}function Pee(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=H.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Nee(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=H.AFTER_BODY,$O(e,t))}function Oee(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Dee(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):n&&e.openElements.remove(n))}function Lee(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(z.P,m.P),e._closePElement()}function Mee(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function Fee(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Vee(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Bee(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Uee(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(z.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function LO(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function Pm(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{AT(e,t);break}case m.P:{Lee(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{Oee(e,t);break}case m.LI:{Mee(e);break}case m.DD:case m.DT:{Fee(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{Vee(e);break}case m.BR:{Uee(e);break}case m.BODY:{Pee(e,t);break}case m.HTML:{Nee(e,t);break}case m.FORM:{Dee(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{Bee(e,t);break}case m.TEMPLATE:{Zo(e,t);break}default:LO(e,t)}}function MO(e,t){e.tmplInsertionModeStack.length>0?zO(e,t):RT(e,t)}function Hee(e,t){var n;t.tagID===m.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function jee(e,t){e._err(t,q.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function A0(e,t){if(e.openElements.currentTagId!==void 0&&kO.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=H.IN_TABLE_TEXT,t.type){case Me.CHARACTER:{VO(e,t);break}case Me.WHITESPACE_CHARACTER:{FO(e,t);break}}else Td(e,t)}function zee(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=H.IN_CAPTION}function $ee(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=H.IN_COLUMN_GROUP}function Wee(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(z.COLGROUP,m.COLGROUP),e.insertionMode=H.IN_COLUMN_GROUP,xT(e,t)}function qee(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=H.IN_TABLE_BODY}function Gee(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(z.TBODY,m.TBODY),e.insertionMode=H.IN_TABLE_BODY,Nm(e,t)}function Kee(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Yee(e,t){DO(t)?e._appendElement(t,Y.HTML):Td(e,t),t.ackSelfClosing=!0}function Qee(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function vu(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{Gee(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{jr(e,t);break}case m.COL:{Wee(e,t);break}case m.FORM:{Qee(e,t);break}case m.TABLE:{Kee(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{qee(e,t);break}case m.INPUT:{Yee(e,t);break}case m.CAPTION:{zee(e,t);break}case m.COLGROUP:{$ee(e,t);break}default:Td(e,t)}}function zc(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{Zo(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Td(e,t)}}function Td(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,km(e,t),e.fosterParentingEnabled=n}function FO(e,t){e.pendingCharacterTokens.push(t)}function VO(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function ml(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Td(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const BO=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function Xee(e,t){const n=t.tagID;BO.has(n)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,vu(e,t)):En(e,t)}function Zee(e,t){const n=t.tagID;switch(n){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,n===m.TABLE&&zc(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Pm(e,t)}}function xT(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{jr(e,t);break}default:vp(e,t)}}function Jee(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case m.TEMPLATE:{Zo(e,t);break}case m.COL:break;default:vp(e,t)}}function vp(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE,e._processToken(t))}function Nm(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=H.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(z.TR,m.TR),e.insertionMode=H.IN_ROW,Om(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,vu(e,t));break}default:vu(e,t)}}function jy(e,t){const n=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,zc(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:zc(e,t)}}function Om(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=H.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Nm(e,t));break}default:vu(e,t)}}function UO(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,jy(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,jy(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:zc(e,t)}}function ete(e,t){const n=t.tagID;BO.has(n)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),Om(e,t)):En(e,t)}function tte(e,t){const n=t.tagID;switch(n){case m.TD:case m.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),UO(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Pm(e,t)}}function HO(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{jr(e,t);break}}}function jO(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{Zo(e,t);break}}}function nte(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):HO(e,t)}function rte(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):jO(e,t)}function ite(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{jr(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=H.IN_TABLE,e.insertionMode=H.IN_TABLE,vu(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=H.IN_COLUMN_GROUP,e.insertionMode=H.IN_COLUMN_GROUP,xT(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=H.IN_TABLE_BODY,e.insertionMode=H.IN_TABLE_BODY,Nm(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=H.IN_ROW,e.insertionMode=H.IN_ROW,Om(e,t);break}default:e.tmplInsertionModeStack[0]=H.IN_BODY,e.insertionMode=H.IN_BODY,En(e,t)}}function ste(e,t){t.tagID===m.TEMPLATE&&Zo(e,t)}function zO(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):RT(e,t)}function ote(e,t){t.tagID===m.HTML?En(e,t):Tp(e,t)}function $O(e,t){var n;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=H.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Tp(e,t)}function Tp(e,t){e.insertionMode=H.IN_BODY,km(e,t)}function ate(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.FRAMESET:{e._insertElement(t,Y.HTML);break}case m.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{jr(e,t);break}}}function ute(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=H.AFTER_FRAMESET))}function lte(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.NOFRAMES:{jr(e,t);break}}}function cte(e,t){t.tagID===m.HTML&&(e.insertionMode=H.AFTER_AFTER_FRAMESET)}function dte(e,t){t.tagID===m.HTML?En(e,t):uf(e,t)}function uf(e,t){e.insertionMode=H.IN_BODY,km(e,t)}function hte(e,t){switch(t.tagID){case m.HTML:{En(e,t);break}case m.NOFRAMES:{jr(e,t);break}}}function fte(e,t){t.chars=mt,e._insertCharacters(t)}function pte(e,t){e._insertCharacters(t),e.framesetOk=!1}function WO(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mte(e,t){if(kJ(t))WO(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?RO(t):r===Y.SVG&&(PJ(t),xO(t)),IT(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function gte(e,t){if(t.tagID===m.P||t.tagID===m.BR){WO(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}z.AREA,z.BASE,z.BASEFONT,z.BGSOUND,z.BR,z.COL,z.EMBED,z.FRAME,z.HR,z.IMG,z.INPUT,z.KEYGEN,z.LINK,z.META,z.PARAM,z.SOURCE,z.TRACK,z.WBR;const _te=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,yte=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),dI={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function qO(e,t){const n=Rte(e),r=UN("type",{handlers:{root:Ete,element:vte,text:Tte,comment:KO,doctype:wte,raw:bte},unknown:Cte}),i={parser:n?new uI(dI):uI.getFragmentParser(void 0,dI),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Vu(i,hi());const s=n?i.parser.document:i.parser.getFragment(),o=EZ(s,{file:i.options.file});return i.stitches&&xm(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const h=l.children;return h[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function GO(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Ete(e,t){GO(e.children,t)}function vte(e,t){Ite(e,t),GO(e.children,t),Ate(e,t)}function Tte(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Me.CHARACTER,chars:e.value,location:wd(e)};Vu(t,hi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function wte(e,t){const n={type:Me.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:wd(e)};Vu(t,hi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Ste(e,t){t.stitches=!0;const n=xte(e);if("children"in e&&"children"in n){const r=qO({type:"root",children:e.children},t.options);n.children=r.children}KO({type:"comment",value:{stitch:n}},t)}function KO(e,t){const n=e.value,r={type:Me.COMMENT,data:n,location:wd(e)};Vu(t,hi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function bte(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,YO(t,hi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(_te,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Cte(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))Ste(n,t);else{let r="";throw yte.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Vu(e,t){YO(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=It.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function YO(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Ite(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===It.PLAINTEXT)return;Vu(t,hi(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:So.html;i===So.html&&n==="svg"&&(i=So.svg);const s=DZ({...e,children:[]},{space:i===So.svg?"svg":"html"}),o={type:Me.START_TAG,tagName:n,tagID:Fu(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:wd(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function Ate(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&jZ.includes(n)||t.parser.tokenizer.state===It.PLAINTEXT)return;Vu(t,Sm(e));const r={type:Me.END_TAG,tagName:n,tagID:Fu(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:wd(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===It.RCDATA||t.parser.tokenizer.state===It.RAWTEXT||t.parser.tokenizer.state===It.SCRIPT_DATA)&&(t.parser.tokenizer.state=It.DATA)}function Rte(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function wd(e){const t=hi(e)||{line:void 0,column:void 0,offset:void 0},n=Sm(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function xte(e){return"children"in e?Eu({...e,children:[]}):Eu(e)}function kte(e){return function(t,n){return qO(t,{...e,file:n})}}function Pte({children:e}){return C.jsx(YY,{remarkPlugins:[uZ],rehypePlugins:[kte],components:{code:({children:t,...n})=>C.jsx("code",{className:"bg-gray-200 rounded-md p-1",...n,children:t}),pre:({children:t,...n})=>C.jsx("pre",{className:"bg-gray-200 rounded-md p-1 overflow-x-auto",...n,children:t}),h1:({children:t,...n})=>C.jsx("h1",{className:"text-4xl font-bold",...n,children:t}),h2:({children:t,...n})=>C.jsx("h2",{className:"text-3xl font-bold",...n,children:t}),h3:({children:t,...n})=>C.jsx("h3",{className:"text-2xl font-bold",...n,children:t}),h4:({children:t,...n})=>C.jsx("h4",{className:"text-xl font-bold",...n,children:t}),h5:({children:t,...n})=>C.jsx("h5",{className:"text-lg font-bold",...n,children:t}),h6:({children:t,...n})=>C.jsx("h6",{className:"text-base font-bold",...n,children:t}),ul:({children:t,...n})=>C.jsx("ul",{className:"list-disc pl-4",...n,children:t}),ol:({children:t,...n})=>C.jsx("ol",{className:"list-decimal pl-4",...n,children:t})},children:e})}function Nte({challenge:e,instances:t,solved:n}){var w;const{firestore:r,storage:i,functions:s}=Vt(),{toast:o}=fm(),[a,u]=x.useState(new Date),[l,c]=x.useState(0),[h,f]=x.useState(null),[p,_]=x.useState(!1),[E,b]=x.useState(!1);x.useEffect(()=>{const k=Ht(r,"solves").withConverter(pm),U=li(k,hd("challenge","==",Mn(r,"challenges",e._ref.id)));Uv(U).then(L=>{c(L.data().count)})},[e]);const y=async()=>{try{_(!0),await ip(s,"spawnInstance")({challengeId:e._ref.id,tenantId:Dc})}catch(k){o({title:"Failed to spawn instance",description:k.message})}_(!1)},v=wW({defaultValues:{flag:""},onSubmit:async({value:{flag:k}})=>{try{b(!0),await ip(s,"submitFlag")({challengeId:e._ref.id,tenantId:Dc,flag:k}),o({title:"Flag submitted"})}catch(U){o({title:"Failed to submit flag",description:U.message})}b(!1)}});return C.jsxs(uW,{children:[C.jsx(lW,{asChild:!0,onClick:()=>{vH(E2(i,`distfiles/${e.canonicalName}.tar.gz`)).then(k=>{f(k)}).catch(k=>{console.error(k)})},children:C.jsxs(Gl,{className:"items text-center cursor-pointer",children:[C.jsx(Kl,{children:C.jsx(Yl,{children:e.title})}),C.jsxs(Ql,{children:[C.jsx("div",{className:"flex justify-center gap-2",children:e.tags.map(k=>C.jsx(iP,{children:k},k))}),C.jsxs("div",{children:[C.jsxs("div",{className:"point",children:[C.jsx("span",{className:"font-bold",children:e.score??"???"}),C.jsx("span",{className:"text-sm",children:"pt"})]}),C.jsx("div",{className:"solved",children:C.jsxs("span",{className:"text-sm",children:[l," Solved"]})})]})]})]})}),C.jsxs(jP,{className:"sm:max-w-md max-h-screen overflow-auto",children:[C.jsxs(zP,{children:[C.jsx(WP,{children:e.title}),C.jsxs(qP,{className:"flex justify-between",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsxs("div",{className:"point",children:[C.jsx("span",{className:"font-bold",children:e.score??"???"}),C.jsx("span",{className:"text-sm",children:"pt"})]}),C.jsx("div",{className:"solved",children:C.jsxs("span",{className:"text-sm",children:[l," Solved"]})})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsxs("div",{className:"author",children:["authored by "," ",C.jsx("span",{className:"font-bold",children:e.authors.join(" & ")})]}),h&&C.jsx("div",{className:"text-right text-base text-black",children:C.jsxs("a",{href:h,className:"inline-flex underline text-sky-500 items-center",children:[C.jsx(oW,{className:"mr-1 size-4"}),"Attachment"]})})]})]})]}),C.jsx("div",{className:"grid flex-1 gap-2",children:C.jsx(Pte,{children:(k=>{let U=k;for(const A of t)for(const[I,R]of Object.entries(A.services))U=U.replaceAll(`{${I}.host}`,R.host),U=U.replaceAll(`{${I}.port}`,R.port.toString());return t.length>0&&!t.some(A=>A.state==="waiting")?U=U.replaceAll("<spawned>","").replaceAll("</spawned>",""):U=U.replaceAll(/<spawned>[\s\S]*?<\/spawned>/g,""),U})(e.description)})}),t.length===0&&(((w=e.remote)==null?void 0:w.spawner.ttl)??-1)>0&&C.jsxs(bn,{variant:"outline",onClick:y,disabled:p||n,children:["Spawn Instance",C.jsx(sW,{className:"h-4 w-4"})]}),t.length>0&&t.map(k=>k.state==="waiting"&&C.jsxs(bn,{variant:"outline",disabled:!0,children:[C.jsx(aW,{className:"mr-2 h-4 w-4 animate-spin"}),"Spawning Instance"]})),t.length>0&&t.map(k=>k.state==="running"&&C.jsx("div",{children:k.destroyedAt!==void 0&&(Math.floor((k.destroyedAt.getTime()-a.getTime())/1e3)>0?C.jsxs("p",{children:["Challenge instance will shutdown in ",Math.floor((k.destroyedAt.getTime()-a.getTime())/1e3),"s."]}):C.jsx("p",{children:"Destroying instance..."}))})),t.length>0&&t.map(k=>{var U;return k.state==="waiting"&&(((U=e.remote)==null?void 0:U.spawner.ttl)??-1)>0&&C.jsx(bn,{variant:"destructive",onClick:async()=>{try{await Wl(k._ref),o({title:"Instance destroyed"})}catch(L){o({title:"Failed to destroy instance",description:L.message})}},children:"Cancel"})}),t.length>0&&t.map(k=>{var U;return k.state==="running"&&(((U=e.remote)==null?void 0:U.spawner.ttl)??0)>0&&C.jsx(C.Fragment,{children:C.jsx(bn,{variant:"destructive",onClick:async()=>{try{await Wl(k._ref),o({title:"Instance destroyed"})}catch(L){o({title:"Failed to destroy instance",description:L.message})}},children:"Destroy Instance"})})}),t.length>0&&t.map(k=>{var U;return k.state==="error"&&(((U=e.remote)==null?void 0:U.spawner.ttl)??-1)>0&&C.jsxs(C.Fragment,{children:[C.jsx(Ey,{variant:"destructive",children:k.error}),C.jsx(bn,{variant:"destructive",onClick:async()=>{try{await Wl(k._ref),o({title:"Instance destroyed"})}catch(L){o({title:"Failed to destroy instance",description:L.message})}},children:"Destroy Instance"})]})}),C.jsx("form",{onSubmit:k=>{k.preventDefault(),k.stopPropagation(),v.handleSubmit()},children:C.jsx($P,{className:"sm:justify-start",children:C.jsx(v.Field,{name:"flag",validators:{onChange:({value:k})=>new RegExp(e.flagFormat).test(k)?void 0:"Invalid flag format",onSubmit:({value:k})=>new RegExp(e.flagFormat).test(k)?void 0:"Invalid flag format"},children:k=>C.jsxs(C.Fragment,{children:[C.jsx(sP,{name:k.name,type:"text",placeholder:e.flagFormat,className:"text-md",disabled:n,onChange:U=>k.handleChange(U.target.value)}),C.jsx(bn,{type:"submit",variant:"secondary",disabled:n||E||k.state.meta.errors.length>0,children:E?"Submitting...":"Submit"})]})})})}),n&&C.jsxs(Ey,{variant:"default",className:"border-green-600 text-green-600",children:[C.jsx(iW,{className:"h-4 w-4",color:"green"}),C.jsx(GP,{children:"Great Job!"}),C.jsx(KP,{children:"You have already solved this challenge."})]})]})]})}const Ote=()=>{const{firestore:e}=Vt(),{user:t}=B2(),[n,r]=x.useState([]);return x.useEffect(()=>{if(t===null||t.team===void 0||t.team===void 0)return;const i=li(Ht(e,"instances"),hd("team","==",t.team)),s=ci(i.withConverter(ur(Wv)),r);return()=>{s()}},[t]),{instances:n}},QO=()=>{const{firestore:e}=Vt(),[t,n]=x.useState([]);return x.useEffect(()=>{const r=li(Ht(e,"instances"),hd("public","==",!0)),i=ci(r.withConverter(ur(Wv)),n);return()=>{i()}},[]),{instances:t}},Dte=kn("/_authed/admin/challenges_view")({component:Lte});function Lte(){const{challenges:e}=V2(),{solves:t}=_j(),{instances:n}=Ote(),{instances:r}=QO(),[i,s]=x.useState([]),[o,a]=x.useState(!1);return C.jsxs("div",{className:"lg:p-8 flex flex-col gap-8",children:[C.jsx("h2",{className:"sub-heading",children:"Challenges"}),C.jsxs("div",{className:"filter flex flex-row gap-8",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx(fp,{checked:o,onClick:()=>a(!o),id:"filter-hide"}),C.jsx(gy,{className:"text-base",htmlFor:"filter-hide",children:"Hide solved"})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx(gy,{className:"text-base",children:"Filter by genres"}),Array.from(new Set(e.map(u=>u.tags).flat())).map(u=>C.jsx(iP,{variant:i.includes(u)?"outline":"secondary",onClick:()=>s(l=>l.includes(u)?l.filter(c=>c!==u):[...l,u]),children:u}))]})]}),C.jsx("div",{className:"challenges grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 gap-4",children:e.filter(u=>!i.some(c=>{const h=u.tags;return!(h!=null&&h.includes(c))})).filter(u=>o===!1||t.map(l=>l.challenge.id).includes(u._ref.id)===!1).sort((u,l)=>(u.order||0)-(l.order||0)).map(u=>u!==void 0&&C.jsx(Nte,{challenge:u,instances:[...r,...n].filter(l=>l.challenge.id===u._ref.id),solved:t.map(l=>l.challenge.id).includes(u._ref.id)},u._ref.id))})]})}const Mte=kn("/_authed/admin/challenges")({component:()=>{const{firestore:e,functions:t}=Vt(),[n,r]=x.useState([]),{instances:i}=QO(),{toast:s}=fm(),[o,a]=x.useState(!1),[u,l]=x.useState([]);return x.useEffect(()=>{const c=Ht(e,"challenges").withConverter(D2),h=ci(c,r);return()=>{h(),r([])}},[]),x.useEffect(()=>(n.forEach(c=>{c.public&&l(h=>[...h,c._ref.id])}),n.length>0&&n.every(c=>c.public)&&a(!0),()=>{l([])}),[n]),C.jsxs("div",{children:[C.jsx("h1",{children:"Challenges"}),C.jsxs(Gv,{children:[C.jsx(Kv,{children:C.jsxs(qa,{children:[C.jsx(Gr,{children:"Title"}),C.jsx(Gr,{children:"Tags"}),C.jsx(Gr,{children:"Score / Base"}),C.jsx(Gr,{children:"Authors"}),C.jsx(Gr,{children:"Order"}),C.jsx(Gr,{children:"Remote"}),C.jsx(Gr,{children:"Remote Info"}),C.jsxs(Gr,{children:["Public",C.jsx("div",{className:"text-muted-foreground text-xs",children:C.jsx(fp,{onClick:()=>{l(o?[]:n.map(c=>c._ref.id)),a(!o)},checked:o})}),C.jsx(bn,{variant:"outline",size:"sm",onClick:async()=>{try{const c=s8(e.firestore);for(const h of n)h.public!==u.includes(h._ref.id)&&c.set(Mn(e,"challenges",h._ref.id),{public:u.includes(h._ref.id)},{merge:!0});await c.commit(),s({title:"Public status applied"})}catch(c){s({title:"Failed to apply public status",description:c.message})}},children:"Apply"})]})]})}),C.jsx(Yv,{children:n.sort((c,h)=>(c.order||0)-(h.order||0)).map(c=>C.jsxs(qa,{children:[C.jsx(Ir,{children:c.title}),C.jsx(Ir,{children:c.tags.join(", ")}),C.jsxs(Ir,{children:[c.score??"???"," / ",c.baseScore]}),C.jsx(Ir,{children:c.authors.join(", ")}),C.jsx(Ir,{children:c.order}),C.jsx(Ir,{children:c.remote===void 0?"no remotes":c.remote.spawner.ttl>0?"private spawner":(h=>h.length===0?C.jsx(bn,{onClick:async()=>{try{await ip(t,"spawnInstance")({challengeId:c._ref.id,tenantId:Dc})}catch(f){s({title:"Failed to spawn instance",description:f.message})}},children:"Launch"}):h.map(f=>C.jsxs(C.Fragment,{children:[f.state==="waiting"&&C.jsx(bn,{disabled:!0,children:"Spawning..."}),f.state==="running"&&C.jsx(bn,{variant:"destructive",onClick:async()=>{try{await Wl(Mn(e,"instances",f._ref.id)),s({title:"Instance destroyed"})}catch(p){s({title:"Failed to destroy instance",description:p.message})}},children:"Destroy"}),f.state==="error"&&C.jsx(bn,{variant:"destructive",onClick:async()=>{try{await Wl(Mn(e,"instances",f._ref.id)),s({title:"Instance destroyed"})}catch(p){s({title:"Failed to destroy instance",description:p.message})}},children:"Destroy"})]})))(i.filter(h=>h.challenge.id===c._ref.id))}),C.jsx(Ir,{children:c.remote!==void 0&&c.remote.spawner.ttl===0&&i.filter(h=>h.challenge.id===c._ref.id).map(h=>C.jsxs(C.Fragment,{children:[h.state==="running"&&Object.entries(h.services).map(([f,p])=>C.jsxs("p",{children:[f,": ",p.host,":",p.port]})),h.state==="error"&&C.jsx("div",{className:"leading-none text-muted-foreground",children:h.error})]}))}),C.jsx(Ir,{children:C.jsx(fp,{checked:u.includes(c._ref.id),onClick:()=>{u.includes(c._ref.id)?l(h=>h.filter(f=>f!==c._ref.id)):l(h=>[...h,c._ref.id])}})})]},c._ref.id))})]})]})}}),Fte=kn("/scoreboard")(),Vte=kn("/rules")(),Bte=kn("/auth")(),Ute=kn("/about")(),Hte=kn("/_authed/mypage")(),jte=kn("/_authed/challenges")(),zte=Fte.update({id:"/scoreboard",path:"/scoreboard",getParentRoute:()=>ro}).lazy(()=>bu(()=>import("./scoreboard.lazy-C0BqeHyC.js"),[]).then(e=>e.Route)),$te=Vte.update({id:"/rules",path:"/rules",getParentRoute:()=>ro}).lazy(()=>bu(()=>import("./rules.lazy-CdBv4ikf.js"),[]).then(e=>e.Route)),Wte=Bte.update({id:"/auth",path:"/auth",getParentRoute:()=>ro}).lazy(()=>bu(()=>import("./auth.lazy-C2m7nmp7.js"),__vite__mapDeps([0,1])).then(e=>e.Route)),qte=Ute.update({id:"/about",path:"/about",getParentRoute:()=>ro}).lazy(()=>bu(()=>import("./about.lazy-BqfwG4DR.js"),[]).then(e=>e.Route)),Gte=Y7.update({id:"/init",path:"/init",getParentRoute:()=>ro}),Sd=X7.update({id:"/_authed",getParentRoute:()=>ro}),Kte=Z7.update({id:"/",path:"/",getParentRoute:()=>ro}),Yte=Hte.update({id:"/mypage",path:"/mypage",getParentRoute:()=>Sd}).lazy(()=>bu(()=>import("./mypage.lazy-CCoZqLVT.js"),__vite__mapDeps([2,1])).then(e=>e.Route)),Qte=jte.update({id:"/challenges",path:"/challenges",getParentRoute:()=>Sd}).lazy(()=>bu(()=>import("./challenges.lazy-DUXiDdHM.js"),[]).then(e=>e.Route)),Xte=ej.update({id:"/logout",path:"/logout",getParentRoute:()=>Sd}),bd=tj.update({id:"/admin",path:"/admin",getParentRoute:()=>Sd}),Zte=vj.update({id:"/",path:"/",getParentRoute:()=>bd}),Jte=_z.update({id:"/submissions",path:"/submissions",getParentRoute:()=>bd}),ene=Dte.update({id:"/challenges_view",path:"/challenges_view",getParentRoute:()=>bd}),tne=Mte.update({id:"/challenges",path:"/challenges",getParentRoute:()=>bd}),nne={AuthedAdminChallengesRoute:tne,AuthedAdminChallengesviewRoute:ene,AuthedAdminSubmissionsRoute:Jte,AuthedAdminIndexRoute:Zte},rne=bd._addFileChildren(nne),ine={AuthedAdminRoute:rne,AuthedLogoutRoute:Xte,AuthedChallengesLazyRoute:Qte,AuthedMypageLazyRoute:Yte},sne=Sd._addFileChildren(ine),one={IndexRoute:Kte,AuthedRoute:sne,InitRoute:Gte,AboutLazyRoute:qte,AuthLazyRoute:Wte,RulesLazyRoute:$te,ScoreboardLazyRoute:zte},ane=ro._addFileChildren(one)._addFileTypes();function une(e){const t=e+"CollectionProvider",[n,r]=gm(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:b,children:y}=E,v=Ar.useRef(null),w=Ar.useRef(new Map).current;return C.jsx(i,{scope:b,itemMap:w,collectionRef:v,children:y})};o.displayName=t;const a=e+"CollectionSlot",u=Bc(a),l=Ar.forwardRef((E,b)=>{const{scope:y,children:v}=E,w=s(a,y),k=ir(b,w.collectionRef);return C.jsx(u,{ref:k,children:v})});l.displayName=a;const c=e+"CollectionItemSlot",h="data-radix-collection-item",f=Bc(c),p=Ar.forwardRef((E,b)=>{const{scope:y,children:v,...w}=E,k=Ar.useRef(null),U=ir(b,k),L=s(c,y);return Ar.useEffect(()=>(L.itemMap.set(k,{ref:k,...w}),()=>void L.itemMap.delete(k))),C.jsx(f,{[h]:"",ref:U,children:v})});p.displayName=c;function _(E){const b=s(e+"CollectionConsumer",E);return Ar.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((L,A)=>w.indexOf(L.ref.current)-w.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},_,r]}var lne=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cne="VisuallyHidden",kT=x.forwardRef((e,t)=>C.jsx(Bt.span,{...e,ref:t,style:{...lne,...e.style}}));kT.displayName=cne;var PT="ToastProvider",[NT,dne,hne]=une("Toast"),[XO,Zne]=gm("Toast",[hne]),[fne,Dm]=XO(PT),ZO=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[a,u]=x.useState(null),[l,c]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${PT}\`. Expected non-empty \`string\`.`),C.jsx(NT.Provider,{scope:t,children:C.jsx(fne,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:l,viewport:a,onViewportChange:u,onToastAdd:x.useCallback(()=>c(p=>p+1),[]),onToastRemove:x.useCallback(()=>c(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};ZO.displayName=PT;var JO="ToastViewport",pne=["F8"],zy="toast.viewportPause",$y="toast.viewportResume",eD=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=pne,label:i="Notifications ({hotkey})",...s}=e,o=Dm(JO,n),a=dne(n),u=x.useRef(null),l=x.useRef(null),c=x.useRef(null),h=x.useRef(null),f=ir(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;x.useEffect(()=>{const b=y=>{var w;r.length!==0&&r.every(k=>y[k]||y.code===k)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),x.useEffect(()=>{const b=u.current,y=h.current;if(_&&b&&y){const v=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(zy);y.dispatchEvent(L),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent($y);y.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!b.contains(L.relatedTarget)&&w()},U=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",k),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",U),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",U),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[_,o.isClosePausedRef]);const E=x.useCallback(({tabbingDirection:b})=>{const v=a().map(w=>{const k=w.ref.current,U=[k,...Ane(k)];return b==="forwards"?U:U.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return x.useEffect(()=>{const b=h.current;if(b){const y=v=>{var U,L,A;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const I=document.activeElement,R=v.shiftKey;if(v.target===b&&R){(U=l.current)==null||U.focus();return}const O=E({tabbingDirection:R?"backwards":"forwards"}),N=O.findIndex(Q=>Q===I);R0(O.slice(N+1))?v.preventDefault():R?(L=l.current)==null||L.focus():(A=c.current)==null||A.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,E]),C.jsxs($z,{ref:u,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&C.jsx(Wy,{ref:l,onFocusFromOutsideViewport:()=>{const b=E({tabbingDirection:"forwards"});R0(b)}}),C.jsx(NT.Slot,{scope:n,children:C.jsx(Bt.ol,{tabIndex:-1,...s,ref:f})}),_&&C.jsx(Wy,{ref:c,onFocusFromOutsideViewport:()=>{const b=E({tabbingDirection:"backwards"});R0(b)}})]})});eD.displayName=JO;var tD="ToastFocusProxy",Wy=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Dm(tD,n);return C.jsx(kT,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var l;const a=o.relatedTarget;!((l=s.viewport)!=null&&l.contains(a))&&r()}})});Wy.displayName=tD;var Cd="Toast",mne="toast.swipeStart",gne="toast.swipeMove",_ne="toast.swipeCancel",yne="toast.swipeEnd",nD=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=e,[a,u]=Jv({prop:r,defaultProp:i??!0,onChange:s,caller:Cd});return C.jsx(md,{present:n||a,children:C.jsx(Tne,{open:a,...o,ref:t,onClose:()=>u(!1),onPause:Ki(e.onPause),onResume:Ki(e.onResume),onSwipeStart:Lt(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Lt(e.onSwipeMove,l=>{const{x:c,y:h}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Lt(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Lt(e.onSwipeEnd,l=>{const{x:c,y:h}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});nD.displayName=Cd;var[Ene,vne]=XO(Cd,{onClose(){}}),Tne=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:l,onSwipeStart:c,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,..._}=e,E=Dm(Cd,n),[b,y]=x.useState(null),v=ir(t,Q=>y(Q)),w=x.useRef(null),k=x.useRef(null),U=i||E.duration,L=x.useRef(0),A=x.useRef(U),I=x.useRef(0),{onToastAdd:R,onToastRemove:S}=E,D=Ki(()=>{var ie;(b==null?void 0:b.contains(document.activeElement))&&((ie=E.viewport)==null||ie.focus()),o()}),O=x.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(I.current),L.current=new Date().getTime(),I.current=window.setTimeout(D,Q))},[D]);x.useEffect(()=>{const Q=E.viewport;if(Q){const ie=()=>{O(A.current),l==null||l()},le=()=>{const fe=new Date().getTime()-L.current;A.current=A.current-fe,window.clearTimeout(I.current),u==null||u()};return Q.addEventListener(zy,le),Q.addEventListener($y,ie),()=>{Q.removeEventListener(zy,le),Q.removeEventListener($y,ie)}}},[E.viewport,U,u,l,O]),x.useEffect(()=>{s&&!E.isClosePausedRef.current&&O(U)},[s,U,E.isClosePausedRef,O]),x.useEffect(()=>(R(),()=>S()),[R,S]);const N=x.useMemo(()=>b?lD(b):null,[b]);return E.viewport?C.jsxs(C.Fragment,{children:[N&&C.jsx(wne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),C.jsx(Ene,{scope:n,onClose:D,children:Yc.createPortal(C.jsx(NT.ItemSlot,{scope:n,children:C.jsx(zz,{asChild:!0,onEscapeKeyDown:Lt(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||D(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(Bt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,..._,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Lt(e.onKeyDown,Q=>{Q.key==="Escape"&&(a==null||a(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Lt(e.onPointerDown,Q=>{Q.button===0&&(w.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:Lt(e.onPointerMove,Q=>{if(!w.current)return;const ie=Q.clientX-w.current.x,le=Q.clientY-w.current.y,fe=!!k.current,K=["left","right"].includes(E.swipeDirection),oe=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,F=K?oe(0,ie):0,pe=K?0:oe(0,le),ve=Q.pointerType==="touch"?10:2,B={x:F,y:pe},ge={originalEvent:Q,delta:B};fe?(k.current=B,kh(gne,h,ge,{discrete:!1})):hI(B,E.swipeDirection,ve)?(k.current=B,kh(mne,c,ge,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(ie)>ve||Math.abs(le)>ve)&&(w.current=null)}),onPointerUp:Lt(e.onPointerUp,Q=>{const ie=k.current,le=Q.target;if(le.hasPointerCapture(Q.pointerId)&&le.releasePointerCapture(Q.pointerId),k.current=null,w.current=null,ie){const fe=Q.currentTarget,K={originalEvent:Q,delta:ie};hI(ie,E.swipeDirection,E.swipeThreshold)?kh(yne,p,K,{discrete:!0}):kh(_ne,f,K,{discrete:!0}),fe.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),wne=e=>{const{__scopeToast:t,children:n,...r}=e,i=Dm(Cd,t),[s,o]=x.useState(!1),[a,u]=x.useState(!1);return Cne(()=>o(!0)),x.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:C.jsx(tT,{asChild:!0,children:C.jsx(kT,{...r,children:s&&C.jsxs(C.Fragment,{children:[i.label," ",n]})})})},Sne="ToastTitle",rD=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return C.jsx(Bt.div,{...r,ref:t})});rD.displayName=Sne;var bne="ToastDescription",iD=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return C.jsx(Bt.div,{...r,ref:t})});iD.displayName=bne;var sD="ToastAction",oD=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?C.jsx(uD,{altText:n,asChild:!0,children:C.jsx(OT,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sD}\`. Expected non-empty \`string\`.`),null)});oD.displayName=sD;var aD="ToastClose",OT=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=vne(aD,n);return C.jsx(uD,{asChild:!0,children:C.jsx(Bt.button,{type:"button",...r,ref:t,onClick:Lt(e.onClick,i.onClose)})})});OT.displayName=aD;var uD=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return C.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function lD(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Ine(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lD(r))}}),t}function kh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Y2(i,s):i.dispatchEvent(s)}var hI=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function Cne(e=()=>{}){const t=Ki(e);Ho(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Ine(e){return e.nodeType===e.ELEMENT_NODE}function Ane(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function R0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Rne=ZO,cD=eD,dD=nD,hD=rD,fD=iD,pD=oD,mD=OT;const xne=Rne,gD=x.forwardRef(({className:e,...t},n)=>C.jsx(cD,{ref:n,className:ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gD.displayName=cD.displayName;const kne=fd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_D=x.forwardRef(({className:e,variant:t,...n},r)=>C.jsx(dD,{ref:r,className:ze(kne({variant:t}),e),...n}));_D.displayName=dD.displayName;const Pne=x.forwardRef(({className:e,...t},n)=>C.jsx(pD,{ref:n,className:ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pne.displayName=pD.displayName;const yD=x.forwardRef(({className:e,...t},n)=>C.jsx(mD,{ref:n,className:ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:C.jsx(UP,{className:"h-4 w-4"})}));yD.displayName=mD.displayName;const ED=x.forwardRef(({className:e,...t},n)=>C.jsx(hD,{ref:n,className:ze("text-sm font-semibold",e),...t}));ED.displayName=hD.displayName;const vD=x.forwardRef(({className:e,...t},n)=>C.jsx(fD,{ref:n,className:ze("text-sm opacity-90",e),...t}));vD.displayName=fD.displayName;function Nne(){const{toasts:e}=fm();return C.jsxs(xne,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return C.jsxs(_D,{...s,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(ED,{children:n}),r&&C.jsx(vD,{children:r})]}),i,C.jsx(yD,{})]},t)}),C.jsx(gD,{})]})}const One=Z4({routeTree:ane,context:{firebase:void 0}});function Dne(){const e=Vt();return C.jsx(t6,{router:One,context:{firebase:e}})}const fI=document.getElementById("root");fI.innerHTML||x0.createRoot(fI).render(C.jsx(x.StrictMode,{children:C.jsxs(CH,{children:[C.jsx(Dne,{}),C.jsx(Nne,{})]})}));export{bI as $,Xr as A,bn as B,nf as C,rf as D,fP as E,LF as F,d$ as G,H$ as H,sP as I,bz as J,Ho as K,Qn as L,tT as M,_P as N,Bc as O,Bt as P,n$ as Q,b$ as R,lP as S,eT as T,iW as U,ur as V,Xt as W,gj as X,sp as Y,di as Z,ed as _,Fne as a,Mn as a0,B2 as a1,ip as a2,Dc as a3,gy as a4,Gl as a5,Kl as a6,Yl as a7,nj as a8,Ql as a9,rj as aa,Sz as ab,_j as ac,Ote as ad,QO as ae,fp as af,iP as ag,Nte as ah,Ej as b,gd as c,Vt as d,fm as e,wW as f,Hne as g,gm as h,Une as i,C as j,une as k,e0 as l,Lt as m,ir as n,Jv as o,Ki as p,md as q,x as r,Bne as s,ze as t,V2 as u,Yc as v,hd as w,g3 as x,c$ as y,a$ as z};
